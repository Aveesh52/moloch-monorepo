{"version":3,"sources":["assets/hood.png","assets/bull.png","components/Background.js","helpers/graphQlQueries.js","web3.js","components/Header.js","components/Wrapper.js","helpers/currency.js","components/Home.js","components/ProgressBar.js","helpers/proposals.js","components/ProposalDetail.js","components/ProposalList.js","components/MemberDetail.js","components/MemberList.js","components/ProposalSubmission.js","resolvers.js","schema.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Background","react_default","a","createElement","id","className","gql","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","moloch","token","medianizer","eth","GET_METADATA","_templateObject6","GET_MEMBER_DETAIL","_templateObject7","GET_MEMBER_BY_DELEGATE_KEY","_templateObject8","GET_MEMBER_DETAIL_WITH_VOTES","_templateObject9","GET_MEMBERS","_templateObject10","GET_PROPOSALS","_templateObject11","GET_ACTIVE_PROPOSAL_LIST","_templateObject12","GET_COMPLETED_PROPOSAL_LIST","_templateObject13","GET_PROPOSAL_DETAIL","_templateObject14","_templateObject15","_templateObject16","molochAbi","require","erc20Abi","medianizerAbi","initWeb3","_x","_initWeb","apply","this","arguments","_callee","client","regenerator_default","wrap","_context","prev","next","localStorage","getItem","initGnosisSafe","initMetamask","stop","checkNetwork","_callee2","network","_context2","getNetwork","sent","console","log","chainId","alert","abrupt","_x3","_initMetamask","_callee3","coinbase","web3Provider","_context3","window","ethereum","web3","enable","currentProvider","ethers","providers","Web3Provider","setItem","listAccounts","toLowerCase","writeData","data","loggedInUser","_x4","_initGnosisSafe","_callee4","provider","_context4","SafeProvider","rpcUrl","process","getEthSigner","_getEthSigner","_callee5","_context5","Error","initMoloch","_x5","_initMoloch","_callee6","_context6","Contract","getSigner","getDefaultProvider","initToken","_x6","_initToken","_callee7","_context7","initMedianizer","_initMedianizer","_callee8","_context8","getMoloch","_x7","_getMoloch","_callee9","_context9","getToken","_x8","_getToken","_callee10","_context10","getMedianizer","_getMedianizer","_callee11","_context11","MainMenuWrapped","withApollo","props","member","isActive","Fragment","Dropdown","Item","onClick","_handleCloseDropdown","react_router_dom","to","concat","Icon","name","Divider","icon","content","_handleOpenDropdown","onLoadChangeDelegateKey","onLoadWithdrawLootToken","Object","asyncToGenerator","mark","resetStore","populateData","location","reload","ChangeDelegateKeyMenu","state","newDelegateKey","submitChangeDelegateKey","tx","_this","updateDelegateKey","_this2","onLoadMain","Form","Input","placeholder","onChange","event","setState","target","value","Button","React","Component","WithdrawLootTokenMenu","ragequitAmount","submitRagequit","_this3","ragequit","_this4","Header","visibleMenu","visibleRightMenu","logIn","method","_this5","topRightMenuContent","_this6","Header_ChangeDelegateKeyMenu","Header_WithdrawLootTokenMenu","_this7","react_apollo_esm","query","variables","address","_ref5","loading","error","Grid","columns","verticalAlign","Column","textAlign","open","onBlur","onFocus","text","substring","Menu","direction","getTopRightMenuContent","Wrapper","_ref","children","currencyFormatter","Intl","NumberFormat","style","currency","minimumFractionDigits","convertWeiToDollars","weiAmount","exchangeRate","weitoEth","utils","formatEther","exchWeiToEth","format","parseFloat","Composed","adopt","members","render","proposals","_ref2","metadata","_ref3","NumMembers","_ref4","size","color","length","NumProposals","HomePage","approval","userAddress","handleChange","e","handleSubmit","_this$state","parseEther","toString","approve","_ref7","Segment","membersLoading","proposalsLoading","_metadata$data","guildBankValue","totalShares","shareValue","mobile","tablet","computer","Statistic","inverted","label","Home_NumMembers","Home_NumProposals","Modal","basic","trigger","Content","onSubmit","Field","type","width","Row","floated","toFixed","ProgressBar","yes","no","total","percentYes","Math","round","percentNo","position","Progress","percent","top","PERIOD_DURATION","ProposalStatus","Unknown","InQueue","VotingPeriod","GracePeriod","Aborted","Passed","Failed","ReadyForProcessing","periodsToTime","periods","seconds","days","floor","hours","minutes","string","getProposalCountdownText","proposal","status","votingStarts","votingEnds","gracePeriod","inQueue","currentPeriod","startingPeriod","inGracePeriod","inVotingPeriod","passedVotingAndGrace","Vote","Null","Yes","No","MemberAvatar","title","Image","src","hood","centered","proposalDetail","delegateKey","ProposalDetail","tokenTribute","sharesRequested","votingEnded","graceEnded","yesVotes","noVotes","votes","user","shares","showToast","txStatus","handleNo","monitorTx","submitVote","proposalIndex","handleYes","handleProcess","processProposal","txPromise","toastProvider","addMessage","then","_ref8","removeMessage","secondaryMessage","actionHref","hash","actionText","variant","wait","catch","getToastMessage","index_es","Processing","message","Success","ProposalDetail_Composed","match","params","_ref9","yesShares","reduce","totalVotes","vote","uintVote","parseInt","noShares","userHasVoted","find","cannotVote","aborted","Linkify_default","properties","description","href","applicantAddress","rel","bigNumberify","mul","vertical","map","idx","ProposalDetail_MemberAvatar","key","components_ProgressBar","disabled","Provider","ref","node","ProposalCard","pathname","activeProposalsResult","completedProposalsResult","ProposalList","ProposalList_Composed","_ref6","completedProposals","sortProposals","b","filter","sort","votingPeriod","readyForProcessing","panes","menuItem","Tab","Pane","attached","index","ProposalList_ProposalCard","menu","secondary","pointing","ProposalListView","react_router","exact","path","ProposalList_ProposalList","assign","ProposalDetail_ProposalDetail","memberDetail","MemberDetail","bull","fontSize","Label","circular","empty","Date","timestamp","toISOString","slice","elements_Header_Header","as","MemberDetailView","MemberDetail_Composed","MemberDetail_MemberDetail","MemberDetail_ProposalDetail","LoggedInUser","GET_ELDERS","MemberList_templateObject","Elders","elder","MemberList_MemberAvatar","GET_NON_ELDERS","MemberList_templateObject2","Contributors","contributor","MemberList","MemberList_LoggedInUser","paddingLeft","MemberList_Elders","MemberList_Contributors","MemberListView","higherProps","MemberList_MemberList","components_MemberDetail","DEPOSIT_WETH","SubmitModal","beneficiaryApproved","depositApproved","handleOpen","_this$props","tribute","beneficiaryAllowance","depositAllowance","valid","allowance","gte","handleClose","_this$props2","submittedTx","List","Actions","ProposalSubmission","fieldValidationErrors","assets","titleValid","descriptionValid","tributeValid","sharesValid","addressValid","formValid","validateField","fieldName","_this2$state","isHexString","validateForm","_this2$state2","handleInput","defineProperty","_this2$state3","JSON","stringify","submitProposal","t0","_this$state2","stretched","transparent","fluid","TextArea","rows","ProposalSubmission_SubmitModal","resolvers","Proposal","_args","processed","didPass","determineProposalStatus","cache","readQuery","details","parse","Mutation","setAttributes","_","fragment","resolvers_templateObject","readFragment","objectSpread","typeDefs","schema_templateObject","InMemoryCache","ApolloClient","link","HttpLink","uri","initialData","onResetStore","IS_LOGGED_IN","App_templateObject","loggedInUserData","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","restored","refetch","compute","getCurrentPeriod","balanceOf","ethPerShare","gt","toNumber","dataToWrite","basename","App_Composed","Header_Header","Home_HomePage","components_ProposalList","components_MemberList","ProposalSubmission_ProposalSubmission","component","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4ea0896e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/hood.ba69d28c.png\";","module.exports = __webpack_public_path__ + \"static/media/bull.204229a6.png\";","import React from 'react';\n\n\nexport default () => (\n  <div id=\"background\">\n    <div className=\"blurred_image\" />\n    <div className=\"dark_overlay\" />\n  </div>\n)\n","import gql from \"graphql-tag\";\n\nexport const GET_EXCHANGE_RATE = gql`\n  query ExchangeRate {\n    exchangeRate @client\n  }\n`;\n\nexport const GET_TOTAL_SHARES = gql`\n  query TotalShares {\n    totalShares @client\n  }\n`;\n\nexport const GET_GUILD_BANK_VALUE = gql`\n  query GuildBankValue {\n    guildBankValue @client\n  }\n`;\n\nexport const GET_SHARE_VALUE = gql`\n  query ShareValue {\n    shareValue @client\n  }\n`;\n\nexport const GET_CURRENT_PERIOD = gql`\n  query CurrentPeriod {\n    currentPeriod @client\n  }\n`;\n\nexport const GET_METADATA = gql`\n  query Metadata {\n    exchangeRate @client\n    totalShares @client\n    guildBankValue @client\n    shareValue @client\n    currentPeriod @client\n  }\n`;\n\nexport const GET_MEMBER_DETAIL = gql`\n  query Member($address: String!) {\n    member(id: $address) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n  }\n`;\n\nexport const GET_MEMBER_BY_DELEGATE_KEY = gql`\n  query Member($delegateKey: String!) {\n    members(where: { delegateKey: $delegateKey }) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n  }\n`;\n\nexport const GET_MEMBER_DETAIL_WITH_VOTES = gql`\n  query Member($address: String!) {\n    member(id: $address) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n      votes {\n        uintVote\n          proposal {\n          id\n          timestamp\n          tokenTribute\n          sharesRequested\n          processed\n          didPass\n          aborted\n          yesVotes\n          noVotes\n          proposalIndex\n          details\n          status @client\n          title @client\n          description @client\n          gracePeriod @client\n          votingEnds @client\n          votingStarts @client\n          readyForProcessing @client\n        }\n      }\n    }\n  }\n`;\n\nexport const GET_MEMBERS = gql`\n  {\n    members(first: 100, where: { shares_gt: 0, isActive: true }) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n  }\n`;\n\n// TODO filter this to get current proposals?\nexport const GET_PROPOSALS = gql`\n  {\n    proposals(first: 100) {\n      id\n    }\n  }\n`;\n\nexport const GET_ACTIVE_PROPOSAL_LIST = gql`\n  {\n    proposals(first: 100, orderBy: proposalIndex, orderDirection: desc, where: { processed: false }) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      votes(first: 100) {\n        member {\n          shares\n        }\n        uintVote\n      }\n      details\n      startingPeriod\n      processed\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n`;\n\nexport const GET_COMPLETED_PROPOSAL_LIST = gql`\n  {\n    proposals(first: 100, orderBy: proposalIndex, orderDirection: desc, where: { processed: true } ) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      votes(first: 100) {\n        member {\n          shares\n        }\n        uintVote\n      }\n      details\n      startingPeriod\n      processed\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n`;\n\nexport const GET_PROPOSAL_HISTORY = gql`\n  query Proposals($id: String!) {\n    votes(first: 100, where: { memberAddress: $id }) {\n      uintVote\n      proposal {\n        id\n        timestamp\n        tokenTribute\n        sharesRequested\n        processed\n        didPass\n        aborted\n        yesVotes\n        noVotes\n        proposalIndex\n        details\n        startingPeriod\n        processed\n        status @client\n        title @client\n        description @client\n        gracePeriod @client\n        votingEnds @client\n        votingStarts @client\n        readyForProcessing @client\n      }\n    }\n  }\n`;\n\nexport const GET_PROPOSAL_DETAIL = gql`\n  query Proposal($id: String!) {\n    proposal(id: $id) {\n      id\n      applicantAddress\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      votes(first: 100) {\n        member {\n          id\n          shares\n        }\n        uintVote\n      }\n      details\n      startingPeriod\n      processed\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n`;\n\nexport const SET_PROPOSAL_ATTRIBUTES = gql`\n  mutation SetAttributes(\n    $status: String!, \n    $title: String!, \n    $description: String!, \n    $gracePeriod: Number!, \n    $votingEnds: Number!, \n    $votingStarts: Number!, \n    $readyForProcessing: Bool!\n  ) {\n    setAttributes(\n      status: $status, \n      title: $title, \n      description: $description, \n      gracePeriod: $gracePeriod, \n      votingEnds: $votingEnds, \n      votingStarts: $votingStarts, \n      readyForProcessing: $readyForProcessing\n    ) @client {\n      status\n      title\n      description\n      gracePeriod\n      votingEnds\n      votingStarts\n      readyForProcessing\n    }\n  }\n`;\n","import SafeProvider from \"safe-web3-provider\"\nimport { ethers } from 'ethers';\n\nconst molochAbi = require('./abi/Moloch.abi.json')\nconst erc20Abi = require('./abi/ERC20.abi.json')\nconst medianizerAbi = require('./abi/Medianizer.abi.json')\n\nlet moloch\nlet token\nlet medianizer\nlet eth\n\nexport async function initWeb3(client) {\n  const loginMethod = localStorage.getItem(\"loginType\")\n  if (loginMethod === \"gnosis\") {\n    await initGnosisSafe(client)\n  } else {\n    await initMetamask(client)\n  }\n}\n\nasync function checkNetwork(eth) {\n  const network = await eth.getNetwork()\n  console.log('network: ', network);\n  if (network.chainId !== 1) {\n    alert('Please set Web3 provider to Mainnet and try again.')\n    return false\n  }\n  return true\n}\n\nexport async function initMetamask(client) {\n  if (!window.ethereum && !window.web3) {\n    // Non-DApp browsers won't work.\n    alert(\"Web3 not detected.\");\n  }\n  let coinbase = \"\"\n  if (window.ethereum) {\n    // Modern DApp browsers need to enable Metamask access.\n    await window.ethereum.enable()\n    let web3Provider = window['ethereum'] || window.web3.currentProvider\n    eth = new ethers.providers.Web3Provider(web3Provider);\n    if (await checkNetwork(eth)) {\n      localStorage.setItem(\"loginType\", \"metamask\");\n      coinbase = (await eth.listAccounts())[0].toLowerCase();\n    }\n  }\n  client.writeData({\n    data: {\n      loggedInUser: coinbase\n    }\n  });\n  window.localStorage.setItem(\"loggedInUser\", coinbase)\n  return eth\n}\n\nexport async function initGnosisSafe(client) {\n  /**\n   *  Create Safe Provider\n   */\n  const provider = new SafeProvider({\n    // TODO: CHANGE THIS TO INFURA/ALCHEMY\n    rpcUrl: process.env.REACT_APP_ETH_URL\n  });\n\n  /**\n   *  Create Web3\n   */\n  let coinbase = \"\"\n  eth = new ethers.providers.Web3Provider(provider);\n  if (await checkNetwork(eth)) {\n    localStorage.setItem(\"loginType\", \"gnosis\");\n    coinbase = (await eth.listAccounts())[0].toLowerCase();\n  }\n  client.writeData({\n    data: {\n      loggedInUser: coinbase\n    }\n  });\n  window.localStorage.setItem(\"loggedInUser\", coinbase)\n}\n\nexport async function getEthSigner() {\n  if (!eth) {\n    if (localStorage.getItem(\"loginType\") === \"metamask\") {\n      eth = await initMetamask()\n    } else if (localStorage.getItem(\"loginType\") === \"gnosis\") {\n      eth = await initGnosisSafe()\n    } else {\n      throw new Error(\"Not logged in with web3.\")\n    }\n  }\n  return eth\n}\n\nexport async function initMoloch(loggedInUser) {\n  if (loggedInUser) {\n    eth = await getEthSigner()\n    moloch = new ethers.Contract(process.env.REACT_APP_MOLOCH_ADDRESS, molochAbi, eth.getSigner())\n  } else {\n    const provider = ethers.getDefaultProvider();\n    moloch = new ethers.Contract(process.env.REACT_APP_MOLOCH_ADDRESS, molochAbi, provider)\n  }\n  return moloch\n}\n\nexport async function initToken(loggedInUser) {\n  if (loggedInUser) {\n    eth = await getEthSigner()\n    token = new ethers.Contract(process.env.REACT_APP_TOKEN_ADDRESS, erc20Abi, eth.getSigner())\n  } else {\n    const provider = ethers.getDefaultProvider();\n    token = new ethers.Contract(process.env.REACT_APP_TOKEN_ADDRESS, erc20Abi, provider)\n  }\n  // token = new web3.eth.Contract(erc20Abi, process.env.REACT_APP_TOKEN_ADDRESS)\n  return token\n}\n\nexport async function initMedianizer() {\n  // pull from mainnet\n  let provider = ethers.getDefaultProvider();\n  medianizer = new ethers.Contract(process.env.REACT_APP_MEDIANIZER_ADDRESS, medianizerAbi, provider)\n  return medianizer\n}\n\nexport async function getMoloch(loggedInUser) {\n  await initMoloch(loggedInUser)\n  return moloch\n}\n\nexport async function getToken(loggedInUser) {\n  await initToken(loggedInUser)\n  return token\n}\n\nexport async function getMedianizer() {\n  if (!medianizer) {\n    await initMedianizer()\n  }\n  return medianizer\n}","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Grid, Icon, Dropdown, Form, Button } from \"semantic-ui-react\";\nimport { Query, withApollo } from \"react-apollo\";\nimport { GET_MEMBER_DETAIL } from \"../helpers/graphQlQueries\";\nimport { getMoloch, initMetamask, initGnosisSafe } from \"../web3\";\n\nconst MainMenu = props => (\n  <div className=\"dropdownItems\">\n    {props.member && props.member.isActive ? (\n      <>\n        <Dropdown.Item className=\"item\" onClick={() => props._handleCloseDropdown()}>\n          <Link to={`/members/${props.member.id}`} className=\"link\">\n            <p>\n              <Icon name=\"user\" />\n              View Profile\n            </p>\n          </Link>\n        </Dropdown.Item>\n        <Dropdown.Divider />\n        <Dropdown.Item\n          icon=\"key\"\n          className=\"item\"\n          content=\"Change Delegate Key\"\n          onClick={() => {\n            props._handleOpenDropdown();\n            props.onLoadChangeDelegateKey();\n          }}\n        />\n        <Dropdown.Divider />\n        <Dropdown.Item\n          icon=\"dollar\"\n          className=\"item\"\n          content=\"Ragequit\"\n          onClick={() => {\n            props._handleOpenDropdown();\n            props.onLoadWithdrawLootToken();\n          }}\n        />\n        <Dropdown.Divider />\n      </>\n    ) : null}\n    <Dropdown.Item className=\"item\">\n      <Link\n        to=\"/login\"\n        className=\"link\"\n        onClick={async () => {\n          props._handleCloseDropdown();\n          window.localStorage.setItem(\"loggedInUser\", \"\");\n          await props.client.resetStore();\n          await props.populateData(true);\n          window.location.reload();\n        }}\n      >\n        <p>\n          <Icon name=\"power off\" />\n          Sign Out\n        </p>\n      </Link>\n    </Dropdown.Item>\n  </div>\n);\nconst MainMenuWrapped = withApollo(MainMenu);\n\nclass ChangeDelegateKeyMenu extends React.Component {\n  state = {\n    newDelegateKey: \"\"\n  }\n\n  submitChangeDelegateKey = async () => {\n    const { newDelegateKey } = this.state;\n    const { moloch } = this.props\n\n    console.log(`Sending moloch.updateDelegateKey(${newDelegateKey})`);\n\n    const tx = await moloch.updateDelegateKey(newDelegateKey);\n    console.log(\"tx: \", tx);\n  };\n\n  render() {\n    const { newDelegateKey } = this.state;\n    const { onLoadMain } = this.props\n    return (\n      <div>\n        <Dropdown.Item icon=\"arrow left\" className=\"item\" content=\"Back to Menu\" onClick={() => onLoadMain()} />\n        <Dropdown.Divider />\n        <Dropdown.Item className=\"item submenu\">\n          <p>\n            <Icon name=\"key\" />\n            Change Delegate Key\n          </p>\n          <Form.Input placeholder=\"Enter new key address\" onChange={event => this.setState({ newDelegateKey: event.target.value })} value={newDelegateKey} />\n          <Button onClick={this.submitChangeDelegateKey}>Save</Button>\n        </Dropdown.Item>\n      </div>\n    );\n  }\n}\n\nclass WithdrawLootTokenMenu extends React.Component {\n  state = {\n    ragequitAmount: \"\"\n  };\n\n  submitRagequit = async () => {\n    const { ragequitAmount } = this.state;\n    const { moloch } = this.props;\n\n    console.log(`Sending moloch.ragequit(${ragequitAmount})`);\n\n    const tx = await moloch.ragequit(ragequitAmount);\n    console.log(\"tx: \", tx);\n  };\n\n  render() {\n    const { ragequitAmount } = this.state;\n    const { onLoadMain } = this.props\n    return (\n      <div>\n        <Dropdown.Item icon=\"arrow left\" className=\"item\" content=\"Back to Menu\" onClick={() => onLoadMain()} />\n        <Dropdown.Divider />\n        <Dropdown.Item className=\"item submenu\">\n          <p>\n            <Icon name=\"dollar\" />\n            Ragequit\n          </p>\n          <Form.Input\n            placeholder=\"Number of shares\"\n            onChange={event => this.setState({ ragequitAmount: event.target.value })}\n            value={ragequitAmount}\n          />\n          <Button onClick={this.submitRagequit}>Withdraw</Button>\n        </Dropdown.Item>\n      </div>\n    );\n  }\n}\n\nexport default class Header extends Component {\n  state = {\n    visibleMenu: \"main\",\n    visibleRightMenu: false,\n    moloch: {},\n  };\n\n  async componentDidMount() {\n    const { loggedInUser } = this.props;\n    const moloch = await getMoloch(loggedInUser);\n    this.setState({ moloch });\n  }\n\n  _handleOpenDropdown() {\n    this.setState({ visibleRightMenu: true });\n  }\n\n  _handleCloseDropdown() {\n    this.setState({ visibleRightMenu: false });\n  }\n\n  logIn = async (method) => {\n    const { loggedInUser } = this.props;\n    const { client } = this.props\n    let eth\n    if (method === 'metamask') {\n      eth = await initMetamask(client);\n    } else if (method === 'gnosis') {\n      eth = await initGnosisSafe(client)\n    } else {\n      throw new Error('Unsupported Web3 login method')\n    }\n    if (!eth) {\n      return\n    }\n    \n    const moloch = await getMoloch(loggedInUser);\n    this.setState({ moloch });\n  }\n\n  getTopRightMenuContent(member) {\n    const { loggedInUser } = this.props;\n    let topRightMenuContent;\n    const { moloch } = this.state;\n    if (loggedInUser) {\n      switch (this.state.visibleMenu) {\n        case \"main\":\n          topRightMenuContent = (\n            <MainMenuWrapped\n              member={member}\n              _handleOpenDropdown={() => this._handleOpenDropdown()}\n              _handleCloseDropdown={() => this._handleCloseDropdown()}\n              onLoadChangeDelegateKey={() => this.setState({ visibleMenu: \"changeDelegateKey\" })}\n              onLoadWithdrawLootToken={() => this.setState({ visibleMenu: \"withdrawLootToken\" })}\n            />\n          );\n          break;\n        case \"changeDelegateKey\":\n          topRightMenuContent = (\n            <ChangeDelegateKeyMenu\n              onLoadMain={() => {\n                this._handleOpenDropdown();\n                this.setState({ visibleMenu: \"main\" });\n              }}\n              moloch={moloch}\n            />\n          );\n          break;\n        case \"withdrawLootToken\":\n          topRightMenuContent = (\n            <WithdrawLootTokenMenu\n              onLoadMain={() => {\n                this._handleOpenDropdown();\n                this.setState({ visibleMenu: \"main\" });\n              }}\n              moloch={moloch}\n            />\n          );\n          break;\n        default:\n          break;\n      }\n    } else {\n      topRightMenuContent = (\n        <>\n          <Dropdown.Item\n            icon=\"user\"\n            className=\"item\"\n            content=\"Log In With Metamask\"\n            onClick={() => this.logIn('metamask')}\n          />\n          <Dropdown.Divider />\n          <Dropdown.Item\n            icon=\"user\"\n            className=\"item\"\n            content=\"Log In With Gnosis Safe\"\n            onClick={() => this.logIn('gnosis')}\n          />\n        </>\n      );\n    }\n    return topRightMenuContent;\n  }\n\n  render() {\n    const { loggedInUser } = this.props;\n    return (\n      <Query query={GET_MEMBER_DETAIL} variables={{ address: loggedInUser }}>\n        {({ loading, error, data }) => {\n          if (loading) return \"Loading...\";\n          if (error) throw new Error(`Error!: ${error}`);\n          return (\n            <div id=\"header\">\n              <Grid columns=\"equal\" verticalAlign=\"middle\">\n                {loggedInUser ? (\n                  <Grid.Column textAlign=\"left\" className=\"menu\">\n                    {/* <Dropdown icon=\"bars\">\n                <Dropdown.Menu className=\"menu blurred\" direction=\"right\">\n                  <Link to=\"guildbank\" className=\"item\">\n                    <p>Guild Bank</p>\n                  </Link>\n                  <Dropdown.Divider />\n                  <Link to=\"/members\" className=\"item\">\n                    <p>Members</p>\n                  </Link>\n                  <Dropdown.Divider />\n                  <Link to=\"/proposals\" className=\"item\">\n                    <p>Proposals</p>\n                  </Link>\n                </Dropdown.Menu>\n              </Dropdown> */}\n                  </Grid.Column>\n                ) : null}\n                <Grid.Column textAlign=\"center\" className=\"logo\">\n                  <Link to=\"/\">MOLOCH</Link>\n                </Grid.Column>\n                  <Grid.Column textAlign=\"right\" className=\"dropdown\">\n                    <Dropdown\n                      className=\"right_dropdown\"\n                      open={this.state.visibleRightMenu}\n                      onBlur={() => this._handleCloseDropdown()}\n                      onFocus={() => this._handleOpenDropdown()}\n                      text={loggedInUser ? `${loggedInUser.substring(0, 6)}...` : 'Web3 Login'}\n                    >\n                      <Dropdown.Menu className=\"menu blurred\" direction=\"left\">\n                        {this.getTopRightMenuContent(data.member)}\n                      </Dropdown.Menu>\n                    </Dropdown>\n                  </Grid.Column>\n              </Grid>\n            </div>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n","import React from 'react';\n\n\nexport default ({ children }) => (\n  <div id=\"wrapper\">\n    { children }\n  </div>\n)","import { utils } from \"ethers\";\n\nexport const currencyFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  minimumFractionDigits: 2\n});\n\n/**\n * Converts Wei amount to Dollars\n * @param {*} weiAmount \n * @param {*} exchangeRate in Wei units\n */\nexport function convertWeiToDollars(weiAmount, exchangeRate) {\n  const weitoEth = utils.formatEther(weiAmount)\n  const exchWeiToEth = utils.formatEther(exchangeRate)\n  \n  return currencyFormatter.format(parseFloat(weitoEth * exchWeiToEth))\n}","import React from \"react\";\nimport { Grid, Button, Segment, Modal, Form, Statistic } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport { Query } from \"react-apollo\";\nimport { getToken } from \"../web3\";\nimport { utils } from \"ethers\";\nimport { GET_METADATA, GET_MEMBERS, GET_PROPOSALS } from \"../helpers/graphQlQueries\";\nimport { convertWeiToDollars } from \"../helpers/currency\";\nimport { adopt } from \"react-adopt\";\n\nconst Composed = adopt({\n  members: ({ render }) => <Query query={GET_MEMBERS}>{render}</Query>,\n  proposals: ({ render }) => <Query query={GET_PROPOSALS}>{render}</Query>,\n  metadata: ({ render }) => <Query query={GET_METADATA}>{render}</Query>\n});\n\nconst NumMembers = ({ members, loading }) => (\n  <Link to=\"/members\" className=\"link\">\n    <Button size=\"large\" color=\"grey\" className=\"btn_link\">\n      {loading ? \"...\" : members.length} Members\n    </Button>\n  </Link>\n);\n\nconst NumProposals = ({ proposals, loading }) => (\n  <Link to=\"/proposals\" className=\"link\">\n    <Button size=\"large\" color=\"grey\" className=\"btn_link\">\n      {loading ? \"...\" : proposals.length} Proposals\n    </Button>\n  </Link>\n);\n\nexport default class HomePage extends React.Component {\n  state = {\n    approval: \"\",\n    token: null,\n    userAddress: null\n  };\n\n  async componentDidMount() {\n    const { loggedInUser } = this.props;\n    const token = await getToken(loggedInUser);\n\n    this.setState({\n      token\n    });\n  }\n\n  handleChange = e => this.setState({ approval: e.target.value });\n\n  handleSubmit = async () => {\n    const { approval, token } = this.state;\n    console.log(\"Approving wETH: \", process.env.REACT_APP_MOLOCH_ADDRESS, utils.parseEther(approval).toString());\n    const tx = await token.approve(process.env.REACT_APP_MOLOCH_ADDRESS, utils.parseEther(approval));\n    console.log(\"tx: \", tx);\n  };\n\n  render() {\n    const { approval } = this.state;\n    return (\n      <Composed>\n        {({ members, proposals, metadata }) => {\n          if (metadata.loading) return <Segment className=\"blurred box\">Loading...</Segment>;\n\n          let membersLoading = false;\n          if (members.loading) {\n            membersLoading = true;\n          }\n\n          let proposalsLoading = false;\n          if (proposals.loading) {\n            proposalsLoading = true;\n          }\n\n          if (members.error) throw new Error(`Error!: ${members.error}`);\n          if (proposals.error) throw new Error(`Error!: ${proposals.error}`);\n          if (metadata.error) throw new Error(`Error!: ${metadata.error}`);\n          const { guildBankValue, exchangeRate, totalShares, shareValue } = metadata.data;\n          return (\n            <div id=\"homepage\">\n              <Grid columns={16} verticalAlign=\"middle\">\n                <Grid.Column mobile={16} tablet={6} computer={4} className=\"guild_value\">\n                  {/* <Link to=\"/guildbank\" className=\"text_link\"> */}\n                  <Statistic inverted label=\"Guild Bank Value\" value={convertWeiToDollars(guildBankValue, exchangeRate)} />\n                  {/* </Link> */}\n                </Grid.Column>\n                <Grid.Column mobile={16} tablet={10} computer={8} textAlign=\"center\" className=\"browse_buttons\">\n                  <NumMembers members={members.data.members} loading={membersLoading} />\n                  <NumProposals proposals={proposals.data.proposals} loading={proposalsLoading} />\n                </Grid.Column>\n                <Grid.Column mobile={16} tablet={6} computer={4} className=\"guild_value\">\n                  <Modal\n                    basic\n                    size=\"small\"\n                    trigger={\n                      <Button size=\"large\" color=\"grey\" className=\"browse_buttons\">\n                        Approve wETH\n                      </Button>\n                    }\n                  >\n                    <Modal.Header>Approve wETH</Modal.Header>\n                    <Modal.Content>\n                      <Form onSubmit={this.handleSubmit}>\n                        <Form.Field>\n                          <label>Amount to Approve</label>\n                          <input placeholder=\"Amount in ETH\" name=\"amount\" value={approval} onChange={this.handleChange} className=\"asset_amount\" />\n                        </Form.Field>\n                        <Button type=\"submit\" color=\"grey\" className=\"btn_link\">\n                          Submit\n                        </Button>\n                      </Form>\n                    </Modal.Content>\n                  </Modal>\n                </Grid.Column>\n\n                <Grid.Column width={16}>\n                  <Segment className=\"blurred box\">\n                    <Grid columns=\"3\" className=\"graph_values\">\n                      <Grid.Row>\n                        <Grid.Column textAlign=\"center\" floated=\"left\" mobile={16} tablet={4} computer={4}>\n                          <Statistic inverted label=\"Total Shares\" value={totalShares} />\n                        </Grid.Column>\n                        <Grid.Column textAlign=\"center\" mobile={16} tablet={4} computer={4}>\n                          <Statistic inverted label=\"Total ETH\" value={parseFloat(utils.formatEther(guildBankValue)).toFixed(2)} />\n                        </Grid.Column>\n                        <Grid.Column textAlign=\"center\" floated=\"right\" mobile={16} tablet={4} computer={4}>\n                          <Statistic inverted label=\"Share Value\" value={convertWeiToDollars(shareValue, exchangeRate)} />\n                        </Grid.Column>\n                      </Grid.Row>\n                    </Grid>\n                  </Segment>\n                </Grid.Column>\n              </Grid>\n            </div>\n          );\n        }}\n      </Composed>\n    );\n  }\n}\n","import React from 'react';\nimport { Progress, Grid } from 'semantic-ui-react';\n\n\nconst ProgressBar = ({ yes, no }) => {\n  const total = yes + no\n  const percentYes = yes === 0 ? 0 : Math.round((yes / total) * 100)\n  const percentNo = no === 0 ? 0 : Math.round((no / total) * 100)\n  return (\n  <>\n    <div style={{ position: \"relative\" }}>\n      <Progress\n        percent={percentYes + percentNo}\n        color=\"red\"\n        size=\"small\"\n        style={{\n          position: \"absolute\",\n          top: \"0\",\n          width: \"100%\"\n        }}\n        className={no === 0 ? \"hide-bar\" : \"\"}\n      />\n      <Progress percent={percentYes} color=\"green\" size=\"small\" className={yes === 0 ? \"hide-bar\" : \"\"} />\n    </div>\n    <Grid columns=\"equal\">\n      <Grid.Column floated=\"left\">{yes} Yes Votes</Grid.Column>\n      <Grid.Column floated=\"right\" textAlign=\"right\">\n        {no} No Votes\n      </Grid.Column>\n    </Grid>\n  </>\n)};\n\nexport default ProgressBar","import React from \"react\";\n\nexport const VOTING_PERIOD_LENGTH = 35;\nexport const GRACE_PERIOD_LENGTH = 35;\nexport const PERIOD_DURATION = 17280;\n\nexport const ProposalStatus = {\n  Unknown: \"Unknown\",\n  InQueue: \"InQueue\",\n  VotingPeriod: \"VotingPeriod\",\n  GracePeriod: \"GracePeriod\",\n  Aborted: \"Aborted\",\n  Passed: \"Passed\",\n  Failed: \"Failed\",\n  ReadyForProcessing: \"ReadyForProcessing\"\n};\n\nexport function periodsToTime(periods) {\n  const seconds = PERIOD_DURATION * periods;\n\n  const days = Math.floor((seconds % 31536000) / 86400);\n  const hours = Math.floor(((seconds % 31536000) % 86400) / 3600);\n  const minutes = Math.floor((((seconds % 31536000) % 86400) % 3600) / 60);\n\n  let string = \"\";\n  string = days ? `${days} days` : string;\n  string = hours ? `${string} ${hours} hours` : string;\n  string = minutes ? `${string} ${minutes} minutes` : string;\n\n  return string;\n}\n\nexport function getProposalCountdownText(proposal) {\n  switch (proposal.status) {\n    case ProposalStatus.InQueue:\n      return (\n        <>\n          <span className=\"subtext\">Voting Begins: </span>\n          <span>{proposal.votingStarts ? periodsToTime(proposal.votingStarts) : \"-\"}</span>\n        </>\n      );\n    case ProposalStatus.VotingPeriod:\n      return (\n        <>\n          <span className=\"subtext\">Voting Ends: </span>\n          <span>{proposal.votingEnds ? periodsToTime(proposal.votingEnds) : \"-\"}</span>\n        </>\n      );\n    case ProposalStatus.GracePeriod:\n      return (\n        <>\n          <span className=\"subtext\">Grace Period Ends: </span>\n          <span>{proposal.gracePeriod ? periodsToTime(proposal.gracePeriod) : \"-\"}</span>\n        </>\n      );\n    case ProposalStatus.Passed:\n      return <span className=\"subtext\">Passed</span>;\n    case ProposalStatus.Failed:\n      return <span className=\"subtext\">Failed</span>;\n    case ProposalStatus.Aborted:\n      return <span className=\"subtext\">Aborted</span>;\n    case ProposalStatus.ReadyForProcessing:\n      return <span className=\"subtext\">Ready For Processing</span>;\n    default:\n      return <></>;\n  }\n}\n\nexport const inQueue = (proposal, currentPeriod) => currentPeriod < proposal.startingPeriod;\n\nexport const inGracePeriod = (proposal, currentPeriod) =>\n    currentPeriod > proposal.startingPeriod + VOTING_PERIOD_LENGTH &&\n    currentPeriod < proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH;\n\nexport const inVotingPeriod = (proposal, currentPeriod) => currentPeriod >= proposal.startingPeriod && currentPeriod <= proposal.startingPeriod + VOTING_PERIOD_LENGTH;\n\nexport const passedVotingAndGrace = (proposal, currentPeriod) => currentPeriod > proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH;\n\nexport function determineProposalStatus(proposal, currentPeriod) {\n  proposal.startingPeriod = +proposal.startingPeriod\n\n  let status;\n  if (proposal.processed && proposal.aborted) {\n    status = ProposalStatus.Aborted;\n  } else if (proposal.processed && proposal.didPass) {\n    status = ProposalStatus.Passed;\n  } else if (proposal.processed && !proposal.didPass) {\n    status = ProposalStatus.Failed;\n  } else if (inGracePeriod(proposal, currentPeriod)) {\n    status = ProposalStatus.GracePeriod;\n  } else if (inVotingPeriod(proposal, currentPeriod)) {\n    status = ProposalStatus.VotingPeriod;\n  } else if (inQueue(proposal, currentPeriod)) {\n    status = ProposalStatus.InQueue;\n  } else if (passedVotingAndGrace(proposal, currentPeriod)) {\n    status = ProposalStatus.ReadyForProcessing;\n  } else {\n    status = ProposalStatus.Unknown;\n  }\n\n  return status;\n}\n","import React, { Component } from \"react\";\nimport { Divider, Grid, Icon, Segment, Button, Image } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport hood from \"assets/hood.png\";\nimport ProgressBar from \"./ProgressBar\";\nimport { Query } from \"react-apollo\";\nimport { ProposalStatus, getProposalCountdownText } from \"../helpers/proposals\";\nimport { getMoloch } from \"../web3\";\nimport { GET_PROPOSAL_DETAIL, GET_METADATA, GET_MEMBER_BY_DELEGATE_KEY } from \"../helpers/graphQlQueries\";\nimport { convertWeiToDollars } from \"../helpers/currency\";\nimport { utils } from \"ethers\";\nimport { adopt } from \"react-adopt\";\nimport Linkify from \"react-linkify\";\nimport { ToastMessage } from \"rimble-ui\";\n\nexport const Vote = {\n  Null: 0, // default value, counted as abstention\n  Yes: 1,\n  No: 2\n};\n\nconst MemberAvatar = ({ member }) => {\n  return (\n    <Grid.Column mobile={4} tablet={3} computer={3} textAlign=\"center\" className=\"member_avatar\" title={member}>\n      <Link to={`/members/${member}`} className=\"uncolored\">\n        <Image src={hood} centered />\n        <p className=\"name\">{!member ? \"\" : member.length > 10 ? member.substring(0, 10) + \"...\" : member}</p>\n      </Link>\n    </Grid.Column>\n  );\n};\n\nconst Composed = adopt({\n  proposalDetail: ({ render, id }) => (\n    <Query query={GET_PROPOSAL_DETAIL} variables={{ id }}>\n      {render}\n    </Query>\n  ),\n  metadata: ({ render }) => <Query query={GET_METADATA}>{render}</Query>,\n  member: ({ render, delegateKey }) => (\n    <Query query={GET_MEMBER_BY_DELEGATE_KEY} variables={{ delegateKey }}>\n      {render}\n    </Query>\n  )\n});\n\nexport default class ProposalDetail extends Component {\n  state = {\n    proposal: {\n      tokenTribute: 0,\n      sharesRequested: 0,\n      votingEnded: true,\n      graceEnded: true,\n      yesVotes: 0,\n      noVotes: 0,\n      status: ProposalStatus.InQueue,\n      votes: []\n    },\n    user: {\n      id: 0,\n      shares: 0,\n      isActive: false\n    },\n    moloch: null,\n    shareValue: \"0\",\n    exchangeRate: \"0\",\n    showToast: false,\n    tx: {},\n    txStatus: \"submitted\"\n  };\n\n  async componentDidMount() {\n    const { loggedInUser } = this.props;\n    const moloch = await getMoloch(loggedInUser);\n    this.setState({\n      moloch\n    });\n  }\n\n  handleNo = async proposal => {\n    const { moloch } = this.state;\n    this.monitorTx(moloch.submitVote(proposal.proposalIndex, Vote.No));\n    this.showToast();\n  };\n\n  handleYes = async proposal => {\n    const { moloch } = this.state;\n    this.monitorTx(moloch.submitVote(proposal.proposalIndex, Vote.Yes));\n  };\n\n  handleProcess = async proposal => {\n    const { moloch } = this.state;\n    this.monitorTx(moloch.processProposal(proposal.proposalIndex));\n  };\n\n  monitorTx = txPromise => {\n    window.toastProvider.addMessage(\"Confirm transaction using wallet...\");\n    txPromise\n      .then(async tx => {\n        console.log(\"tx: \", tx);\n        window.toastProvider.removeMessage();\n        window.toastProvider.addMessage(\"Transaction submitted!\", {\n          secondaryMessage: \"Check progress on Etherscan\",\n          actionHref: `https://etherscan.io/tx/${tx.hash}`,\n          actionText: \"Check\",\n          variant: \"processing\"\n        });\n        await tx.wait();\n        console.log(\"Tx wait complete\");\n        window.toastProvider.removeMessage();\n        window.toastProvider.addMessage(\"Transaction Confirmed!\", {\n          secondaryMessage: \"View on Etherscan\",\n          actionHref: `https://etherscan.io/tx/${tx.hash}`,\n          actionText: \"View\",\n          variant: \"success\"\n        });\n      })\n      .catch(e => {\n        console.log(\"e: \", e);\n        window.toastProvider.removeMessage();\n        window.toastProvider.addMessage(\"Error\", {\n          secondaryMessage: \"Error occurred while processing transaction. Please try again later.\",\n          variant: \"error\"\n        });\n      });\n  };\n\n  getToastMessage = () => {\n    const { tx, txStatus } = this.state;\n    if (!tx || !tx.hash) {\n      return <ToastMessage message={\"Please confirm transaction using your wallet.\"} />;\n    }\n    if (txStatus === \"submitted\") {\n      return (\n        <ToastMessage.Processing\n          message={\"Transaction started...\"}\n          secondaryMessage={\"Check on its progress using Etherscan\"}\n          actionText={\"Check\"}\n          actionHref={`https://etherscan.io/tx/${tx.hash}`}\n        />\n      );\n    }\n    if (txStatus === \"confirmed\") {\n      return (\n        <ToastMessage.Success\n          message={\"Transaction Successful\"}\n          secondaryMessage={\"View transaction on Etherscan\"}\n          actionText={\"View\"}\n          actionHref={`https://etherscan.io/tx/${tx.hash}`}\n        />\n      );\n    }\n  };\n\n  render() {\n    const { loggedInUser } = this.props;\n\n    return (\n      <Composed id={this.props.match.params.id} delegateKey={loggedInUser}>\n        {({ proposalDetail, metadata, member }) => {\n          console.log(\"proposalDetail: \", proposalDetail);\n          if (proposalDetail.loading || metadata.loading || member.loading) return <Segment className=\"blurred box\">Loading...</Segment>;\n          if (proposalDetail.error) throw new Error(`Error!: ${proposalDetail.error}`);\n          if (metadata.error) throw new Error(`Error!: ${metadata.error}`);\n          if (member.error) throw new Error(`Error!: ${member.error}`);\n\n          const { proposal } = proposalDetail.data;\n          const { shareValue, exchangeRate } = metadata.data;\n\n          const yesShares = proposal.votes.reduce((totalVotes, vote) => {\n            if (vote.uintVote === Vote.Yes) {\n              return (totalVotes += parseInt(vote.member.shares));\n            } else {\n              return totalVotes;\n            }\n          }, 0);\n\n          const noShares = proposal.votes.reduce((totalVotes, vote) => {\n            if (vote.uintVote === Vote.No) {\n              return (totalVotes += parseInt(vote.member.shares));\n            } else {\n              return totalVotes;\n            }\n          }, 0);\n\n          const user = member.data.members.length > 0 ? member.data.members[0] : null;\n          const userHasVoted = proposal.votes.find(vote => vote.member.id === loggedInUser) ? true : false;\n          const cannotVote =\n            proposal.aborted ||\n            userHasVoted ||\n            proposal.status !== ProposalStatus.VotingPeriod ||\n            (!(user && user.shares) || !(user && user.isActive));\n\n          return (\n            <div id=\"proposal_detail\">\n              <Grid centered columns={16}>\n                <Segment className=\"transparent box segment\" textAlign=\"center\">\n                  <Grid centered columns={14}>\n                    <Grid.Column mobile={16} tablet={16} computer={12}>\n                      <span className=\"title\">{proposal.title ? proposal.title : \"N/A\"}</span>\n                    </Grid.Column>\n                  </Grid>\n                  <Grid centered columns={14}>\n                    <Grid.Column mobile={16} tablet={16} computer={4}>\n                      <Linkify properties={{ target: \"_blank\" }}>\n                        <div className=\"subtext description wordwrap\">{proposal.description ? proposal.description : \"N/A\"}</div>\n                      </Linkify>\n                      <Grid columns=\"equal\" className=\"tokens\">\n                        <Grid.Row>\n                          <Grid.Column className=\"tributes\">\n                            <Segment className=\"pill\" textAlign=\"center\">\n                              <Icon name=\"ethereum\" />\n                              {utils.formatEther(proposal.tokenTribute)} ETH\n                            </Segment>\n                          </Grid.Column>\n                        </Grid.Row>\n                        <Grid.Row>\n                          <Grid.Column>\n                            <p className=\"subtext\">Applicant</p>\n                            <p className=\"address\">\n                              <a href={`https://etherscan.io/address/${proposal.applicantAddress}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                                {proposal.applicantAddress}\n                              </a>\n                            </p>\n                          </Grid.Column>\n                        </Grid.Row>\n                      </Grid>\n                      <Grid columns=\"equal\">\n                        <Grid.Column>\n                          <p className=\"subtext voting\">Shares</p>\n                          <p className=\"amount\">{proposal.sharesRequested}</p>\n                        </Grid.Column>\n                        <Grid.Column textAlign=\"right\">\n                          <p className=\"subtext\">Total USD Value</p>\n                          <p className=\"amount\">\n                            {convertWeiToDollars(\n                              utils\n                                .bigNumberify(proposal.sharesRequested)\n                                .mul(shareValue)\n                                .toString(),\n                              exchangeRate\n                            )}\n                          </p>\n                        </Grid.Column>\n                      </Grid>\n                    </Grid.Column>\n\n                    <Grid.Column mobile={16} tablet={16} computer={2}>\n                      <Divider vertical />\n                    </Grid.Column>\n\n                    <Grid.Column mobile={16} tablet={16} computer={6}>\n                      <Grid columns={16}>\n                        <Grid.Column textAlign=\"center\" mobile={16} tablet={16} computer={16} className=\"pill_column\">\n                          <span className=\"pill\">{getProposalCountdownText(proposal)}</span>\n                        </Grid.Column>\n                      </Grid>\n                      <Grid columns={16} className=\"member_list\">\n                        <Grid.Row>\n                          <Grid.Column mobile={16} tablet={16} computer={16} className=\"pill_column\">\n                            {proposal.votes.length > 0 ? (\n                              <Grid>\n                                <Grid.Row className=\"members_row\">\n                                  {/* centered */}\n                                  {proposal.votes.map((vote, idx) => (\n                                    <MemberAvatar member={vote.member.id} shares={vote.member.shares} key={idx} />\n                                  ))}\n                                </Grid.Row>\n                              </Grid>\n                            ) : null}\n                          </Grid.Column>\n                        </Grid.Row>\n                      </Grid>\n                      <Grid>\n                        <Grid.Column textAlign=\"center\">\n                          {proposal.aborted ? <p className=\"amount\">Aborted</p> : <ProgressBar yes={yesShares} no={noShares} />}\n                        </Grid.Column>\n                      </Grid>\n                      <Grid columns=\"equal\" centered>\n                        <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                          <Button className=\"btn\" color=\"green\" disabled={cannotVote} onClick={() => this.handleYes(proposal)}>\n                            Vote Yes\n                          </Button>\n                        </Grid.Column>\n                        <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                          <Button className=\"btn\" color=\"red\" disabled={cannotVote} onClick={() => this.handleNo(proposal)}>\n                            Vote No\n                          </Button>\n                        </Grid.Column>\n                        <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                          <Button\n                            className=\"btn\"\n                            color=\"grey\"\n                            onClick={() => this.handleProcess(proposal)}\n                            disabled={proposal.status !== ProposalStatus.ReadyForProcessing}\n                          >\n                            Process Proposal\n                          </Button>\n                        </Grid.Column>\n                      </Grid>\n                    </Grid.Column>\n                  </Grid>\n                </Segment>\n                <Grid.Column mobile={16} tablet={16} computer={12}>\n                  <ToastMessage.Provider ref={node => (window.toastProvider = node)} />\n                </Grid.Column>\n              </Grid>\n            </div>\n          );\n        }}\n      </Composed>\n    );\n  }\n}\n","import React from \"react\";\nimport { Segment, Grid, Button, Tab, Icon } from \"semantic-ui-react\";\nimport { Route, Switch, Link } from \"react-router-dom\";\n\nimport ProposalDetail, { Vote } from \"./ProposalDetail\";\nimport ProgressBar from \"./ProgressBar\";\nimport { Query } from \"react-apollo\";\nimport { ProposalStatus, getProposalCountdownText } from \"../helpers/proposals\";\nimport { GET_METADATA, GET_MEMBER_BY_DELEGATE_KEY, GET_COMPLETED_PROPOSAL_LIST, GET_ACTIVE_PROPOSAL_LIST } from \"../helpers/graphQlQueries\";\nimport { utils } from \"ethers\";\nimport { adopt } from \"react-adopt\";\n\nconst ProposalCard = ({ proposal }) => {\n  let id = proposal.id;\n\n  const yesShares = proposal.votes.reduce((totalVotes, vote) => {\n    if (vote.uintVote === Vote.Yes) {\n      return (totalVotes += parseInt(vote.member.shares));\n    } else {\n      return totalVotes;\n    }\n  }, 0);\n\n  const noShares = proposal.votes.reduce((totalVotes, vote) => {\n    if (vote.uintVote === Vote.No) {\n      return (totalVotes += parseInt(vote.member.shares));\n    } else {\n      return totalVotes;\n    }\n  }, 0);\n\n  return (\n    <Grid.Column mobile={16} tablet={8} computer={5}>\n      <Link to={{ pathname: `/proposals/${id}` }} className=\"uncolored\">\n        <Segment className=\"blurred box\">\n          <p className=\"name\">{proposal.title ? proposal.title : \"N/A\"}</p>\n          <p className=\"subtext description\">{proposal.description ? proposal.description : \"N/A\"}</p>\n          <Grid columns=\"equal\" className=\"value_shares\">\n            <Grid.Row>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Shares Requested</p>\n                <p className=\"amount\">{proposal.sharesRequested}</p>\n              </Grid.Column>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">\n                  Tribute <Icon name=\"ethereum\" />\n                </p>\n                <p className=\"amount\">{parseFloat(utils.formatEther(proposal.tokenTribute)).toFixed(2)}</p>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          <Grid columns=\"equal\" className=\"deadlines\">\n            <Grid.Row>\n              <Grid.Column textAlign=\"center\">\n                <Segment className=\"voting pill\" textAlign=\"center\">\n                  {getProposalCountdownText(proposal)}\n                </Segment>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          {proposal.aborted ? (\n             <Grid columns=\"equal\" className=\"deadlines\">\n            <Grid.Row>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"amount\">Aborted</p>\n              </Grid.Column>\n            </Grid.Row>\n            </Grid>\n          ) : (\n            <ProgressBar yes={yesShares} no={noShares} />\n          )}\n        </Segment>\n      </Link>\n    </Grid.Column>\n  );\n};\n\nconst Composed = adopt({\n  activeProposalsResult: ({ render }) => <Query query={GET_ACTIVE_PROPOSAL_LIST}>{render}</Query>,\n  completedProposalsResult: ({ render }) => <Query query={GET_COMPLETED_PROPOSAL_LIST}>{render}</Query>,\n  metadata: ({ render }) => <Query query={GET_METADATA}>{render}</Query>\n});\n\nconst ProposalList = ({ isActive }) => (\n  <Composed>\n    {({ activeProposalsResult, completedProposalsResult, metadata }) => {\n      if (metadata.loading) return <Segment className=\"blurred box\">Loading...</Segment>;\n      if (activeProposalsResult.loading) {\n        activeProposalsResult.data = { proposals: [] };\n      }\n\n      if (completedProposalsResult.loading) {\n        completedProposalsResult.data = { proposals: [] };\n      }\n\n      if (activeProposalsResult.error) throw new Error(`Error!: ${activeProposalsResult.error}`);\n      if (completedProposalsResult.error) throw new Error(`Error!: ${completedProposalsResult.error}`);\n      if (metadata.error) throw new Error(`Error!: ${metadata.error}`);\n\n      const { proposals } = activeProposalsResult.data;\n      const { proposals: completedProposals } = completedProposalsResult.data;\n      const { shareValue, exchangeRate, totalShares } = metadata.data;\n\n      // sort in descending order of index\n      const sortProposals = (a, b) => b.proposalIndex - a.proposalIndex;\n\n      const gracePeriod = proposals.filter(p => p.status === ProposalStatus.GracePeriod).sort(sortProposals);\n      const votingPeriod = proposals.filter(p => p.status === ProposalStatus.VotingPeriod).sort(sortProposals);\n      const inQueue = proposals.filter(p => p.status === ProposalStatus.InQueue).sort(sortProposals);\n      const readyForProcessing = proposals.filter(p => p.status === ProposalStatus.ReadyForProcessing).sort(sortProposals);\n\n      const panes = [\n        {\n          menuItem: `Voting Period (${activeProposalsResult.loading ? \"...\" : votingPeriod.length})`,\n          render: () => (\n            <Tab.Pane attached={false}>\n              <Grid columns={3}>\n                {votingPeriod.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={+totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            </Tab.Pane>\n          )\n        },\n        {\n          menuItem: `Grace Period (${activeProposalsResult.loading ? \"...\" : gracePeriod.length})`,\n          render: () => (\n            <Tab.Pane attached={false}>\n              <Grid columns={3}>\n                {gracePeriod.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={+totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            </Tab.Pane>\n          )\n        },\n        {\n          menuItem: `Ready For Processing (${activeProposalsResult.loading ? \"...\" : readyForProcessing.length})`,\n          render: () => (\n            <Tab.Pane attached={false}>\n              <Grid columns={3}>\n                {readyForProcessing.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={+totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            </Tab.Pane>\n          )\n        },\n        {\n          menuItem: `Completed (${completedProposalsResult.loading ? \"...\" : completedProposals.length})`,\n          render: () => (\n            <Tab.Pane attached={false}>\n              <Grid columns={3}>\n                {completedProposals.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={+totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            </Tab.Pane>\n          )\n        },\n        {\n          menuItem: `In Queue (${activeProposalsResult.loading ? \"...\" : inQueue.length})`,\n          render: () => (\n            <Tab.Pane attached={false}>\n              <Grid columns={3}>\n                {inQueue.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={+totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            </Tab.Pane>\n          )\n        }\n      ];\n\n      return (\n        <div id=\"proposal_list\">\n          <>\n            <Grid columns={16} verticalAlign=\"middle\">\n              <Grid.Column mobile={16} tablet={8} computer={4} textAlign=\"right\" floated=\"right\" className=\"submit_button\">\n                <Link to={isActive ? \"/proposalsubmission\" : \"/proposals\"} className=\"link\">\n                  <Button size=\"large\" color=\"red\" disabled={!isActive}>\n                    New Proposal\n                  </Button>\n                </Link>\n              </Grid.Column>\n            </Grid>\n            <Tab menu={{ secondary: true, pointing: true }} panes={panes} />\n          </>\n        </div>\n      );\n    }}\n  </Composed>\n);\n\nconst ProposalListView = ({ loggedInUser }) => {\n  return (\n    <Query query={GET_MEMBER_BY_DELEGATE_KEY} variables={{ delegateKey: loggedInUser }}>\n      {({ loading, error, data }) => {\n        if (loading) return \"Loading...\";\n        if (error) throw new Error(`Error!: ${error}`);\n        const member = data.members.length > 0 ? data.members[0] : null;\n        return (\n          <Switch>\n            <Route exact path=\"/proposals\" render={props => <ProposalList {...props} isActive={member ? member.isActive : false} />} />\n            <Route path=\"/proposals/:id\" render={props => <ProposalDetail {...props} loggedInUser={loggedInUser} />} />\n          </Switch>\n        );\n      }}\n    </Query>\n  );\n};\n\nexport default ProposalListView;\n","import React from \"react\";\nimport { Divider, Grid, Segment, Image, Icon, Label, Header } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nimport bull from \"assets/bull.png\";\nimport hood from \"assets/hood.png\";\n\nimport { Query } from \"react-apollo\";\nimport { Vote } from \"./ProposalDetail\";\nimport { utils } from \"ethers\";\nimport { convertWeiToDollars } from \"../helpers/currency\";\nimport { adopt } from \"react-adopt\";\nimport { GET_METADATA, GET_MEMBER_DETAIL_WITH_VOTES } from \"../helpers/graphQlQueries\";\nimport { getProposalCountdownText } from \"../helpers/proposals\";\n\nconst Composed = adopt({\n  memberDetail: ({ render, name }) => (\n    <Query query={GET_MEMBER_DETAIL_WITH_VOTES} variables={{ address: name }}>\n      {render}\n    </Query>\n  ),\n  metadata: ({ render }) => <Query query={GET_METADATA}>{render}</Query>,\n});\n\nconst MemberDetail = ({ loggedInUser, member, shareValue, exchangeRate }) => (\n  <Segment className=\"blurred box\">\n    <Grid columns=\"equal\">\n      <Grid.Column>\n        <p className=\"subtext\">Shares</p>\n        <p className=\"amount\">{member.shares}</p>\n      </Grid.Column>\n      <Grid.Column textAlign=\"right\">\n        <p className=\"subtext\">Total Value</p>\n        <p className=\"amount\">\n          {convertWeiToDollars(\n            utils\n              .bigNumberify(member.shares)\n              .mul(shareValue)\n              .toString(),\n            exchangeRate\n          )}\n        </p>\n      </Grid.Column>\n    </Grid>\n    <Grid>\n      <Grid.Column textAlign=\"center\" className=\"avatar\">\n        <Image centered src={loggedInUser === member.id || loggedInUser === member.delegateKey ? bull : hood} size=\"tiny\" />\n      </Grid.Column>\n    </Grid>\n    <p className=\"subtext\">Tribute</p>\n    <Grid columns=\"equal\">\n      <Grid.Row>\n        <Grid.Column>\n          <Segment className=\"pill\" textAlign=\"center\">\n            <Icon name=\"ethereum\" />\n            {utils.formatEther(member.tokenTribute)} ETH\n          </Segment>\n        </Grid.Column>\n      </Grid.Row>\n      <p className=\"subtext\">Delegate Key</p>\n      <Grid.Row>\n        <Grid.Column>\n          <p className=\"subtext\">{member.delegateKey}</p>\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  </Segment>\n);\n\nconst ProposalDetail = ({ proposals }) => (\n  <Segment className=\"blurred box\">\n    <Grid columns=\"equal\" textAlign=\"center\">\n      <Grid.Row className=\"subtext\" style={{ fontSize: 20 }}>\n        History\n      </Grid.Row>\n    </Grid>\n    <Grid columns=\"equal\">\n      <Grid.Row className=\"header\">\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Proposal Title</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Date</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Shares Requested</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Tribute Offered</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Vote</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Status</p>\n        </Grid.Column>\n      </Grid.Row>\n      {proposals && proposals.length > 0 ? (\n        proposals.map((p, idx) => {\n          return (\n            <React.Fragment key={idx}>\n                <Grid.Row verticalAlign=\"middle\">\n                  <Grid.Column textAlign=\"center\">\n                    <Link to={{ pathname: `/proposals/${p.proposal.id}` }} className=\"uncolored\">\n                    {p.uintVote === Vote.Yes && <Label className=\"dot\" circular color=\"green\" empty />}\n                    {/* TODO: is this right? */}\n                    {(p.uintVote === Vote.No || p.uintVote === Vote.Null) && <Label className=\"dot\" circular color=\"red\" empty />}\n                    {p.proposal.title}\n                    </Link>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\">\n                    <p className=\"subtext date\">{new Date(p.proposal.timestamp * 1000).toISOString().slice(0, 10)}</p>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\">\n                    <p className=\"subtext date\">{p.proposal.sharesRequested}</p>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\">\n                    <p className=\"subtext date\">{utils.formatEther(p.proposal.tokenTribute)}</p>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\">\n                    <Header as=\"p\" color={p.uintVote === Vote.Yes ? \"green\" : p.uintVote === Vote.No ? \"red\" : null}>\n                      {p.uintVote === Vote.Yes ? \"Y\" : p.uintVote === Vote.No ? \"N\" : \"\"}\n                    </Header>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\">\n                    <p className=\"subtext date\">{getProposalCountdownText(p.proposal)}</p>\n                  </Grid.Column>\n              </Grid.Row>\n              <Divider />\n            </React.Fragment>\n          );\n        })\n      ) : (\n        <Grid.Row verticalAlign=\"middle\">\n          <Grid.Column textAlign=\"center\">This member hasn't voted on any proposals yet.</Grid.Column>\n        </Grid.Row>\n      )}\n    </Grid>\n  </Segment>\n);\n\nconst MemberDetailView = props => (\n  <Composed name={props.match.params.name}>\n    {({ memberDetail, metadata }) => {\n      if (memberDetail.loading || metadata.loading) return <Segment className=\"blurred box\">Loading...</Segment>;\n      if (memberDetail.error) throw new Error(`Error!: ${memberDetail.error}`);\n      if (metadata.error) throw new Error(`Error!: ${metadata.error}`);\n      return (\n        <div id=\"member_detail\">\n          <p className=\"title\"> {props.match.params.name} </p>\n          <Divider />\n          <Grid columns={16}>\n            <Grid.Row className=\"details\">\n              <Grid.Column mobile={16} tablet={16} computer={6} className=\"user\">\n                <MemberDetail\n                  loggedInUser={props.loggedInUser}\n                  member={memberDetail.data.member}\n                  shareValue={metadata.data.shareValue}\n                  exchangeRate={metadata.data.exchangeRate}\n                />\n              </Grid.Column>\n              <Grid.Column mobile={16} tablet={16} computer={10} className=\"proposals\">\n                <ProposalDetail proposals={memberDetail.data.member.votes} />\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </div>\n      );\n    }}\n  </Composed>\n);\n\nexport default MemberDetailView;\n","import React from \"react\";\nimport { Grid, Image, Divider } from \"semantic-ui-react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\n\nimport MemberDetail from \"./MemberDetail\";\nimport bull from \"assets/bull.png\";\nimport hood from \"assets/hood.png\";\n\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { GET_MEMBERS, GET_MEMBER_DETAIL } from \"../helpers/graphQlQueries\";\n\nconst MemberAvatar = ({ address, shares }) => (\n  <Grid.Column mobile={5} tablet={3} computer={3} textAlign=\"center\" className=\"member_avatar\" title={address}>\n    <Link to={`/members/${address}`} className=\"uncolored\">\n      <Image src={hood} centered size=\"tiny\" />\n      <p className=\"name\">{!address ? \"\" : address.length > 10 ? address.substring(0, 10) + \"...\" : address}</p>\n      <p className=\"subtext\">{shares} shares</p>\n    </Link>\n  </Grid.Column>\n);\n\nconst LoggedInUser = props => (\n  <Query query={GET_MEMBER_DETAIL} variables={{ address: props.loggedInUser }}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.member && data.member.isActive ? (\n        <Link to={`/members/${data.member.id}`} className=\"uncolored\">\n          <Image centered src={bull} size=\"tiny\" />\n          <p className=\"name\">{!data.member.id ? \"\" : data.member.id.length > 10 ? data.member.id.substring(0, 10) + \"...\" : data.member.id}</p>\n          <p className=\"subtext\">{data.member.shares ? data.member.shares : 0} shares</p>\n        </Link>\n      ) : (\n        <div />\n      );\n    }}\n  </Query>\n);\n\nconst GET_ELDERS = gql`\n  {\n    members(first: 100, where: { shares_gte: 100, isActive: true }) {\n      id\n      shares\n    }\n  }\n`;\nconst Elders = () => (\n  <Query query={GET_ELDERS}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.members.length > 0 ? (\n        data.members.map((elder, idx) => <MemberAvatar address={elder.id} shares={elder.shares} key={idx} />)\n      ) : (\n        <>No elders to show.</>\n      );\n    }}\n  </Query>\n);\n\nconst GET_NON_ELDERS = gql`\n  {\n    members(first: 100, where: { shares_gt: 0, shares_lt: 100, isActive: true }) {\n      id\n      shares\n    }\n  }\n`;\nconst Contributors = () => (\n  <Query query={GET_NON_ELDERS}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.members.length > 0 ? (\n        data.members.map((contributor, idx) => <MemberAvatar address={contributor.id} shares={contributor.shares} key={idx} />)\n      ) : (\n        <>No contributors to show.</>\n      );\n    }}\n  </Query>\n);\n\nconst MemberList = props => (\n  <Query query={GET_MEMBERS}>\n    {({ loading, error, data }) => {\n      let members;\n      if (error) {\n        members = \"NA\";\n        console.error(`Could not load members: ${error}`);\n      } else if (loading) {\n        members = \"-\";\n      } else {\n        members = data.members.length;\n      }\n      return (\n        <div id=\"member_list\">\n          <Grid columns={16} verticalAlign=\"middle\">\n            <Grid.Column mobile={16} tablet={6} computer={6} textAlign=\"left\" className=\"member_list_header\">\n              <p className=\"subtext\">{members} Members</p>\n            </Grid.Column>\n\n            {/* <Grid.Column mobile={16} tablet={10} computer={10} textAlign=\"right\" className=\"submit_button\">\n              <Link to='/membershipproposalsubmission' className=\"link\">\n                <Button size='large' color='red' disabled={(props.user.status === 'founder') ? true : false}>Membership Proposal</Button>\n              </Link>\n            </Grid.Column> */}\n          </Grid>\n\n          <Grid>\n            <Grid.Column textAlign=\"center\">\n              <LoggedInUser {...props} />\n            </Grid.Column>\n          </Grid>\n          <Grid className=\"member_item\">\n            <Grid.Row>\n              <p style={{ paddingLeft: \"1rem\" }}>Elders (100+ shares)</p>\n            </Grid.Row>\n            <Divider />\n            <Grid.Row className=\"members_row\" centered>\n              <Elders />\n            </Grid.Row>\n          </Grid>\n          <Grid className=\"member_item\">\n            <Grid.Row>\n              <p style={{ paddingLeft: \"1rem\" }}>Contributors</p>\n            </Grid.Row>\n            <Divider />\n            <Grid.Row className=\"members_row\" centered>\n              <Contributors />\n            </Grid.Row>\n          </Grid>\n        </div>\n      );\n    }}\n  </Query>\n);\n\nconst MemberListView = higherProps => (\n  <Switch>\n    <Route exact path=\"/members\" render={props => <MemberList {...props} loggedInUser={higherProps.loggedInUser} />} />\n    <Route path=\"/members/:name\" render={props => <MemberDetail {...props} loggedInUser={higherProps.loggedInUser} />} />\n  </Switch>\n);\n\nexport default MemberListView;\n","import React, { Component } from \"react\";\nimport { Button, Divider, Form, Grid, Input, Segment, Modal, Header, Icon, List } from \"semantic-ui-react\";\nimport { getMoloch, getToken } from \"../web3\";\nimport { utils } from \"ethers\";\n\nconst DEPOSIT_WETH = \"10\";\n\nclass SubmitModal extends Component {\n  state = {\n    loading: true,\n    beneficiaryApproved: false,\n    depositApproved: false,\n    open: false\n  };\n\n  handleOpen = async () => {\n    const { token, address, tribute, moloch, loggedInUser, valid } = this.props;\n    if (!valid) {\n      alert(\"Please fill any missing fields.\");\n    }\n    this.setState({\n      open: true\n    });\n\n    const beneficiaryAllowance = await token.allowance(address, moloch.address);\n    let beneficiaryApproved = false;\n    if (beneficiaryAllowance.gte(utils.parseEther(tribute))) {\n      beneficiaryApproved = true;\n    }\n\n    const depositAllowance = await token.allowance(loggedInUser, moloch.address);\n    let depositApproved = false;\n    if (depositAllowance.gte(utils.parseEther(DEPOSIT_WETH))) {\n      depositApproved = true;\n    }\n\n    this.setState({\n      beneficiaryApproved,\n      depositApproved,\n      loading: false\n    });\n  };\n\n  handleClose = () => {\n    this.setState({\n      open: false\n    });\n  };\n\n  render() {\n    const { loading, beneficiaryApproved, depositApproved, open } = this.state;\n    const { handleSubmit, submittedTx } = this.props;\n    console.log(\"open: \", open);\n    return (\n      <Modal\n        trigger={\n          <Button size=\"large\" color=\"red\" onClick={this.handleOpen}>\n            Submit Proposal\n          </Button>\n        }\n        basic\n        size=\"small\"\n        open={open}\n      >\n        <Header icon=\"send\" content=\"Submit Proposal\" />\n        <Modal.Content>\n          <List>\n            <List.Item>\n              {loading ? <List.Icon name=\"time\" /> : depositApproved ? <List.Icon name=\"check circle\" /> : <List.Icon name=\"x\" />}\n              <List.Content>10 wETH Deposit Approved</List.Content>\n            </List.Item>\n            <List.Item>\n              {loading ? <List.Icon name=\"time\" /> : beneficiaryApproved ? <List.Icon name=\"check circle\" /> : <List.Icon name=\"x\" />}\n              <List.Content>Tribute Approved By Beneficiary</List.Content>\n            </List.Item>\n            <List.Item>\n              {submittedTx ? <List.Icon name=\"code\" /> : <></>}\n              <List.Content>\n                {submittedTx ? (\n                  <a href={`https://etherscan.io/tx/${submittedTx.hash}`} target=\"_blank\" rel=\"noopener noreferrer\">\n                    View Transaction on Etherscan\n                  </a>\n                ) : (\n                  <></>\n                )}\n              </List.Content>\n            </List.Item>\n          </List>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color=\"green\" inverted onClick={handleSubmit} disabled={submittedTx || !depositApproved || !beneficiaryApproved}>\n            <Icon name=\"check\" /> Submit\n          </Button>\n          <Button basic color=\"red\" inverted onClick={this.handleClose}>\n            <Icon name=\"remove\" /> Close\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default class ProposalSubmission extends Component {\n  state = {\n    address: \"\",\n    title: \"\",\n    description: \"\",\n    shares: \"\",\n    tribute: \"\", // TODO: this will be calculated with the blockchain\n    fieldValidationErrors: { title: \"\", description: \"\", assets: \"\", shares: \"\" },\n    titleValid: false,\n    descriptionValid: false,\n    tributeValid: false,\n    sharesValid: false,\n    addressValid: false,\n    formValid: false\n  };\n\n  async componentDidMount() {\n    const { loggedInUser } = this.props;\n    const moloch = await getMoloch(loggedInUser);\n    const token = await getToken(loggedInUser);\n    this.setState({\n      moloch,\n      token\n    });\n  }\n\n  validateField = (fieldName, value) => {\n    let { fieldValidationErrors, titleValid, descriptionValid, tributeValid, sharesValid, addressValid } = this.state;\n\n    switch (fieldName) {\n      case \"title\":\n        titleValid = value !== \"\";\n        fieldValidationErrors.title = titleValid ? \"\" : \"Title is invalid\";\n        break;\n      case \"address\":\n        addressValid = utils.isHexString(value);\n        console.log(\"utils.isHexString(value): \", utils.isHexString(value));\n        console.log(\"value: \", value);\n        fieldValidationErrors.address = addressValid ? \"\" : \"Address is invalid\";\n        break;\n      case \"description\":\n        descriptionValid = value !== \"\";\n        fieldValidationErrors.description = descriptionValid ? \"\" : \"Description is invalid\";\n        break;\n      case \"shares\":\n        sharesValid = value > 0;\n        fieldValidationErrors.shares = sharesValid ? \"\" : \"Shares is invalid\";\n        break;\n      case \"tribute\":\n        tributeValid = value >= 0;\n        fieldValidationErrors.tribute = tributeValid ? \"\" : \"Tribute is invalid\";\n        break;\n      default:\n        break;\n    }\n    this.setState(\n      {\n        fieldValidationErrors,\n        titleValid,\n        descriptionValid,\n        tributeValid,\n        sharesValid,\n        addressValid\n      },\n      this.validateForm\n    );\n  };\n\n  validateForm = () => {\n    const { titleValid, descriptionValid, sharesValid, tributeValid, addressValid } = this.state;\n    this.setState({ formValid: titleValid && descriptionValid && sharesValid && tributeValid && addressValid });\n  };\n\n  handleInput = event => {\n    let name = event.target.name;\n    let value = event.target.value;\n    this.setState({ [event.target.name]: event.target.value }, () => {\n      this.validateField(name, value);\n    });\n  };\n\n  handleSubmit = async () => {\n    const { moloch, address, title, description, shares, tribute } = this.state;\n\n    let submittedTx;\n    try {\n      console.log(\"Submitting proposal: \", address, utils.parseEther(tribute).toString(), shares, JSON.stringify({ title, description }));\n      submittedTx = await moloch.submitProposal(address, utils.parseEther(tribute), shares, JSON.stringify({ title, description }));\n      console.log(\"submittedTx: \", submittedTx);\n    } catch (e) {\n      console.error(e);\n      alert(\"Error processing proposal\");\n    }\n\n    this.setState({\n      submittedTx\n    });\n  };\n\n  render() {\n    const {\n      shares,\n      tribute,\n      title,\n      description,\n      address,\n      token,\n      formValid,\n      moloch,\n      titleValid,\n      descriptionValid,\n      sharesValid,\n      tributeValid,\n      addressValid,\n      submittedTx\n    } = this.state;\n    const { loggedInUser } = this.props;\n    return (\n      <div id=\"proposal_submission\">\n        <Form>\n          <Grid centered columns={16}>\n            <Grid.Row stretched>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Input\n                  name=\"title\"\n                  transparent\n                  size=\"big\"\n                  inverted\n                  placeholder=\"Proposal Title\"\n                  onChange={this.handleInput}\n                  value={title}\n                  error={!titleValid}\n                />\n                <Divider />\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row stretched>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Segment className=\"blurred box\">\n                  <Form.Input\n                    name=\"address\"\n                    label=\"Beneficiary or Applicant\"\n                    placeholder=\"Address\"\n                    fluid\n                    onChange={this.handleInput}\n                    value={address}\n                    error={!addressValid}\n                  />\n                  <Form.Input\n                    name=\"shares\"\n                    label=\"Shares Requested\"\n                    placeholder=\"Shares\"\n                    fluid\n                    type=\"number\"\n                    onChange={this.handleInput}\n                    value={shares}\n                    error={!sharesValid}\n                  />\n                  <Form.Input\n                    name=\"tribute\"\n                    label=\"Tribute Offered (in ETH)\"\n                    placeholder=\"ETH\"\n                    fluid\n                    type=\"number\"\n                    onChange={this.handleInput}\n                    value={tribute}\n                    error={!tributeValid}\n                  />\n                </Segment>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Grid columns=\"equal\">\n                  <Grid.Column>\n                    <Segment className=\"blurred box\">\n                      <Form.TextArea\n                        name=\"description\"\n                        label=\"Description\"\n                        placeholder=\"Type here\"\n                        rows={15}\n                        onChange={this.handleInput}\n                        value={description}\n                        error={!descriptionValid}\n                      />\n                    </Segment>\n                  </Grid.Column>\n                </Grid>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column mobile={16} tablet={8} computer={8} className=\"submit_button\">\n                {/* <Button size=\"large\" color=\"red\" onClick={this.handleSubmit}>\n                  Submit Proposal\n                </Button> */}\n                <SubmitModal\n                  valid={formValid}\n                  tribute={tribute}\n                  address={address}\n                  token={token}\n                  moloch={moloch}\n                  loggedInUser={loggedInUser}\n                  handleSubmit={this.handleSubmit}\n                  submittedTx={submittedTx}\n                />\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </Form>\n      </div>\n    );\n  }\n}\n","import {\n  determineProposalStatus,\n  inGracePeriod,\n  VOTING_PERIOD_LENGTH,\n  GRACE_PERIOD_LENGTH,\n  inVotingPeriod,\n  inQueue,\n  passedVotingAndGrace\n} from \"./helpers/proposals\";\nimport gql from \"graphql-tag\";\nimport { GET_METADATA } from \"./helpers/graphQlQueries\";\n\nexport const resolvers = {\n  Proposal: {\n    status: (proposal, _args, { cache }) => {\n      const { currentPeriod } = cache.readQuery({ query: GET_METADATA });\n      return determineProposalStatus(proposal, +currentPeriod);\n    },\n    title: proposal => {\n      try {\n        const details = JSON.parse(proposal.details);\n        if (details.title === \"\") {\n          return \"N/A\"\n        }\n        return details.title || proposal.details || \"\";\n      } catch (e) {\n        // special cases for malformed proposals, remove this once proposal is stale\n        if (proposal.details === '{\title:Member Proposal: DCInvestor,description:https://paper.dropbox.com/doc/MGP3-ETH2.0-Test-Runner--AcFiUF_av4SF5CHOuS4qSH0WAg-DZu4VRgbP1LZeUimS1k3L}') {\n          return \"Moloch Grant Proposal: ETH 2.0 Test Runner\"\n        }\n        if (proposal.details === '{title:Member Proposal: Anon,description:https://etherpad.net/p/anon_moloch_proposal}') {\n          return \"Member Proposal: Anon\"\n        }\n        console.log(`Could not parse title from proposal.proposalIndex: ${proposal.proposalIndex} proposal.details: ${proposal.details}`);\n        return proposal.details || \"\";\n      }\n    },\n    description: proposal => {\n      try {\n        const details = JSON.parse(proposal.details);\n        return details.description || \"\";\n      } catch (e) {\n        if (proposal.details === '{\title:Member Proposal: DCInvestor,description:https://paper.dropbox.com/doc/MGP3-ETH2.0-Test-Runner--AcFiUF_av4SF5CHOuS4qSH0WAg-DZu4VRgbP1LZeUimS1k3L}') {\n          return \"https://paper.dropbox.com/doc/MGP3-ETH2.0-Test-Runner--AcFiUF_av4SF5CHOuS4qSH0WAg-DZu4VRgbP1LZeUimS1k3L\"\n        }\n        if (proposal.details === '{title:Member Proposal: Anon,description:https://etherpad.net/p/anon_moloch_proposal}') {\n          return \"https://etherpad.net/p/anon_moloch_proposal\"\n        }\n        console.log(`Could not parse description from proposal.proposalIndex: ${proposal.proposalIndex} proposal.details: ${proposal.details}`);\n        return \"\";\n      }\n    },\n    gracePeriod: (proposal, _args, { cache }) => {\n      const { currentPeriod } = cache.readQuery({ query: GET_METADATA });\n      if (inGracePeriod(proposal, currentPeriod)) {\n        return +proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH - currentPeriod;\n      }\n      return 0;\n    },\n    votingEnds: (proposal, _args, { cache }) => {\n      const { currentPeriod } = cache.readQuery({ query: GET_METADATA });\n      if (inVotingPeriod(proposal, currentPeriod)) {\n        return proposal.startingPeriod + VOTING_PERIOD_LENGTH - currentPeriod;\n      }\n      return 0;\n    },\n    votingStarts: (proposal, _args, { cache }) => {\n      const { currentPeriod } = cache.readQuery({ query: GET_METADATA });\n      if (inQueue(proposal, currentPeriod)) {\n        return proposal.startingPeriod - currentPeriod;\n      }\n      return 0;\n    },\n    readyForProcessing: (proposal, _args, { cache }) => {\n      const { currentPeriod } = cache.readQuery({ query: GET_METADATA });\n      if (passedVotingAndGrace(proposal, currentPeriod) && !proposal.processed) {\n        return true;\n      }\n      return false\n    }\n  },\n  Mutation: {\n    setAttributes: (_, variables, { cache }) => {\n      const id = `Proposal:${variables.id}`;\n      const fragment = gql`\n        fragment getMeta on Proposal {\n          status\n          title\n          description\n          gracePeriod\n          votingEnds\n          votingStarts\n          readyForProcessing\n        }\n      `;\n      const proposal = cache.readFragment({ fragment, id });\n      const data = {\n        ...proposal,\n        status: variables.status,\n        title: variables.title,\n        description: variables.description,\n        gracePeriod: variables.gracePeriod,\n        votingEnds: variables.votingEnds,\n        votingStarts: variables.votingStarts,\n        readyForProcessing: variables.readyForProcessing\n      };\n      cache.writeData({ id, data });\n      return data;\n    }\n  }\n};\n","import gql from \"graphql-tag\";\n\nexport const typeDefs = gql`\n  extend type Proposal {\n    status: String\n    title: String\n    description: String\n    gracePeriod: Number\n    votingEnds: Number\n    votingStarts: Number\n    readyForProcessing: Bool\n  }\n\n  extend type Query {\n    proposalsWithStatus: [Proposal]\n  }\n`;","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\n\nimport Background from \"./components/Background\";\nimport Header from \"./components/Header\";\nimport Wrapper from \"./components/Wrapper\";\nimport Home from \"./components/Home\";\nimport ProposalList from \"./components/ProposalList\";\nimport MemberList from \"./components/MemberList\";\nimport ProposalSubmission from \"./components/ProposalSubmission\";\nimport { ApolloProvider, Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { resolvers } from \"./resolvers\";\nimport { typeDefs } from \"./schema\";\nimport { ApolloClient } from \"apollo-client\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { GET_METADATA } from \"./helpers/graphQlQueries\";\nimport { getMedianizer, getMoloch, getToken, initWeb3 } from \"./web3\";\nimport { utils } from \"ethers\";\nimport { adopt } from \"react-adopt\";\n\nconsole.log(process.env);\n\nconst cache = new InMemoryCache();\n\nconst client = new ApolloClient({\n  cache,\n  link: new HttpLink({\n    uri: process.env.REACT_APP_GRAPH_NODE_URI\n  }),\n  resolvers,\n  typeDefs\n});\n\nconst initialData = {\n  loggedInUser: \"\",\n  guildBankValue: \"\",\n  shareValue: \"\",\n  totalShares: \"\",\n  currentPeriod: \"\",\n  exchangeRate: \"\"\n};\ncache.writeData({\n  data: { ...initialData, loggedInUser: window.localStorage.getItem(\"loggedInUser\") || \"\" }\n});\nclient.onResetStore(() => cache.writeData({ data: initialData }));\n\nconst IS_LOGGED_IN = gql`\n  query IsUserLoggedIn {\n    loggedInUser @client\n  }\n`;\n\nconst Composed = adopt({\n  loggedInUserData: ({ render }) => <Query query={IS_LOGGED_IN}>{render}</Query>,\n  metadata: ({ render }) => <Query query={GET_METADATA}>{render}</Query>\n});\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      restored: false,\n      exchangeRate: \"0\",\n      totalShares: \"0\",\n      guildBankValue: \"0\"\n    };\n  }\n\n  async componentDidMount() {\n    // await persistor.restore();\n    await this.populateData(true);\n    this.setState({ restored: true });\n  }\n\n  async populateData(refetch) {\n    let {\n      data: { loggedInUser }\n    } = await client.query({\n      query: IS_LOGGED_IN\n    });\n\n    // make sure logged in metamask user is the one that's saved to storage\n    if (loggedInUser) {\n      await initWeb3(client)\n    }\n\n    let {\n      data: { exchangeRate, totalShares, currentPeriod, guildBankValue, shareValue }\n    } = await client.query({\n      query: GET_METADATA\n    });\n\n    if (!exchangeRate || refetch) {\n      const medianizer = await getMedianizer(loggedInUser);\n      exchangeRate = (await medianizer.compute())[0];\n      exchangeRate = utils.bigNumberify(exchangeRate);\n    }\n\n    if (!totalShares || !currentPeriod || refetch) {\n      const moloch = await getMoloch();\n      totalShares = await moloch.totalShares();\n      currentPeriod = await moloch.getCurrentPeriod();\n    }\n\n    const token = await getToken();\n    if (!guildBankValue || refetch) {\n      guildBankValue = await token.balanceOf(process.env.REACT_APP_GUILD_BANK_ADDRESS);\n    }\n\n    if (guildBankValue && totalShares) {\n      const ethPerShare = guildBankValue.gt(0) ? totalShares.toNumber() / parseFloat(utils.formatEther(guildBankValue)) : 0; // in eth\n      shareValue = utils.parseEther(ethPerShare.toString()); // in wei\n    }\n\n    const dataToWrite = {\n      guildBankValue: guildBankValue.toString(),\n      shareValue: shareValue.toString(),\n      totalShares: totalShares.toString(),\n      currentPeriod: currentPeriod.toString(),\n      exchangeRate: exchangeRate.toString()\n    };\n\n    client.writeData({\n      data: dataToWrite\n    });\n  }\n\n  render() {\n    return this.state.restored ? (\n      <ApolloProvider client={client}>\n        <Router basename={process.env.PUBLIC_URL}>\n          <Composed>\n            {({ loggedInUserData, metadata }) => {\n              return (\n                <>\n                  <Background />\n                  <Header loggedInUser={loggedInUserData.data.loggedInUser} client={client} populateData={this.populateData} />\n                  <Wrapper>\n                    <Switch>\n                      <Route\n                        exact\n                        path=\"/\"\n                        render={props => <Home {...props} loggedInUser={loggedInUserData.data.loggedInUser} />}\n                      />\n                      <Route\n                        path=\"/proposals\"\n                        render={props =><ProposalList {...props} loggedInUser={loggedInUserData.data.loggedInUser} />}\n                      />\n                      <Route\n                        path=\"/members\"\n                        render={props => <MemberList {...props} loggedInUser={loggedInUserData.data.loggedInUser} />}\n                      />\n                      <Route\n                        path=\"/proposalsubmission\"\n                        render={props =>\n                          loggedInUserData.data.loggedInUser ? (\n                            <ProposalSubmission {...props} loggedInUser={loggedInUserData.data.loggedInUser} />\n                          ) : (\n                            <Redirect to={{ pathname: \"/\" }} />\n                          )\n                        }\n                      />\n                      <Route\n                        component={props => <Home {...props} loggedInUser={loggedInUserData.data.loggedInUser} />}\n                      />\n                    </Switch>\n                  </Wrapper>\n                </>\n              );\n            }}\n          </Composed>\n        </Router>\n      </ApolloProvider>\n    ) : (\n      <div>Loading!!!</div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'semantic-ui-css/semantic.min.css';\n\nimport './index.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}