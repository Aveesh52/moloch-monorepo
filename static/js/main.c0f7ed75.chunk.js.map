{"version":3,"sources":["assets/bull.png","assets/ethereumIcon.png","components/Background.js","helpers/graphQlQueries.js","web3.js","components/Header.js","components/Wrapper.js","helpers/currency.js","components/Home.js","components/ProgressBar.js","helpers/proposals.js","components/ProposalDetail.js","components/ProposalList.js","components/MemberDetail.js","components/MemberList.js","components/Login.js","components/ProposalSubmission.js","components/GuildBank.js","resolvers.js","schema.js","App.js","index.js","assets/hood.png"],"names":["module","exports","__webpack_require__","p","Background","react_default","a","createElement","id","className","gql","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","moloch","token","medianizer","eth","GET_METADATA","_templateObject6","GET_MEMBER_DETAIL","_templateObject7","GET_MEMBERS","_templateObject8","GET_PROPOSALS","_templateObject9","GET_PROPOSAL_LIST","_templateObject10","GET_PROPOSAL_HISTORY","_templateObject11","GET_PROPOSAL_DETAIL","_templateObject12","SET_PROPOSAL_ATTRIBUTES","_templateObject13","molochAbi","require","erc20Abi","medianizerAbi","initMetamask","_initMetamask","apply","this","arguments","_callee","web3Provider","regenerator_default","wrap","_context","prev","next","window","ethereum","web3","alert","enable","currentProvider","ethers","providers","Web3Provider","getSigner","localStorage","setItem","t0","abrupt","stop","initGnosisSafe","provider","SafeProvider","rpcUrl","process","initMoloch","_initMoloch","_callee2","_context2","getItem","sent","Error","Contract","initToken","_initToken","_callee3","_context3","initMedianizer","_initMedianizer","_callee4","_context4","getDefaultProvider","getMoloch","_getMoloch","_callee6","_context6","getToken","_getToken","_callee7","_context7","getMedianizer","_getMedianizer","_callee8","_context8","MainMenuWrapped","withApollo","props","member","isActive","Fragment","Dropdown","Item","onClick","_handleCloseDropdown","Link","to","concat","Icon","name","Divider","icon","content","_handleOpenDropdown","onLoadChangeDelegateKey","onLoadWithdrawLootToken","Object","asyncToGenerator","mark","client","resetStore","ChangeDelegateKeyMenu","state","newDelegateKey","submitChangeDelegateKey","tx","_this","console","log","updateDelegateKey","_this2","onLoadMain","Form","Input","placeholder","onChange","event","setState","target","value","Button","React","Component","WithdrawLootTokenMenu","ragequitAmount","submitRagequit","_this3","ragequit","_this4","Header","visibleMenu","visibleRightMenu","topRightMenuContent","_this6","Header_ChangeDelegateKeyMenu","Header_WithdrawLootTokenMenu","_this7","loggedInUser","react_apollo_esm","query","variables","address","_ref4","loading","error","data","Grid","columns","verticalAlign","Column","textAlign","open","onBlur","onFocus","text","substring","Menu","direction","getTopRightMenuContent","Wrapper","_ref","children","currencyFormatter","Intl","NumberFormat","style","currency","minimumFractionDigits","convertWeiToDollars","weiAmount","exchangeRate","weitoEth","utils","formatEther","exchWeiToEth","format","parseFloat","Composed","adopt","members","render","proposals","_ref2","metadata","_ref3","NumMembers","size","color","length","NumProposals","_ref5","HomePage","approval","userAddress","handleChange","e","handleSubmit","_this$state","methods","approve","send","from","_ref6","Segment","_metadata$data","guildBankValue","totalShares","shareValue","mobile","tablet","computer","Statistic","inverted","label","Home_NumMembers","Home_NumProposals","Modal","basic","trigger","Content","onSubmit","Field","type","width","ProgressBar","yes","no","total","percentYes","Math","round","percentNo","position","Progress","percent","top","floated","VOTING_PERIOD_LENGTH","GRACE_PERIOD_LENGTH","ProposalStatus","Unknown","InQueue","VotingPeriod","GracePeriod","Aborted","Passed","Failed","ReadyForProcessing","getProposalCountdownText","proposal","status","votingStarts","votingEnds","gracePeriod","getProposalDetailsFromOnChain","_x","_x2","_getProposalDetailsFromOnChain","currentPeriod","inQueue","inGracePeriod","inVotingPeriod","enoughPassingVotes","passedVotingAndGrace","passedVoting","lastProposalProcessed","proposalFromChain","details","parseInt","startingPeriod","yesVotes","noVotes","lastProposalFromChain","proposalIndex","proposalQueue","processed","_x3","toString","aborted","didPass","votingEnded","graceEnded","readyForProcessing","JSON","parse","title","description","stringify","Vote","Null","Yes","No","MemberAvatar","shares","Image","src","hood","centered","ProposalDetail","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleNo","submitVote","userHasVoted","handleYes","_this$state2","handleProcess","_this$state3","processProposal","tokenTribute","sharesRequested","user","fetchData","match","params","proposalResult","userResult","fullProp","mutate","mutation","result","objectSpread","setAttributes","votes","find","vote","_this$state4","cannotVote","Row","bigNumberify","mul","vertical","map","idx","ProposalDetail_MemberAvatar","key","components_ProgressBar","disabled","ProposalCard","pathname","ProposalList","determineProposalStatuses","fullProps","Promise","all","push","_x4","proposalData","filter","votingPeriod","completed","panes","menuItem","Tab","Pane","attached","index","ProposalList_ProposalCard","menu","secondary","pointing","ProposalListHOC","ProposalListView","_ref7","Switch","Route","exact","path","assign","components_ProposalDetail","memberDetail","proposalHistory","MemberDetail","bull","delegateKey","fontSize","uintVote","Label","circular","empty","Date","timestamp","toISOString","slice","elements_Header_Header","as","MemberDetailView","MemberDetail_Composed","proposalsMemberVotedOn","MemberDetail_MemberDetail","MemberDetail_ProposalDetail","coinbase","LoggedInUser","GET_ELDERS","MemberList_templateObject","Elders","elder","MemberList_MemberAvatar","GET_NON_ELDERS","MemberList_templateObject2","Contributors","contributor","MemberList","MemberList_LoggedInUser","paddingLeft","MemberList_Elders","MemberList_Contributors","MemberListView","higherProps","MemberList_MemberList","components_MemberDetail","formatter","AssetsFields","handleAsset","bind","assertThisInitialized","deleteAsset","onHandleAsset","assetIndex","onHandleDeleteAsset","paddingTop","paddingRight","assets","symbol","ProposalSubmission","tribute","asset","amount","logo","formErrors","titleValid","descriptionValid","assetsValid","sharesValid","formValid","addAsset","handleInput","handleDeleteAsset","fieldName","fieldValidationErrors","keys","i","validateForm","defineProperty","validateField","_this5","splice","submitProposal","stretched","transparent","fluid","TextArea","rows","row","ProposalSubmission_AssetsFields","GridColumn","currencies","ethereumIcon","CurrencyElement","GuildBank","redeemToken","GuildBank_CurrencyElement","Login","loginWithMetamask","doLoginBypassAuth","loginWithGnosisSafe","listAccounts","writeData","toLowerCase","loginComplete","history","resolvers","Proposal","Mutation","_","cache","fragment","resolvers_templateObject","readFragment","typeDefs","schema_templateObject","InMemoryCache","ApolloClient","link","HttpLink","uri","initialData","onResetStore","IS_LOGGED_IN","App_templateObject","loggedInUserData","App","restored","populateData","refetch","compute","getCurrentPeriod","balanceOf","ethPerShare","gt","toNumber","parseEther","dataToWrite","BrowserRouter","App_Composed","Header_Header","Home_HomePage","Redirect","components_ProposalList","components_MemberList","ProposalSubmission_ProposalSubmission","GuildBank_GuildBank","Login_Login","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c0f7ed75.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bull.204229a6.png\";","module.exports = \"data:image/png;base64,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\"","import React from 'react';\n\n\nexport default () => (\n  <div id=\"background\">\n    <div className=\"blurred_image\" />\n    <div className=\"dark_overlay\" />\n  </div>\n)\n","import gql from \"graphql-tag\";\n\nexport const GET_EXCHANGE_RATE = gql`\n  query ExchangeRate {\n    exchangeRate @client\n  }\n`;\n\nexport const GET_TOTAL_SHARES = gql`\n  query TotalShares {\n    totalShares @client\n  }\n`;\n\nexport const GET_GUILD_BANK_VALUE = gql`\n  query GuildBankValue {\n    guildBankValue @client\n  }\n`;\n\nexport const GET_SHARE_VALUE = gql`\n  query ShareValue {\n    shareValue @client\n  }\n`;\n\nexport const GET_CURRENT_PERIOD = gql`\n  query CurrentPeriod {\n    currentPeriod @client\n  }\n`;\n\nexport const GET_METADATA = gql`\n  query Metadata {\n    exchangeRate @client\n    totalShares @client\n    guildBankValue @client\n    shareValue @client\n    currentPeriod @client\n  }\n`;\n\nexport const GET_MEMBER_DETAIL = gql`\n  query Member($address: String!) {\n    member(id: $address) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n  }\n`;\n\nexport const GET_MEMBERS = gql`\n  {\n    members(where: { shares_gt: 0, isActive: true }) {\n      id\n    }\n  }\n`;\n\n// TODO filter this to get current proposals?\nexport const GET_PROPOSALS = gql`\n  {\n    proposals {\n      id\n    }\n  }\n`;\n\nexport const GET_PROPOSAL_LIST = gql`\n  {\n    proposals(orderBy: proposalIndex, orderDirection: desc) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n`;\n\nexport const GET_PROPOSAL_HISTORY = gql`\n  query Proposals($id: String!) {\n    proposals {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      votes(where: { memberAddress: $id }) {\n        id\n        uintVote\n      }\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n`;\n\nexport const GET_PROPOSAL_DETAIL = gql`\n  query Proposal($id: String!) {\n    proposal(id: $id) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      votes {\n        member {\n          id\n          shares\n        }\n        uintVote\n      }\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n`;\n\nexport const SET_PROPOSAL_ATTRIBUTES = gql`\n  mutation SetAttributes(\n    $status: String!, \n    $title: String!, \n    $description: String!, \n    $gracePeriod: Number!, \n    $votingEnds: Number!, \n    $votingStarts: Number!, \n    $readyForProcessing: Bool!\n  ) {\n    setAttributes(\n      status: $status, \n      title: $title, \n      description: $description, \n      gracePeriod: $gracePeriod, \n      votingEnds: $votingEnds, \n      votingStarts: $votingStarts, \n      readyForProcessing: $readyForProcessing\n    ) @client {\n      status\n      title\n      description\n      gracePeriod\n      votingEnds\n      votingStarts\n      readyForProcessing\n    }\n  }\n`;\n","import SafeProvider from \"safe-web3-provider\"\nimport { ethers } from 'ethers';\n\nconst molochAbi = require('./abi/Moloch.abi.json')\nconst erc20Abi = require('./abi/ERC20.abi.json')\nconst medianizerAbi = require('./abi/Medianizer.abi.json')\n\nlet moloch\nlet token\nlet medianizer\nlet eth\n\nexport async function initMetamask() {\n  if (!window.ethereum && !window.web3) {\n    // Non-DApp browsers won't work.\n    alert(\"This page must be viewed on a Web3 enabled browser.\");\n  }\n  if (window.ethereum) {\n    // Modern DApp browsers need to enable Metamask access.\n    try {\n      await window.ethereum.enable()\n      let web3Provider = window['ethereum'] || window.web3.currentProvider\n      eth = new ethers.providers.Web3Provider(web3Provider);\n      eth = eth.getSigner()\n      localStorage.setItem(\"loginType\", \"metamask\");\n    } catch (error) {\n      alert(\"Metamask needs to be enabled.\")\n    }\n  }\n  return eth\n}\n\nexport function initGnosisSafe() {\n  /**\n   *  Create Safe Provider\n   */\n  const provider = new SafeProvider({\n    // TODO: CHANGE THIS TO INFURA/ALCHEMY\n    rpcUrl: process.env.REACT_APP_ETH_URL\n  });\n\n  /**\n   *  Create Web3\n   */\n  eth = new ethers.providers.Web3Provider(provider);\n  localStorage.setItem(\"loginType\", \"gnosis\");\n  return eth\n}\n\nexport async function initMoloch() {\n  if (!eth) {\n    if (localStorage.getItem(\"loginType\") === \"metamask\") {\n      eth = await initMetamask()\n    } else if (localStorage.getItem(\"loginType\") === \"gnosis\") {\n      eth = await initGnosisSafe()\n    } else {\n      throw new Error(\"Not logged in with web3.\")\n    }\n  }\n  moloch = new ethers.Contract(process.env.REACT_APP_MOLOCH_ADDRESS, molochAbi, eth)\n  // moloch = new web3.eth.Contract(molochAbi, process.env.REACT_APP_MOLOCH_ADDRESS)\n  return moloch\n}\n\nexport async function initToken() {\n  if (!eth) {\n    if (localStorage.getItem(\"loginType\") === \"metamask\") {\n      eth = await initMetamask()\n    } else if (localStorage.getItem(\"loginType\") === \"gnosis\") {\n      eth = await initGnosisSafe()\n    } else {\n      throw new Error(\"Not logged in with web3.\")\n    }\n  }\n  // token = new web3.eth.Contract(erc20Abi, process.env.REACT_APP_TOKEN_ADDRESS)\n  token = new ethers.Contract(process.env.REACT_APP_TOKEN_ADDRESS, erc20Abi, eth)\n  return token\n}\n\nexport async function initMedianizer() {\n  // pull from mainnet\n  let provider = ethers.getDefaultProvider();\n  medianizer = new ethers.Contract(process.env.REACT_APP_MEDIANIZER_ADDRESS, medianizerAbi, provider)\n  return medianizer\n}\n\nexport async function getWeb3() {\n  if (!eth) {\n    if (localStorage.getItem(\"loginType\") === \"metamask\") {\n      eth = await initMetamask()\n    } else if (localStorage.getItem(\"loginType\") === \"gnosis\") {\n      eth = await initGnosisSafe()\n    } else {\n      throw new Error(\"Not logged in with web3.\")\n    }\n  }\n  return eth\n}\n\nexport async function getMoloch() {\n  if (!moloch) {\n    await initMoloch()\n  }\n  return moloch\n}\n\nexport async function getToken() {\n  if (!token) {\n    await initToken()\n  }\n  return token\n}\n\nexport async function getMedianizer() {\n  if (!medianizer) {\n    await initMedianizer()\n  }\n  return medianizer\n}","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Grid, Icon, Dropdown, Form, Button } from \"semantic-ui-react\";\nimport { Query, withApollo } from \"react-apollo\";\nimport { GET_MEMBER_DETAIL } from \"../helpers/graphQlQueries\";\nimport { getMoloch } from \"../web3\";\n\nconst MainMenu = props => (\n  <div className=\"dropdownItems\">\n    {props.member && props.member.isActive ? (\n      <>\n        <Dropdown.Item className=\"item\" onClick={() => props._handleCloseDropdown()}>\n          <Link to={`/members/${props.member.id}`} className=\"link\">\n            <p>\n              <Icon name=\"user\" />\n              View Profile\n            </p>\n          </Link>\n        </Dropdown.Item>\n        <Dropdown.Divider />\n        <Dropdown.Item\n          icon=\"key\"\n          className=\"item\"\n          content=\"Change Delegate Key\"\n          onClick={() => {\n            props._handleOpenDropdown();\n            props.onLoadChangeDelegateKey();\n          }}\n        />\n        <Dropdown.Divider />\n        <Dropdown.Item\n          icon=\"dollar\"\n          className=\"item\"\n          content=\"Ragequit\"\n          onClick={() => {\n            props._handleOpenDropdown();\n            props.onLoadWithdrawLootToken();\n          }}\n        />\n        <Dropdown.Divider />\n      </>\n    ) : null}\n    <Dropdown.Item className=\"item\">\n      <Link\n        to=\"/login\"\n        className=\"link\"\n        onClick={async () => {\n          props._handleCloseDropdown();\n          window.localStorage.setItem(\"loggedInUser\", \"\");\n          await props.client.resetStore();\n        }}\n      >\n        <p>\n          <Icon name=\"power off\" />\n          Sign Out\n        </p>\n      </Link>\n    </Dropdown.Item>\n  </div>\n);\nconst MainMenuWrapped = withApollo(MainMenu);\n\nclass ChangeDelegateKeyMenu extends React.Component {\n  state = {\n    newDelegateKey: \"\"\n  }\n\n  submitChangeDelegateKey = async () => {\n    const { newDelegateKey } = this.state;\n    const { moloch } = this.props\n\n    console.log(`Sending moloch.updateDelegateKey(${newDelegateKey})`);\n\n    const tx = await moloch.updateDelegateKey(newDelegateKey);\n    console.log(\"tx: \", tx);\n    this._handleCloseDropdown();\n  };\n\n  render() {\n    const { newDelegateKey } = this.state;\n    const { onLoadMain } = this.props\n    return (\n      <div>\n        <Dropdown.Item icon=\"arrow left\" className=\"item\" content=\"Back to Menu\" onClick={() => onLoadMain()} />\n        <Dropdown.Divider />\n        <Dropdown.Item className=\"item submenu\">\n          <p>\n            <Icon name=\"key\" />\n            Change Delegate Key\n          </p>\n          <Form.Input placeholder=\"Enter new key address\" onChange={event => this.setState({ newDelegateKey: event.target })} value={newDelegateKey} />\n          <Button onClick={this.submitChangeDelegateKey}>Save</Button>\n        </Dropdown.Item>\n      </div>\n    );\n  }\n}\n\nclass WithdrawLootTokenMenu extends React.Component {\n  state = {\n    ragequitAmount: \"\"\n  };\n\n  submitRagequit = async () => {\n    const { ragequitAmount } = this.state;\n    const { moloch } = this.props;\n\n    console.log(`Sending moloch.ragequit(${ragequitAmount})`);\n\n    const tx = await moloch.ragequit(ragequitAmount);\n    console.log(\"tx: \", tx);\n    this._handleCloseDropdown();\n  };\n\n  render() {\n    const { ragequitAmount } = this.state;\n    const { onLoadMain } = this.props\n    return (\n      <div>\n        <Dropdown.Item icon=\"arrow left\" className=\"item\" content=\"Back to Menu\" onClick={() => onLoadMain()} />\n        <Dropdown.Divider />\n        <Dropdown.Item className=\"item submenu\">\n          <p>\n            <Icon name=\"dollar\" />\n            Ragequit\n          </p>\n          <Form.Input\n            placeholder=\"Number of shares\"\n            onChange={event => this.setState({ ragequitAmount: event.target })}\n            value={ragequitAmount}\n          />\n          <Button onClick={this.submitRagequit}>Withdraw</Button>\n        </Dropdown.Item>\n      </div>\n    );\n  }\n}\n\nexport default class Header extends Component {\n  state = {\n    visibleMenu: \"main\",\n    visibleRightMenu: false,\n    moloch: {},\n  };\n\n  async componentDidMount() {\n    const moloch = await getMoloch();\n    this.setState({ moloch });\n  }\n\n  _handleOpenDropdown() {\n    this.setState({ visibleRightMenu: true });\n  }\n\n  _handleCloseDropdown() {\n    this.setState({ visibleRightMenu: false });\n  }\n\n  getTopRightMenuContent(member) {\n    let topRightMenuContent;\n    const { moloch } = this.state;\n    switch (this.state.visibleMenu) {\n      case \"main\":\n        topRightMenuContent = (\n          <MainMenuWrapped\n            member={member}\n            _handleOpenDropdown={() => this._handleOpenDropdown()}\n            _handleCloseDropdown={() => this._handleCloseDropdown()}\n            onLoadChangeDelegateKey={() => this.setState({ visibleMenu: \"changeDelegateKey\" })}\n            onLoadWithdrawLootToken={() => this.setState({ visibleMenu: \"withdrawLootToken\" })}\n          />\n        );\n        break;\n      case \"changeDelegateKey\":\n        topRightMenuContent = (\n          <ChangeDelegateKeyMenu\n            onLoadMain={() => {\n              this._handleOpenDropdown();\n              this.setState({ visibleMenu: \"main\" });\n            }}\n            moloch={moloch}\n          />\n        );\n        break;\n      case \"withdrawLootToken\":\n        topRightMenuContent = (\n          <WithdrawLootTokenMenu\n            onLoadMain={() => {\n              this._handleOpenDropdown();\n              this.setState({ visibleMenu: \"main\" });\n            }}\n            moloch={moloch}\n          />\n        );\n        break;\n      default:\n        break;\n    }\n    return topRightMenuContent;\n  }\n\n  render() {\n    const { loggedInUser } = this.props;\n    return (\n      <Query query={GET_MEMBER_DETAIL} variables={{ address: loggedInUser }}>\n        {({ loading, error, data }) => {\n          if (loading) return \"Loading...\";\n          if (error) throw new Error(`Error!: ${error}`);\n          return (\n            <div id=\"header\">\n              <Grid columns=\"equal\" verticalAlign=\"middle\">\n                {this.props.loggedInUser ? (\n                  <Grid.Column textAlign=\"left\" className=\"menu\">\n                    {/* <Dropdown icon=\"bars\">\n                <Dropdown.Menu className=\"menu blurred\" direction=\"right\">\n                  <Link to=\"guildbank\" className=\"item\">\n                    <p>Guild Bank</p>\n                  </Link>\n                  <Dropdown.Divider />\n                  <Link to=\"/members\" className=\"item\">\n                    <p>Members</p>\n                  </Link>\n                  <Dropdown.Divider />\n                  <Link to=\"/proposals\" className=\"item\">\n                    <p>Proposals</p>\n                  </Link>\n                </Dropdown.Menu>\n              </Dropdown> */}\n                  </Grid.Column>\n                ) : null}\n                <Grid.Column textAlign=\"center\" className=\"logo\">\n                  <Link to=\"/\">MOLOCH</Link>\n                </Grid.Column>\n                {this.props.loggedInUser ? (\n                  <Grid.Column textAlign=\"right\" className=\"dropdown\">\n                    <Dropdown\n                      className=\"right_dropdown\"\n                      open={this.state.visibleRightMenu}\n                      onBlur={() => this._handleCloseDropdown()}\n                      onFocus={() => this._handleOpenDropdown()}\n                      text={`${loggedInUser.substring(0, 6)}...`}\n                    >\n                      <Dropdown.Menu className=\"menu blurred\" direction=\"left\">\n                        {this.getTopRightMenuContent(data.member)}\n                      </Dropdown.Menu>\n                    </Dropdown>\n                  </Grid.Column>\n                ) : null}\n              </Grid>\n            </div>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n","import React from 'react';\n\n\nexport default ({ children }) => (\n  <div id=\"wrapper\">\n    { children }\n  </div>\n)","import { utils } from \"ethers\";\n\nexport const currencyFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  minimumFractionDigits: 2\n});\n\n/**\n * Converts Wei amount to Dollars\n * @param {*} weiAmount \n * @param {*} exchangeRate in Wei units\n */\nexport function convertWeiToDollars(weiAmount, exchangeRate) {\n  const weitoEth = utils.formatEther(weiAmount)\n  const exchWeiToEth = utils.formatEther(exchangeRate)\n  \n  return currencyFormatter.format(parseFloat(weitoEth * exchWeiToEth))\n}","import React from \"react\";\nimport { Grid, Button, Segment, Modal, Form, Statistic } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport { Query } from \"react-apollo\";\nimport { getToken } from \"../web3\";\nimport { utils } from \"ethers\";\nimport { GET_METADATA, GET_MEMBERS, GET_PROPOSALS } from \"../helpers/graphQlQueries\";\nimport { convertWeiToDollars } from \"../helpers/currency\";\nimport { adopt } from \"react-adopt\";\n\nconst Composed = adopt({\n  members: ({ render }) => <Query query={GET_MEMBERS}>{render}</Query>,\n  proposals: ({ render }) => <Query query={GET_PROPOSALS}>{render}</Query>,\n  metadata: ({ render }) => <Query query={GET_METADATA}>{render}</Query>\n});\n\nconst NumMembers = ({ members }) => (\n  <Link to=\"/members\" className=\"link\">\n    <Button size=\"large\" color=\"grey\" className=\"btn_link\">\n      {members.length} Members\n    </Button>\n  </Link>\n);\n\nconst NumProposals = ({ proposals }) => (\n  <Link to=\"/proposals\" className=\"link\">\n    <Button size=\"large\" color=\"grey\" className=\"btn_link\">\n      {proposals.length} Proposals\n    </Button>\n  </Link>\n);\n\nexport default class HomePage extends React.Component {\n  state = {\n    approval: \"\",\n    token: null,\n    userAddress: null\n  };\n\n  async componentDidMount() {\n    const token = await getToken();\n\n    this.setState({\n      token\n    });\n  }\n\n  handleChange = e => this.setState({ approval: e.target.value });\n\n  handleSubmit = () => {\n    const { loggedInUser } = this.props;\n    const { approval, token } = this.state;\n    token.methods.approve(process.env.REACT_APP_MOLOCH_ADDRESS, approval).send({ from: loggedInUser });\n  };\n\n  render() {\n    const { approval } = this.state;\n    return (\n      <Composed>\n        {({ members, proposals, metadata }) => {\n          if (members.loading || proposals.loading || metadata.loading) return <Segment className=\"blurred box\">Loading...</Segment>;\n          if (members.error) throw new Error(`Error!: ${members.error}`);\n          if (proposals.error) throw new Error(`Error!: ${proposals.error}`);\n          if (metadata.error) throw new Error(`Error!: ${metadata.error}`);\n          const { guildBankValue, exchangeRate, totalShares, shareValue } = metadata.data;\n          return (\n            <div id=\"homepage\">\n              <Grid columns={16} verticalAlign=\"middle\">\n                <Grid.Column mobile={16} tablet={6} computer={4} className=\"guild_value\">\n                  <Link to=\"/guildbank\" className=\"text_link\">\n                    <Statistic inverted label=\"Guild Bank Value\" value={convertWeiToDollars(guildBankValue, exchangeRate)} />\n                  </Link>\n                </Grid.Column>\n                <Grid.Column mobile={16} tablet={10} computer={8} textAlign=\"center\" className=\"browse_buttons\">\n                  <NumMembers members={members.data.members} />\n                  <NumProposals proposals={proposals.data.proposals} />\n                </Grid.Column>\n                <Grid.Column mobile={16} tablet={6} computer={4} className=\"guild_value\">\n                  <Modal\n                    basic\n                    size=\"small\"\n                    trigger={\n                      <Button size=\"large\" color=\"grey\" className=\"browse_buttons\">\n                        Approve wETH\n                      </Button>\n                    }\n                  >\n                    <Modal.Header>Approve wETH</Modal.Header>\n                    <Modal.Content>\n                      <Form onSubmit={this.handleSubmit}>\n                        <Form.Field>\n                          <label>Amount to Approve</label>\n                          <input placeholder=\"Amount in Wei\" name=\"amount\" value={approval} onChange={this.handleChange} className=\"asset_amount\" />\n                        </Form.Field>\n                        <Button type=\"submit\" color=\"grey\" className=\"btn_link\">\n                          Submit\n                        </Button>\n                      </Form>\n                    </Modal.Content>\n                  </Modal>\n                </Grid.Column>\n\n                <Grid.Column width={16}>\n                  <Segment className=\"blurred box\">\n                    <Grid columns=\"equal\" className=\"graph_values\">\n                      <Grid.Column textAlign=\"left\">\n                        <Statistic inverted label=\"Total Shares\" value={totalShares} />\n                      </Grid.Column>\n                      <Grid.Column textAlign=\"center\">\n                        <Statistic inverted label=\"Total ETH\" value={utils.formatEther(guildBankValue)} />\n                      </Grid.Column>\n                      <Grid.Column textAlign=\"right\">\n                        <Statistic inverted label=\"Share Value\" value={convertWeiToDollars(shareValue, exchangeRate)} />\n                      </Grid.Column>\n                    </Grid>\n                  </Segment>\n                </Grid.Column>\n              </Grid>\n            </div>\n          );\n        }}\n      </Composed>\n    );\n  }\n}\n","import React from 'react';\nimport { Progress, Grid } from 'semantic-ui-react';\n\n\nconst ProgressBar = ({ yes, no, totalShares }) => {\n  const total = yes + no\n  const percentYes = yes === 0 ? 0 : Math.round((yes / total) * 100)\n  const percentNo = no === 0 ? 0 : Math.round((no / total) * 100)\n  return (\n  <>\n    <div style={{ position: \"relative\" }}>\n      <Progress\n        percent={percentYes + percentNo}\n        color=\"red\"\n        size=\"small\"\n        style={{\n          position: \"absolute\",\n          top: \"0\",\n          width: \"100%\"\n        }}\n        className={no === 0 ? \"hide-bar\" : \"\"}\n      />\n      <Progress percent={percentYes} color=\"green\" size=\"small\" className={yes === 0 ? \"hide-bar\" : \"\"} />\n    </div>\n    <Grid columns=\"equal\">\n      <Grid.Column floated=\"left\">{yes} Yes Votes</Grid.Column>\n      <Grid.Column floated=\"right\" textAlign=\"right\">\n        {no} No Votes\n      </Grid.Column>\n    </Grid>\n  </>\n)};\n\nexport default ProgressBar","import React from \"react\"\nimport { getMoloch } from \"../web3\";\n\nconst VOTING_PERIOD_LENGTH = 35;\nconst GRACE_PERIOD_LENGTH = 35;\n\nexport const ProposalStatus = {\n  Unknown: \"Unknown\",\n  InQueue: \"InQueue\",\n  VotingPeriod: \"VotingPeriod\",\n  GracePeriod: \"GracePeriod\",\n  Aborted: \"Aborted\",\n  Passed: \"Passed\",\n  Failed: \"Failed\",\n  ReadyForProcessing: \"ReadyForProcessing\"\n};\n\nexport function getProposalCountdownText(proposal) {\n  switch (proposal.status) {\n    case ProposalStatus.InQueue:\n      return (\n        <>\n          <span className=\"subtext\">Voting Begins: </span>\n          <span>\n            {proposal.votingStarts ? proposal.votingStarts : \"-\"} period{proposal.votingStarts === 1 ? null : \"s\"}\n          </span>\n        </>\n      );\n    case ProposalStatus.VotingPeriod:\n      return (\n        <>\n          <span className=\"subtext\">Voting Ends: </span>\n          <span>\n            {proposal.votingEnds ? proposal.votingEnds : \"-\"} period{proposal.votingEnds === 1 ? null : \"s\"}\n          </span>\n        </>\n      );\n    case ProposalStatus.GracePeriod:\n      return (\n        <>\n          <span className=\"subtext\">Grace Period Ends: </span>\n          <span>\n            {proposal.gracePeriod ? proposal.gracePeriod : \"-\"} period{proposal.gracePeriod === 1 ? null : \"s\"}\n          </span>\n        </>\n      );\n    default:\n      return <></>;\n  }\n}\n\n// fill in missing data from onchain\nexport async function getProposalDetailsFromOnChain(proposal, currentPeriod) {\n  const moloch = await getMoloch()\n  currentPeriod = parseInt(currentPeriod)\n  console.log('currentPeriod: ', currentPeriod);\n  \n  const inQueue = proposal => currentPeriod < proposal.startingPeriod;\n\n  const inGracePeriod = proposal =>\n    currentPeriod > proposal.startingPeriod + VOTING_PERIOD_LENGTH &&\n    currentPeriod < proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH;\n\n  const inVotingPeriod = proposal => currentPeriod >= proposal.startingPeriod && currentPeriod <= proposal.startingPeriod + VOTING_PERIOD_LENGTH;\n\n  const enoughPassingVotes = proposal => Math.round((parseInt(proposal.yesVotes) / (parseInt(proposal.yesVotes) + parseInt(proposal.noVotes))) * 100) > 50\n\n  const passedVotingAndGrace = proposal => currentPeriod > proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH\n\n  const passedVoting = proposal => currentPeriod > proposal.startingPeriod + VOTING_PERIOD_LENGTH\n\n  const lastProposalProcessed = async proposal => {\n    if (proposal.proposalIndex === 0) {\n      return true\n    }\n    const lastProposalFromChain = await moloch.proposalQueue(proposal.proposalIndex - 1);\n    return lastProposalFromChain.processed\n  }\n\n  proposal.proposalIndex = parseInt(proposal.proposalIndex);\n\n  const proposalFromChain = await moloch.proposalQueue(proposal.proposalIndex);\n  console.log('proposalFromChain: ', proposalFromChain);\n  proposal.startingPeriod = parseInt(proposalFromChain.startingPeriod.toString());\n\n  proposal.votingEnds = 0;\n  proposal.gracePeriod = 0;\n  proposal.votingStarts = 0\n\n  proposal.lastProposalProcessed = await lastProposalProcessed(proposal)\n  if (proposal.aborted) {\n    proposal.status = ProposalStatus.Aborted;\n  } else if (proposal.processed && proposal.didPass) {\n    proposal.status = ProposalStatus.Passed;\n  } else if (proposal.processed && !proposal.didPass) {\n    proposal.status = ProposalStatus.Failed;\n  } else if (inGracePeriod(proposal)) {\n    proposal.status = ProposalStatus.GracePeriod;\n    proposal.gracePeriod = proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH - currentPeriod;\n  } else if (inVotingPeriod(proposal)) {\n    proposal.status = ProposalStatus.VotingPeriod;\n    proposal.votingEnds = proposal.startingPeriod + VOTING_PERIOD_LENGTH - currentPeriod;\n  } else if (inQueue(proposal)) {\n    proposal.status = ProposalStatus.InQueue;\n    proposal.votingStarts = proposal.startingPeriod - currentPeriod\n  } else if (passedVotingAndGrace(proposal)) {\n    proposal.status = ProposalStatus.ReadyForProcessing\n  } else {\n    proposal.status = ProposalStatus.Unknown\n  }\n\n  proposal.votingEnded = passedVoting(proposal);\n  proposal.graceEnded = passedVotingAndGrace(proposal);\n\n  proposal.readyForProcessing = false;\n  if (\n    proposal.status === ProposalStatus.InQueue &&\n    passedVotingAndGrace(proposal) &&\n    enoughPassingVotes(proposal) &&\n    proposal.lastProposalProcessed\n  ) {\n    proposal.readyForProcessing = true;\n  }\n\n  try {\n    let details = JSON.parse(proposalFromChain.details);\n    proposal.title = details.title || proposalFromChain.details || \"\";\n    proposal.description = details.description || \"\";\n  } catch (e) {\n    console.log(\n      `Could not parse details from proposal.proposalIndex: ${proposal.proposalIndex} proposalFromChain: ${JSON.stringify(\n        proposalFromChain,\n        null,\n        2\n      )}`\n    );\n    proposal.title = proposalFromChain.details || \"\"\n    proposal.description = \"\"\n  }\n\n  return proposal;\n}\n","import React, { Component } from \"react\";\nimport { Divider, Grid, Icon, Segment, Button, Image } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport hood from \"assets/hood.png\";\n\nimport ProgressBar from \"./ProgressBar\";\n\nimport { withApollo } from \"react-apollo\";\nimport { getProposalDetailsFromOnChain, ProposalStatus, getProposalCountdownText } from \"../helpers/proposals\";\nimport { getMoloch } from \"../web3\";\nimport { SET_PROPOSAL_ATTRIBUTES, GET_PROPOSAL_DETAIL, GET_METADATA, GET_MEMBER_DETAIL } from \"../helpers/graphQlQueries\";\nimport { convertWeiToDollars } from \"../helpers/currency\";\nimport { utils } from \"ethers\";\n\nexport const Vote = {\n  Null: 0, // default value, counted as abstention\n  Yes: 1,\n  No: 2\n};\n\nconst MemberAvatar = ({ member, shares }) => {\n  return (\n    <Grid.Column mobile={4} tablet={3} computer={3} textAlign=\"center\" className=\"member_avatar\" title={member}>\n      <Link to={`/members/${member}`} className=\"uncolored\">\n        <Image src={hood} centered />\n        <p className=\"name\">{!member ? \"\" : member.length > 10 ? member.substring(0, 10) + \"...\" : member}</p>\n      </Link>\n    </Grid.Column>\n  );\n};\n\nclass ProposalDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      proposal: {\n        tokenTribute: 0,\n        sharesRequested: 0,\n        votingEnded: true,\n        graceEnded: true,\n        yesVotes: 0,\n        noVotes: 0,\n        status: ProposalStatus.InQueue\n      },\n      user: {\n        id: 0,\n        shares: 0,\n        isActive: false\n      },\n      moloch: null,\n      shareValue: \"0\",\n      exchangeRate: \"0\"\n    };\n\n    this.fetchData(props);\n  }\n\n  async componentDidMount() {\n    const moloch = await getMoloch();\n    this.setState({\n      moloch\n    });\n  }\n\n  async fetchData(props) {\n    const { client, loggedInUser } = props;\n\n    const { data: proposalResult } = await client.query({\n      query: GET_PROPOSAL_DETAIL,\n      variables: { id: this.props.match.params.id }\n    });\n\n    const { data: metadata } = await client.query({\n      query: GET_METADATA\n    });\n\n    const userResult = await client.query({\n      query: GET_MEMBER_DETAIL,\n      variables: { address: loggedInUser }\n    });\n\n    let proposal = proposalResult.proposal;\n    if (proposal.status === ProposalStatus.Unknown) {\n      const fullProp = await getProposalDetailsFromOnChain(proposal, metadata.currentPeriod);\n      const result = await client.mutate({\n        mutation: SET_PROPOSAL_ATTRIBUTES,\n        variables: {\n          id: proposal.id,\n          status: fullProp.status,\n          title: fullProp.title,\n          description: fullProp.description,\n          gracePeriod: fullProp.gracePeriod,\n          votingEnds: `${fullProp.votingEnds}`,\n          votingStarts: `${fullProp.votingStarts}`,\n          readyForProcessing: fullProp.readyForProcessing\n        }\n      });\n      proposal = {\n        ...proposal,\n        status: result.data.setAttributes.status,\n        title: result.data.setAttributes.title,\n        description: result.data.setAttributes.description,\n        gracePeriod: result.data.setAttributes.gracePeriod,\n        votingEnds: result.data.setAttributes.votingEnds,\n        votingStarts: result.data.setAttributes.votingStarts,\n        readyForProcessing: result.data.setAttributes.readyForProcessing\n      };\n    }\n\n    const userHasVoted = proposal.votes.find(vote => vote.member.id === loggedInUser) ? true : false;\n\n    this.setState({\n      proposal,\n      user: userResult.data.member,\n      shareValue: metadata.shareValue,\n      exchangeRate: metadata.exchangeRate,\n      userHasVoted\n    });\n  }\n\n  handleNo = async () => {\n    const { proposal, moloch } = this.state;\n    await moloch.submitVote(proposal.proposalIndex, Vote.No);\n    this.setState({\n      userHasVoted: true\n    });\n  };\n\n  handleYes = async () => {\n    const { proposal, moloch } = this.state;\n    await moloch.submitVote(proposal.proposalIndex, Vote.Yes);\n    this.setState({\n      userHasVoted: true\n    });\n  };\n\n  handleProcess = async () => {\n    const { proposal, moloch } = this.state;\n    await moloch.processProposal(proposal.proposalIndex);\n  };\n\n  render() {\n    const { shareValue, proposal, user, exchangeRate, userHasVoted } = this.state;\n\n    const cannotVote = userHasVoted || proposal.status !== ProposalStatus.VotingPeriod || (!(user && user.shares) || !(user && user.isActive));\n    return (\n      <div id=\"proposal_detail\">\n        <Grid centered columns={16}>\n          <Segment className=\"transparent box segment\" textAlign=\"center\">\n            <Grid centered columns={14}>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <span className=\"title\">{proposal.title ? proposal.title : \"N/A\"}</span>\n              </Grid.Column>\n            </Grid>\n            <Grid centered columns={14}>\n              <Grid.Column mobile={16} tablet={16} computer={4}>\n                <div className=\"subtext description\">{proposal.description ? proposal.description : \"N/A\"}</div>\n                <Grid columns=\"equal\" className=\"tokens\">\n                  <Grid.Row>\n                    <Grid.Column className=\"tributes\">\n                      <Segment className=\"pill\" textAlign=\"center\">\n                        <Icon name=\"ethereum\" />\n                        {utils.formatEther(proposal.tokenTribute)} ETH\n                      </Segment>\n                    </Grid.Column>\n                  </Grid.Row>\n                </Grid>\n                <Grid columns=\"equal\">\n                  <Grid.Column>\n                    <p className=\"subtext voting\">Shares</p>\n                    <p className=\"amount\">{proposal.sharesRequested}</p>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"right\">\n                    <p className=\"subtext\">Total USD Value</p>\n                    <p className=\"amount\">\n                      {convertWeiToDollars(\n                        utils\n                          .bigNumberify(proposal.sharesRequested)\n                          .mul(shareValue)\n                          .toString(),\n                        exchangeRate\n                      )}\n                    </p>\n                  </Grid.Column>\n                </Grid>\n              </Grid.Column>\n\n              <Grid.Column mobile={16} tablet={16} computer={2}>\n                <Divider vertical />\n              </Grid.Column>\n\n              <Grid.Column mobile={16} tablet={16} computer={6}>\n                <Grid columns={16}>\n                  <Grid.Column textAlign=\"center\" mobile={16} tablet={16} computer={16} className=\"pill_column\">\n                    <span className=\"pill\">{getProposalCountdownText(proposal)}</span>\n                  </Grid.Column>\n                </Grid>\n                <Grid columns={16} className=\"member_list\">\n                  <Grid.Row>\n                    <Grid.Column mobile={16} tablet={16} computer={16} className=\"pill_column\">\n                      {proposal.votes && proposal.votes.length > 0 ? (\n                        <Grid>\n                          <Grid.Row className=\"members_row\">\n                            {/* centered */}\n                            {proposal.votes.map((vote, idx) => (\n                              <MemberAvatar member={vote.member.id} shares={vote.member.shares} key={idx} />\n                            ))}\n                          </Grid.Row>\n                        </Grid>\n                      ) : null}\n                    </Grid.Column>\n                  </Grid.Row>\n                </Grid>\n                <Grid>\n                  <Grid.Column>\n                    <ProgressBar yes={parseInt(proposal.yesVotes)} no={parseInt(proposal.noVotes)} />\n                  </Grid.Column>\n                </Grid>\n                <Grid columns=\"equal\" centered>\n                  <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                    <Button className=\"btn\" color=\"grey\" disabled={cannotVote} onClick={this.handleNo}>\n                      Vote No\n                    </Button>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                    <Button className=\"btn\" color=\"grey\" disabled={cannotVote} onClick={this.handleYes}>\n                      Vote Yes\n                    </Button>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                    <Button className=\"btn\" color=\"grey\" onClick={this.handleProcess} disabled={!proposal.readyForProcessing}>\n                      Process Proposal\n                    </Button>\n                  </Grid.Column>\n                </Grid>\n              </Grid.Column>\n            </Grid>\n          </Segment>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default withApollo(ProposalDetail);\n","import React from \"react\";\nimport { Segment, Grid, Button, Tab } from \"semantic-ui-react\";\nimport { Route, Switch, Link } from \"react-router-dom\";\n\nimport ProposalDetail from \"./ProposalDetail\";\nimport ProgressBar from \"./ProgressBar\";\nimport { Query, withApollo } from \"react-apollo\";\nimport { getProposalDetailsFromOnChain, ProposalStatus, getProposalCountdownText } from \"../helpers/proposals\";\nimport {\n  SET_PROPOSAL_ATTRIBUTES,\n  GET_PROPOSAL_LIST,\n  GET_METADATA,\n  GET_MEMBER_DETAIL\n} from \"../helpers/graphQlQueries\";\nimport { convertWeiToDollars } from \"../helpers/currency\";\nimport { utils } from \"ethers\";\n\nconst ProposalCard = ({ proposal, totalShares, shareValue, exchangeRate }) => {\n  let id = proposal.id;\n  return (\n    <Grid.Column mobile={16} tablet={8} computer={5}>\n      <Link to={{ pathname: `/proposals/${id}` }} className=\"uncolored\">\n        <Segment className=\"blurred box\">\n          <p className=\"name\">{proposal.title ? proposal.title : \"N/A\"}</p>\n          <p className=\"subtext description\">{proposal.description ? proposal.description : \"N/A\"}</p>\n          <Grid columns=\"equal\" className=\"value_shares\">\n            <Grid.Row>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Shares Requested</p>\n                <p className=\"amount\">{proposal.sharesRequested}</p>\n              </Grid.Column>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Total Value</p>\n                <p className=\"amount\">\n                  {convertWeiToDollars(\n                    utils\n                      .bigNumberify(proposal.sharesRequested)\n                      .mul(shareValue)\n                      .toString(),\n                    exchangeRate\n                  )}\n                </p>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          <Grid columns=\"equal\" className=\"deadlines\">\n            <Grid.Row>\n              <Grid.Column textAlign=\"center\">\n                <Segment className=\"voting pill\" textAlign=\"center\">\n                  {getProposalCountdownText(proposal)}\n                </Segment>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          <ProgressBar totalShares={totalShares} yes={parseInt(proposal.yesVotes)} no={parseInt(proposal.noVotes)} />\n        </Segment>\n      </Link>\n    </Grid.Column>\n  );\n};\n\nclass ProposalList extends React.Component {\n  state = {\n    proposals: [],\n    loading: true,\n    totalShares: 0,\n    shareValue: 0,\n    exchangeRate: \"0\"\n  };\n\n  async componentDidMount() {\n    this.fetchData();\n  }\n\n  async fetchData() {\n    const { client } = this.props;\n    this.setState({\n      loading: true\n    });\n    const { data: proposalData } = await client.query({\n      query: GET_PROPOSAL_LIST\n    });\n\n    const { data: metadata } = await client.query({\n      query: GET_METADATA\n    });\n\n    try {\n      await this.determineProposalStatuses(client, proposalData.proposals, metadata.currentPeriod);\n    } catch (e) {\n      console.error(e);\n    } finally {\n      this.setState({\n        loading: false,\n        totalShares: +metadata.totalShares,\n        shareValue: metadata.shareValue,\n        exchangeRate: metadata.exchangeRate\n      });\n    }\n  }\n\n  determineProposalStatuses = async (client, proposals, currentPeriod) => {\n    if (!proposals || proposals.length === 0) {\n      return;\n    }\n\n    const fullProps = [];\n\n    // parallelize data fetch\n    await Promise.all(\n      proposals.map(async proposal => {\n        if (proposal.status === ProposalStatus.Unknown) {\n          const fullProp = await getProposalDetailsFromOnChain(proposal, currentPeriod);\n          const result = await client.mutate({\n            mutation: SET_PROPOSAL_ATTRIBUTES,\n            variables: {\n              id: proposal.id,\n              status: fullProp.status,\n              title: fullProp.title,\n              description: fullProp.description,\n              gracePeriod: fullProp.gracePeriod,\n              votingEnds: `${fullProp.votingEnds}`,\n              votingStarts: `${fullProp.votingStarts}`,\n              readyForProcessing: fullProp.readyForProcessing\n            }\n          });\n          fullProps.push({\n            ...proposal,\n            status: result.data.setAttributes.status,\n            title: result.data.setAttributes.title,\n            description: result.data.setAttributes.description,\n            gracePeriod: result.data.setAttributes.gracePeriod,\n            votingEnds: result.data.setAttributes.votingEnds,\n            votingStarts: result.data.setAttributes.votingStarts,\n            readyForProcessing: result.data.setAttributes.readyForProcessing\n          });\n        } else {\n          fullProps.push(proposal);\n        }\n      })\n    );\n\n    this.setState({\n      proposals: fullProps\n    });\n    return;\n  };\n\n  render() {\n    const { isActive } = this.props;\n    const { proposals, totalShares, loading, shareValue, exchangeRate } = this.state;\n    const gracePeriod = proposals.filter(p => p.status === ProposalStatus.GracePeriod);\n    const votingPeriod = proposals.filter(p => p.status === ProposalStatus.VotingPeriod);\n    const inQueue = proposals.filter(p => p.status === ProposalStatus.InQueue);\n    const completed = proposals.filter(\n      p => p.status === ProposalStatus.Aborted || p.status === ProposalStatus.Passed || p.status === ProposalStatus.Failed\n    );\n\n    const panes = [\n      {\n        menuItem: `Voting Period (${loading ? \"...\" : votingPeriod.length})`,\n        render: () => (\n          <Tab.Pane attached={false}>\n            {this.state.loading ? (\n              <>Loading proposals...</>\n            ) : (\n              <Grid columns={3}>\n                {votingPeriod.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            )}\n          </Tab.Pane>\n        )\n      },\n      {\n        menuItem: `Grace Period (${loading ? \"...\" : gracePeriod.length})`,\n        render: () => (\n          <Tab.Pane attached={false}>\n            <Grid columns={3}>\n              {gracePeriod.map((p, index) => (\n                <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={totalShares} proposal={p} key={index} />\n              ))}\n            </Grid>\n          </Tab.Pane>\n        )\n      },\n      {\n        menuItem: `In Queue (${loading ? \"...\" : inQueue.length})`,\n        render: () => (\n          <Tab.Pane attached={false}>\n            {this.state.loading ? (\n              <>Loading proposals...</>\n            ) : (\n              <Grid columns={3}>\n                {inQueue.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            )}\n          </Tab.Pane>\n        )\n      },\n      {\n        menuItem: `Completed (${loading ? \"...\" : completed.length})`,\n        render: () => (\n          <Tab.Pane attached={false}>\n            {this.state.loading ? (\n              <>Loading proposals...</>\n            ) : (\n              <Grid columns={3}>\n                {completed.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            )}\n          </Tab.Pane>\n        )\n      }\n    ];\n\n    return (\n      <div id=\"proposal_list\">\n        <>\n          <Grid columns={16} verticalAlign=\"middle\">\n            <Grid.Column mobile={16} tablet={8} computer={4} textAlign=\"right\" floated=\"right\" className=\"submit_button\">\n              <Link to={isActive ? \"/proposalsubmission\" : \"/proposals\"} className=\"link\">\n                <Button size=\"large\" color=\"red\" disabled={!isActive}>\n                  New Proposal\n                </Button>\n              </Link>\n            </Grid.Column>\n          </Grid>\n          <Tab menu={{ secondary: true, pointing: true }} panes={panes} />\n        </>\n      </div>\n    );\n  }\n}\nconst ProposalListHOC = withApollo(ProposalList);\n\nconst ProposalListView = ({ loggedInUser }) => {\n  return (\n    <Query query={GET_MEMBER_DETAIL} variables={{ address: loggedInUser }}>\n      {({ loading, error, data }) => {\n        if (loading) return \"Loading...\";\n        if (error) throw new Error(`Error!: ${error}`);\n        return (\n          <Switch>\n            <Route exact path=\"/proposals\" render={props => <ProposalListHOC {...props} isActive={data.member ? data.member.isActive : false} />} />\n            <Route path=\"/proposals/:id\" render={props => <ProposalDetail {...props} loggedInUser={loggedInUser} />} />\n          </Switch>\n        );\n      }}\n    </Query>\n  );\n};\n\nexport default ProposalListView;\n","import React from \"react\";\nimport { Divider, Grid, Segment, Image, Icon, Label, Header } from \"semantic-ui-react\";\n\nimport bull from \"assets/bull.png\";\nimport hood from \"assets/hood.png\";\n\nimport { Query } from \"react-apollo\";\nimport { Vote } from \"./ProposalDetail\";\nimport { utils } from \"ethers\";\nimport { convertWeiToDollars } from \"../helpers/currency\";\nimport { adopt } from \"react-adopt\";\nimport { GET_MEMBER_DETAIL, GET_METADATA, GET_PROPOSAL_HISTORY } from \"../helpers/graphQlQueries\";\n\nconst Composed = adopt({\n  memberDetail: ({ render, name }) => (\n    <Query query={GET_MEMBER_DETAIL} variables={{ address: name }}>\n      {render}\n    </Query>\n  ),\n  metadata: ({ render }) => <Query query={GET_METADATA}>{render}</Query>,\n  proposalHistory: ({ render, name }) => (\n    <Query query={GET_PROPOSAL_HISTORY} variables={{ id: name }}>\n      {render}\n    </Query>\n  )\n});\n\nconst MemberDetail = ({ loggedInUser, member, shareValue, exchangeRate }) => (\n  <Segment className=\"blurred box\">\n    <Grid columns=\"equal\">\n      <Grid.Column>\n        <p className=\"subtext\">Shares</p>\n        <p className=\"amount\">{member.shares}</p>\n      </Grid.Column>\n      <Grid.Column textAlign=\"right\">\n        <p className=\"subtext\">Total Value</p>\n        <p className=\"amount\">\n          {convertWeiToDollars(\n            utils\n              .bigNumberify(member.shares)\n              .mul(shareValue)\n              .toString(),\n            exchangeRate\n          )}\n        </p>\n      </Grid.Column>\n    </Grid>\n    <Grid>\n      <Grid.Column textAlign=\"center\" className=\"avatar\">\n        <Image centered src={loggedInUser === member.id ? bull : hood} size=\"tiny\" />\n      </Grid.Column>\n    </Grid>\n    <p className=\"subtext\">Tribute</p>\n    <Grid columns=\"equal\">\n      <Grid.Row>\n        <Grid.Column>\n          <Segment className=\"pill\" textAlign=\"center\">\n            <Icon name=\"ethereum\" />\n            {utils.formatEther(member.tokenTribute)} ETH\n          </Segment>\n        </Grid.Column>\n      </Grid.Row>\n      <p className=\"subtext\">Delegate Key</p>\n      <Grid.Row>\n        <Grid.Column>\n          <p className=\"subtext\">{member.delegateKey}</p>\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  </Segment>\n);\n\nconst ProposalDetail = ({ proposals }) => (\n  <Segment className=\"blurred box\">\n    <Grid columns=\"equal\" textAlign=\"center\">\n      <Grid.Row className=\"subtext\" style={{ fontSize: 20 }}>\n        History\n      </Grid.Row>\n    </Grid>\n    <Grid columns=\"equal\">\n      <Grid.Row className=\"header\">\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Proposal Title</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Date</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Shares Requested</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Tribute Offered</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Vote</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Status</p>\n        </Grid.Column>\n      </Grid.Row>\n      {proposals && proposals.length > 0 ? (\n        proposals.map((p, idx) => {\n          return (\n            <React.Fragment key={idx}>\n              <Grid.Row verticalAlign=\"middle\">\n                <Grid.Column textAlign=\"center\">\n                  {p.votes.uintVote === Vote.Yes && <Label className=\"dot\" circular color=\"green\" empty />}\n                  {/* TODO: is this right? */}\n                  {(p.votes.uintVote === Vote.No || p.votes.uintVote === Vote.Null) && <Label className=\"dot\" circular color=\"red\" empty />}\n                  {p.title}\n                </Grid.Column>\n                <Grid.Column textAlign=\"center\">\n                  <p className=\"subtext date\">{new Date(p.timestamp * 1000).toISOString().slice(0, 10)}</p>\n                </Grid.Column>\n                <Grid.Column textAlign=\"center\">\n                  <p className=\"subtext date\">{p.sharesRequested}</p>\n                </Grid.Column>\n                <Grid.Column textAlign=\"center\">\n                  <p className=\"subtext date\">{utils.formatEther(p.tokenTribute)}</p>\n                </Grid.Column>\n                <Grid.Column textAlign=\"center\">\n                  <Header as=\"p\" color={p.vote === 2 ? \"green\" : p.vote === 1 ? \"red\" : null}>\n                    {p.vote === 2 ? \"Y\" : p.vote === 1 ? \"N\" : \"\"}\n                  </Header>\n                </Grid.Column>\n                <Grid.Column textAlign=\"center\">\n                  <p className=\"subtext date\">{p.aborted ? \"Aborted\" : p.processed ? (p.didPass ? \"Passed\" : \"Failed\") : \"Pending\"}</p>\n                </Grid.Column>\n              </Grid.Row>\n              <Divider />\n            </React.Fragment>\n          );\n        })\n      ) : (\n        <>This member hasn't voted on any proposals yet.</>\n      )}\n    </Grid>\n  </Segment>\n);\n\nconst MemberDetailView = props => (\n  <Composed name={props.match.params.name}>\n    {({ memberDetail, metadata, proposalHistory }) => {\n      if (memberDetail.loading || metadata.loading || proposalHistory.loading) return <Segment className=\"blurred box\">Loading...</Segment>;\n      if (memberDetail.error) throw new Error(`Error!: ${memberDetail.error}`);\n      if (metadata.error) throw new Error(`Error!: ${metadata.error}`);\n      if (proposalHistory.error) throw new Error(`Error!: ${proposalHistory.error}`);\n\n      console.log('proposalHistory.data.proposals: ', proposalHistory.data.proposals);\n      const proposalsMemberVotedOn = proposalHistory.data.proposals.filter(proposal => proposal.votes.length > 0)\n      return (\n        <div id=\"member_detail\">\n          <p className=\"title\"> {props.match.params.name} </p>\n          <Divider />\n          <Grid columns={16}>\n            <Grid.Row className=\"details\">\n              <Grid.Column mobile={16} tablet={16} computer={6} className=\"user\">\n                <MemberDetail\n                  loggedInUser={props.loggedInUser}\n                  member={memberDetail.data.member}\n                  shareValue={metadata.data.shareValue}\n                  exchangeRate={metadata.data.exchangeRate}\n                />\n              </Grid.Column>\n              <Grid.Column mobile={16} tablet={16} computer={10} className=\"proposals\">\n                <ProposalDetail proposals={proposalsMemberVotedOn} />\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </div>\n      );\n    }}\n  </Composed>\n);\n\nexport default MemberDetailView;\n","import React from \"react\";\nimport { Grid, Image, Divider } from \"semantic-ui-react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\n\nimport MemberDetail from \"./MemberDetail\";\nimport bull from \"assets/bull.png\";\nimport hood from \"assets/hood.png\";\n\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { GET_MEMBERS, GET_MEMBER_DETAIL } from \"../helpers/graphQlQueries\";\n\nconst MemberAvatar = ({ address, shares }) => (\n  <Grid.Column mobile={5} tablet={3} computer={3} textAlign=\"center\" className=\"member_avatar\" title={address}>\n    <Link to={`/members/${address}`} className=\"uncolored\">\n      <Image src={hood} centered size=\"tiny\" />\n      <p className=\"name\">{!address ? \"\" : address.length > 10 ? address.substring(0, 10) + \"...\" : address}</p>\n      <p className=\"subtext\">{shares} shares</p>\n    </Link>\n  </Grid.Column>\n);\n\nconst LoggedInUser = props => (\n  <Query query={GET_MEMBER_DETAIL} variables={{ address: props.loggedInUser }}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.member && data.member.isActive ? (\n        <Link to={`/members/${data.member.id}`} className=\"uncolored\">\n          <Image centered src={bull} size=\"tiny\" />\n          <p className=\"name\">{!data.member.id ? \"\" : data.member.id.length > 10 ? data.member.id.substring(0, 10) + \"...\" : data.member.id}</p>\n          <p className=\"subtext\">{data.member.shares ? data.member.shares : 0} shares</p>\n        </Link>\n      ) : (\n        <div />\n      );\n    }}\n  </Query>\n);\n\nconst GET_ELDERS = gql`\n  {\n    members(where: { shares_gte: 100, isActive: true }) {\n      id\n      shares\n    }\n  }\n`;\nconst Elders = () => (\n  <Query query={GET_ELDERS}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.members.length > 0 ? (\n        data.members.map((elder, idx) => <MemberAvatar address={elder.id} shares={elder.shares} key={idx} />)\n      ) : (\n        <>No elders to show.</>\n      );\n    }}\n  </Query>\n);\n\nconst GET_NON_ELDERS = gql`\n  {\n    members(where: { shares_gt: 0, shares_lt: 100, isActive: true }) {\n      id\n      shares\n    }\n  }\n`;\nconst Contributors = () => (\n  <Query query={GET_NON_ELDERS}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.members.length > 0 ? (\n        data.members.map((contributor, idx) => <MemberAvatar address={contributor.id} shares={contributor.shares} key={idx} />)\n      ) : (\n        <>No contributors to show.</>\n      );\n    }}\n  </Query>\n);\n\nconst MemberList = props => (\n  <Query query={GET_MEMBERS}>\n    {({ loading, error, data }) => {\n      let members;\n      if (error) {\n        members = \"NA\";\n        console.error(`Could not load members: ${error}`);\n      } else if (loading) {\n        members = \"-\";\n      } else {\n        members = data.members.length;\n      }\n      return (\n        <div id=\"member_list\">\n          <Grid columns={16} verticalAlign=\"middle\">\n            <Grid.Column mobile={16} tablet={6} computer={6} textAlign=\"left\" className=\"member_list_header\">\n              <p className=\"subtext\">{members} Members</p>\n            </Grid.Column>\n\n            {/* <Grid.Column mobile={16} tablet={10} computer={10} textAlign=\"right\" className=\"submit_button\">\n              <Link to='/membershipproposalsubmission' className=\"link\">\n                <Button size='large' color='red' disabled={(props.user.status === 'founder') ? true : false}>Membership Proposal</Button>\n              </Link>\n            </Grid.Column> */}\n          </Grid>\n\n          <Grid>\n            <Grid.Column textAlign=\"center\">\n              <LoggedInUser {...props} />\n            </Grid.Column>\n          </Grid>\n          <Grid className=\"member_item\">\n            <Grid.Row>\n              <p style={{ paddingLeft: \"1rem\" }}>Elders (100+ shares)</p>\n            </Grid.Row>\n            <Divider />\n            <Grid.Row className=\"members_row\" centered>\n              <Elders />\n            </Grid.Row>\n          </Grid>\n          <Grid className=\"member_item\">\n            <Grid.Row>\n              <p style={{ paddingLeft: \"1rem\" }}>Contributors</p>\n            </Grid.Row>\n            <Divider />\n            <Grid.Row className=\"members_row\" centered>\n              <Contributors />\n            </Grid.Row>\n          </Grid>\n        </div>\n      );\n    }}\n  </Query>\n);\n\nconst MemberListView = higherProps => (\n  <Switch>\n    <Route exact path=\"/members\" render={props => <MemberList {...props} loggedInUser={higherProps.loggedInUser} />} />\n    <Route path=\"/members/:name\" render={props => <MemberDetail {...props} loggedInUser={higherProps.loggedInUser} />} />\n  </Switch>\n);\n\nexport default MemberListView;\n","import React, { Component } from \"react\";\nimport { Grid, Button } from \"semantic-ui-react\";\n\nimport { initGnosisSafe, initMetamask } from \"../web3\";\nimport { ApolloConsumer } from \"react-apollo\";\n\nlet coinbase;\n\nexport default class Login extends Component {\n  // bypass auth for now\n  loginWithMetamask = async client => {\n    const web3 = await initMetamask();\n    if (!web3) {\n      return\n    }\n    await this.doLoginBypassAuth(client, web3);\n  };\n\n  loginWithGnosisSafe = async client => {\n    const web3 = initGnosisSafe();\n    await this.doLoginBypassAuth(client, web3);\n  };\n\n  doLoginBypassAuth = async (client, web3) => {\n    coinbase = (await web3.listAccounts())[0];\n\n    if (!coinbase) {\n      alert(\"Could not retrieve address from Gnosis Safe/MetaMask, is it configured and this domain whitelisted?\");\n    } else {\n      // Try getting a user by their public address.\n      client.writeData({\n        data: {\n          loggedInUser: coinbase.toLowerCase()\n        }\n      });\n      this.props.loginComplete()\n      window.localStorage.setItem(\"loggedInUser\", coinbase.toLowerCase())\n      this.props.history.push(\"/\");\n    }\n  };\n\n  render() {\n    return (\n      <ApolloConsumer>\n        {client => (\n          <div id=\"login\">\n            <Grid columns={1} centered>\n              <Grid.Row>\n                <Button size=\"large\" color=\"grey\" onClick={() => this.loginWithMetamask(client)}>\n                  Connect With Web3\n                </Button>\n              </Grid.Row>\n              <Grid.Row>\n                <Button size=\"large\" color=\"grey\" onClick={() => this.loginWithGnosisSafe(client)}>\n                  Connect With Web3 (Gnosis Safe)\n                </Button>\n              </Grid.Row>\n            </Grid>\n          </div>\n        )}\n      </ApolloConsumer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button, Divider, Form, Grid, Input, Segment, GridColumn } from \"semantic-ui-react\";\nimport { getMoloch } from \"../web3\";\n\nconst formatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  minimumFractionDigits: 2\n});\n\nclass AssetsFields extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleAsset = this.handleAsset.bind(this);\n    this.deleteAsset = this.deleteAsset.bind(this);\n  }\n\n  handleAsset(event, { value, name }) {\n    this.props.onHandleAsset({ value, name, assetIndex: this.props.assetIndex });\n  }\n\n  deleteAsset() {\n    this.props.onHandleDeleteAsset({ assetIndex: this.props.assetIndex });\n  }\n\n  render() {\n    return (\n      <Grid.Row className=\"asset_field_row\">\n        {/* <Grid.Column mobile={14} tablet={5} computer={7} className=\"asset_field_grid membership\"> */}\n        <Grid.Column width={2} textAlign=\"left\" className=\"asset_field_grid membership\">\n          {/* <Input name=\"asset\" className=\"asset icon_asset\" icon=\"ethereum\" iconPosition=\"left\" placeholder=\"ETH, BTC, Token address\" onChange={this.handleAsset} type=\"text\" /> */}\n          {/* <Input icon=\"ethereum\" iconPosition=\"left\" name=\"asset\" className=\"asset icon_asset\" type=\"text\" value={this.props.assets.symbol} disabled={true} /> */}\n          <div className=\"subtext\" style={{ paddingTop: 10, paddingRight: 10 }}>\n            {this.props.assets.symbol}\n          </div>\n        </Grid.Column>\n        {/* <Grid.Column mobile={2} tablet={1} computer={2} className=\"asset_field_grid mobile_delete_icon\" textAlign=\"right\">\n                    <div className=\"subtext\">\n                        <Icon name='times' className=\"delete_icon\" link onClick={this.deleteAsset} />\n                    </div>\n                </Grid.Column> */}\n        <Grid.Column mobile={14} tablet={10} computer={7} className=\"asset_field_grid\">\n          <Input name=\"amount\" className=\"asset_amount\" placeholder=\"Enter Amount\" type=\"number\" onChange={this.handleAsset} />\n        </Grid.Column>\n        {/* <Grid.Column mobile={2} tablet={1} computer={2} className=\"asset_field_grid computer_delete_icon\" textAlign=\"center\">\n                    <div className=\"subtext\">\n                        <Icon name='times' className=\"delete_icon\" link onClick={this.deleteAsset} />\n                    </div>\n                </Grid.Column> */}\n      </Grid.Row>\n    );\n  }\n}\n\nexport default class ProposalSubmission extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      address: props.loggedInUser,\n      title: \"\",\n      description: \"\",\n      shares: 0,\n      tribute: 0, // TODO: this will be calculated with the blockchain\n      assets: [\n        {\n          asset: \"ETH\",\n          symbol: \"ETH\",\n          amount: 0,\n          logo: \"https://s2.coinmarketcap.com/static/img/coins/64x64/1027.png\"\n        }\n      ],\n      formErrors: { title: \"\", description: \"\", assets: \"\", shares: \"\" },\n      titleValid: false,\n      descriptionValid: false,\n      assetsValid: false,\n      sharesValid: false,\n      formValid: false\n    };\n\n    this.addAsset = this.addAsset.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleAsset = this.handleAsset.bind(this);\n    this.handleDeleteAsset = this.handleDeleteAsset.bind(this);\n  }\n\n  async componentDidMount() {\n    const moloch = await getMoloch();\n    this.setState({\n      moloch\n    });\n  }\n\n  validateField(fieldName, value) {\n    let fieldValidationErrors = this.state.formErrors;\n    let titleValid = this.state.titleValid;\n    let descriptionValid = this.state.descriptionValid;\n    let assetsValid = this.state.assetsValid;\n    let sharesValid = this.state.sharesValid;\n\n    switch (fieldName) {\n      case \"title\":\n        titleValid = value !== \"\";\n        fieldValidationErrors.title = titleValid ? \"\" : \"Title field is invalid\";\n        break;\n      case \"description\":\n        descriptionValid = value !== \"\";\n        fieldValidationErrors.description = descriptionValid ? \"\" : \"Description field is invalid\";\n        break;\n      case \"assets\":\n        Object.keys(value).map(key => {\n          for (var i in value[key]) {\n            if (Object.keys(value[key]).length <= 1) {\n              assetsValid = false;\n              return false;\n            } else {\n              if (value[key][i] === null || value[key][i] === \"\") {\n                assetsValid = false;\n                return false;\n              }\n            }\n          }\n          assetsValid = true;\n          return true;\n        });\n        fieldValidationErrors.assets = assetsValid ? \"\" : \"Asset is invalid\";\n        break;\n      case \"shares\":\n        sharesValid = value > 0;\n        fieldValidationErrors.shares = sharesValid ? \"\" : \"Shares field is invalid\";\n        break;\n      default:\n        break;\n    }\n    this.setState(\n      {\n        formErrors: fieldValidationErrors,\n        titleValid: titleValid,\n        descriptionValid: descriptionValid,\n        assetsValid: assetsValid,\n        sharesValid: sharesValid\n      },\n      this.validateForm\n    );\n  }\n\n  validateForm() {\n    this.setState({ formValid: this.state.titleValid && this.state.descriptionValid && this.state.assetsValid && this.state.sharesValid });\n  }\n\n  addAsset() {\n    let assets = this.state.assets ? this.state.assets : [];\n    assets.push({});\n\n    this.setState({ assets });\n  }\n\n  handleInput(event) {\n    let name = event.target.name;\n    let value = event.target.value;\n    if (name === \"shares\") {\n      this.setState({ [name]: parseInt(value) }, () => {\n        this.validateField(name, value);\n      });\n    } else {\n      this.setState({ [event.target.name]: event.target.value }, () => {\n        this.validateField(name, value);\n      });\n    }\n  }\n\n  handleAsset(event) {\n    let assets = this.state.assets;\n    assets[event.assetIndex][event.name] = event.value;\n    this.setState({ assets }, () => {\n      this.validateField(\"assets\", assets);\n    });\n    this.setState({ tribute: 0 * event.value });\n  }\n\n  handleDeleteAsset(event) {\n    let assets = this.state.assets;\n    assets.splice(event.assetIndex, 1);\n    this.setState({ assets }, () => {\n      this.validateField(\"assets\", assets);\n    });\n  }\n\n  async handleSubmit() {\n    const { moloch, formValid, address, title, description, shares, tribute } = this.state\n\n    if (formValid) {\n      try {\n        await moloch.methods.submitProposal(address, tribute, shares, JSON.stringify({ title, description })).send({ from: address })\n      } catch (e) {\n        console.error(e);\n        alert(\"Error processing proposal\");\n      }\n    } else {\n      alert(\"Please fill any missing fields.\");\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"proposal_submission\">\n        <Form>\n          <Grid centered columns={16}>\n            <Grid.Row stretched>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Input\n                  name=\"title\"\n                  transparent\n                  size=\"big\"\n                  inverted\n                  placeholder=\"Proposal Title\"\n                  onChange={this.handleInput}\n                  value={this.state.title}\n                />\n                <Divider />\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row stretched>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Segment className=\"blurred box\">\n                  <Form.Input\n                    name=\"shares\"\n                    label=\"Request voting shares\"\n                    placeholder=\"Shares\"\n                    fluid\n                    type=\"number\"\n                    onChange={this.handleInput}\n                    value={this.state.shares}\n                  />\n                </Segment>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Grid columns=\"equal\">\n                  <Grid.Column>\n                    <Segment className=\"blurred box\">\n                      <Form.TextArea\n                        name=\"description\"\n                        label=\"Description\"\n                        placeholder=\"Type here\"\n                        rows={15}\n                        onChange={this.handleInput}\n                        value={this.state.description}\n                      />\n                    </Segment>\n                  </Grid.Column>\n                  <Grid.Column mobile={16} tablet={16} computer={8}>\n                    <Segment className=\"blurred box\">\n                      <Grid columns={16}>\n                        <Grid.Column width={14}>\n                          <div className=\"subtext\">Request Amount</div>\n                        </Grid.Column>\n                        {/* <Grid.Column width={2}>\n                                                    <div className=\"subtext\">\n                                                        <Icon name='add' className=\"add_icon\" link onClick={this.addAsset} />\n                                                    </div>\n                                                </Grid.Column> */}\n                      </Grid>\n                      <Grid columns={3} className=\"assets_field\">\n                        {this.state.assets.map((row, i) => (\n                          <AssetsFields\n                            key={i}\n                            assetIndex={i}\n                            assets={row}\n                            onHandleAsset={this.handleAsset}\n                            onHandleDeleteAsset={this.handleDeleteAsset}\n                          />\n                        ))}\n                      </Grid>\n                      <Divider />\n                      <Grid columns=\"equal\" className=\"value_shares\">\n                        <Grid.Row>\n                          <Grid.Column textAlign=\"center\">\n                            <p className=\"subtext\">Tribute Value</p>\n                            <p className=\"amount\">{formatter.format(this.state.tribute)}</p>\n                          </Grid.Column>\n                        </Grid.Row>\n                      </Grid>\n                    </Segment>\n                  </Grid.Column>\n                </Grid>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <GridColumn mobile={16} tablet={8} computer={8} className=\"submit_button\">\n                <Button size=\"large\" color=\"red\" onClick={this.handleSubmit}>\n                  Submit Proposal\n                </Button>\n              </GridColumn>\n            </Grid.Row>\n          </Grid>\n        </Form>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Grid, Image, Divider, Button } from \"semantic-ui-react\";\nimport ethereumIcon from \"assets/ethereumIcon.png\";\nimport { Query } from \"react-apollo\";\nimport { GET_MEMBER_DETAIL } from \"../helpers/graphQlQueries\";\n\nconst currencies = [\n  {\n    name: \"ETH\",\n    shares: 508,\n    value: 32000,\n    icon: ethereumIcon\n  }\n];\n\nconst CurrencyElement = ({ name, shares, icon, value }) => (\n  <Grid.Column mobile={5} tablet={3} computer={3} textAlign=\"center\" className=\"currency_element\">\n    <Image src={icon} centered size=\"tiny\" circular />\n    <p className=\"name\">{name}</p>\n    <p className=\"shares\">{shares}</p>\n    <p className=\"subtext\">{\"$\" + value}</p>\n  </Grid.Column>\n);\n\nexport default class GuildBank extends React.Component {\n  state = {\n    isActive: true\n  };\n\n  redeemToken() {}\n\n  render() {\n    return (\n      <Query query={GET_MEMBER_DETAIL} variables={{ address: this.props.loggedInUser }}>\n        {({ loading, error, data }) => {\n          if (loading) return \"Loading...\";\n          if (error) throw new Error(`Error!: ${error}`);\n          return (\n            <div id=\"guild_bank\">\n              <Grid>\n                <Grid.Column textAlign=\"center\" className=\"guild_value\">\n                  <p className=\"subtext\">Guild Bank Value</p>\n                  <p className=\"amount\">$53,640,918</p>\n                  <Button size=\"large\" color=\"grey\" disabled={data.member.isActive && this.state.isActive ? false : true} onClick={this.redeemToken}>\n                    Redeem Loot Token\n                  </Button>\n                </Grid.Column>\n              </Grid>\n\n              <Grid>\n                <Grid.Row />\n                <Divider />\n                <Grid.Row centered>\n                  {currencies.map((elder, idx) => (\n                    <CurrencyElement {...elder} key={idx} />\n                  ))}\n                </Grid.Row>\n              </Grid>\n            </div>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n","import { ProposalStatus } from \"./helpers/proposals\";\nimport gql from \"graphql-tag\";\n\nexport const resolvers = {\n  Proposal: {\n    status: () => ProposalStatus.Unknown,\n    title: () => \"\",\n    description: () => \"\",\n    gracePeriod: () => 0,\n    votingEnds: () => 0,\n    votingStarts: () => 0,\n    readyForProcessing: () => false\n  },\n  Mutation: {\n    setAttributes: (_, variables, { cache }) => {\n      const id = `Proposal:${variables.id}`;\n      console.log('variables: ', variables);\n      const fragment = gql`\n        fragment getMeta on Proposal {\n          status\n          title\n          description\n          gracePeriod\n          votingEnds\n          votingStarts\n          readyForProcessing\n        }\n      `;\n      const proposal = cache.readFragment({ fragment, id });\n      const data = {\n        ...proposal,\n        status: variables.status,\n        title: variables.title,\n        description: variables.description,\n        gracePeriod: variables.gracePeriod,\n        votingEnds: variables.votingEnds,\n        votingStarts: variables.votingStarts,\n        readyForProcessing: variables.readyForProcessing\n      };\n      cache.writeData({ id, data });\n      return data;\n    }\n  }\n};\n","import gql from \"graphql-tag\";\n\nexport const typeDefs = gql`\n  extend type Proposal {\n    status: String\n    title: String\n    description: String\n    gracePeriod: Number\n    votingEnds: Number\n    votingStarts: Number\n    readyForProcessing: Bool\n  }\n\n  extend type Query {\n    proposalsWithStatus: [Proposal]\n  }\n`;","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\n\nimport Background from \"./components/Background\";\nimport Header from \"./components/Header\";\nimport Wrapper from \"./components/Wrapper\";\nimport Home from \"./components/Home\";\nimport ProposalList from \"./components/ProposalList\";\nimport MemberList from \"./components/MemberList\";\nimport ProposalSubmission from \"./components/ProposalSubmission\";\nimport GuildBank from \"./components/GuildBank\";\nimport Login from \"./components/Login\";\nimport { ApolloProvider, Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { resolvers } from \"./resolvers\";\nimport { typeDefs } from \"./schema\";\nimport { ApolloClient } from \"apollo-client\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { GET_METADATA } from \"./helpers/graphQlQueries\";\nimport { getMedianizer, getMoloch, getToken } from \"./web3\";\nimport { utils } from \"ethers\";\nimport { adopt } from \"react-adopt\";\n\nconsole.log(process.env);\n\nconst cache = new InMemoryCache();\n\nconst client = new ApolloClient({\n  cache,\n  link: new HttpLink({\n    uri: process.env.REACT_APP_GRAPH_NODE_URI\n  }),\n  resolvers,\n  typeDefs\n});\n\nconst initialData = {\n  loggedInUser: \"\",\n  guildBankValue: \"\",\n  shareValue: \"\",\n  totalShares: \"\",\n  currentPeriod: \"\",\n  exchangeRate: \"\"\n};\ncache.writeData({\n  data: { ...initialData, loggedInUser: window.localStorage.getItem(\"loggedInUser\") || \"\" }\n});\nclient.onResetStore(() => cache.writeData({ data: initialData }));\n\nconst IS_LOGGED_IN = gql`\n  query IsUserLoggedIn {\n    loggedInUser @client\n  }\n`;\n\nconst Composed = adopt({\n  loggedInUserData: ({ render }) => <Query query={IS_LOGGED_IN}>{render}</Query>,\n  metadata: ({ render }) => <Query query={GET_METADATA}>{render}</Query>\n});\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      restored: false,\n      exchangeRate: \"0\",\n      totalShares: \"0\",\n      guildBankValue: \"0\"\n    };\n  }\n\n  async componentDidMount() {\n    // await persistor.restore();\n    await this.populateData(true);\n    this.setState({ restored: true });\n  }\n\n  async populateData(refetch) {\n    let {\n      data: { loggedInUser }\n    } = await client.query({\n      query: IS_LOGGED_IN\n    });\n\n    if (!loggedInUser) {\n      console.log(`User not logged in, cannot fetch`);\n      return;\n    }\n\n    let {\n      data: { exchangeRate, totalShares, currentPeriod, guildBankValue, shareValue }\n    } = await client.query({\n      query: GET_METADATA\n    });\n\n    if (!exchangeRate || refetch) {\n      const medianizer = await getMedianizer();\n      exchangeRate = (await medianizer.compute())[0];\n      exchangeRate = utils.bigNumberify(exchangeRate);\n    }\n\n    if (!totalShares || !currentPeriod || refetch) {\n      const moloch = await getMoloch();\n      totalShares = await moloch.totalShares();\n      currentPeriod = await moloch.getCurrentPeriod();\n    }\n\n    const token = await getToken();\n    if (!guildBankValue || refetch) {\n      guildBankValue = await token.balanceOf(process.env.REACT_APP_GUILD_BANK_ADDRESS);\n    }\n\n    if (guildBankValue && totalShares) {\n      const ethPerShare = guildBankValue.gt(0) ? totalShares.toNumber() / parseFloat(utils.formatEther(guildBankValue)) : 0; // in eth\n      shareValue = utils.parseEther(ethPerShare.toString()); // in wei\n    }\n\n    const dataToWrite = {\n      guildBankValue: guildBankValue.toString(),\n      shareValue: shareValue.toString(),\n      totalShares: totalShares.toString(),\n      currentPeriod: currentPeriod.toString(),\n      exchangeRate: exchangeRate.toString()\n    };\n    console.log(\"dataToWrite: \", dataToWrite);\n\n    client.writeData({\n      data: dataToWrite\n    });\n  }\n\n  render() {\n    return this.state.restored ? (\n      <ApolloProvider client={client}>\n        <Router>\n          <Composed>\n            {({ loggedInUserData, metadata }) => {\n              return (\n                <>\n                  <Background />\n                  <Header loggedInUser={loggedInUserData.data.loggedInUser} />\n                  <Wrapper>\n                    <Switch>\n                      <Route\n                        exact\n                        path=\"/\"\n                        render={props =>\n                          loggedInUserData.data.loggedInUser ? (\n                            <Home {...props} loggedInUser={loggedInUserData.data.loggedInUser} />\n                          ) : (\n                            <Redirect to={{ pathname: \"/login\" }} />\n                          )\n                        }\n                      />\n                      <Route\n                        path=\"/proposals\"\n                        render={props =>\n                          loggedInUserData.data.loggedInUser ? (\n                            <ProposalList {...props} loggedInUser={loggedInUserData.data.loggedInUser} />\n                          ) : (\n                            <Redirect to={{ pathname: \"/login\" }} />\n                          )\n                        }\n                      />\n                      <Route\n                        path=\"/members\"\n                        render={props =>\n                          loggedInUserData.data.loggedInUser ? (\n                            <MemberList {...props} loggedInUser={loggedInUserData.data.loggedInUser} />\n                          ) : (\n                            <Redirect to={{ pathname: \"/login\" }} />\n                          )\n                        }\n                      />\n                      <Route\n                        path=\"/proposalsubmission\"\n                        render={props =>\n                          loggedInUserData.data.loggedInUser ? (\n                            <ProposalSubmission {...props} loggedInUser={loggedInUserData.data.loggedInUser} />\n                          ) : (\n                            <Redirect to={{ pathname: \"/login\" }} />\n                          )\n                        }\n                      />\n                      <Route\n                        path=\"/guildbank\"\n                        render={props =>\n                          loggedInUserData.data.loggedInUser ? (\n                            <GuildBank {...props} loggedInUser={loggedInUserData.data.loggedInUser} />\n                          ) : (\n                            <Redirect to={{ pathname: \"/login\" }} />\n                          )\n                        }\n                      />\n                      <Route path=\"/login\" render={props => <Login {...props} loginComplete={() => this.populateData(true)} />} />\n                      <Route\n                        render={props =>\n                          loggedInUserData.data.loggedInUser ? (\n                            <Home {...props} loggedInUser={loggedInUserData.data.loggedInUser} />\n                          ) : (\n                            <Redirect to={{ pathname: \"/login\" }} />\n                          )\n                        }\n                      />\n                    </Switch>\n                  </Wrapper>\n                </>\n              );\n            }}\n          </Composed>\n        </Router>\n      </ApolloProvider>\n    ) : (\n      <div>Loading!!!</div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'semantic-ui-css/semantic.min.css';\n\nimport './index.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/hood.ba69d28c.png\";"],"sourceRoot":""}