{"version":3,"sources":["assets/bull.png","assets/ethereumIcon.png","components/Background.js","helpers/graphQlQueries.js","web3.js","components/Header.js","components/Wrapper.js","helpers/currency.js","components/Home.js","components/ProgressBar.js","helpers/proposals.js","components/ProposalDetail.js","components/ProposalList.js","components/MemberDetail.js","components/MemberList.js","components/Login.js","components/ProposalSubmission.js","components/GuildBank.js","components/NotFound.js","resolvers.js","schema.js","App.js","index.js","assets/hood.png"],"names":["module","exports","__webpack_require__","p","Background","react_default","a","createElement","id","className","gql","_templateObject","moloch","token","medianizer","eth","GET_TOTAL_SHARES","_templateObject2","GET_CURRENT_PERIOD","_templateObject3","_templateObject4","_templateObject5","GET_METADATA","_templateObject6","GET_LOGGED_IN_USER","_templateObject7","GET_MEMBERS","_templateObject8","SET_PROPOSAL_ATTRIBUTES","_templateObject9","MainMenuWrapped","withApollo","props","member","isActive","Fragment","Dropdown","Item","onClick","_handleCloseDropdown","Link","to","concat","Icon","name","Divider","icon","content","_handleOpenDropdown","onLoadChangeDelegateKey","onLoadWithdrawLootToken","Object","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","client","resetStore","stop","this","ChangeDelegateKeyMenu","Header_this","onLoadMain","Form","Input","placeholder","Button","WithdrawLootTokenMenu","Header","_this2","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","visibleMenu","visibleRightMenu","setState","topRightMenuContent","_this3","Header_ChangeDelegateKeyMenu","Header_WithdrawLootTokenMenu","_this4","react_apollo_browser_umd","query","variables","address","loggedInUser","_ref2","loading","error","data","Error","Grid","columns","verticalAlign","Column","textAlign","open","onBlur","onFocus","text","substring","Menu","direction","getTopRightMenuContent","Component","Wrapper","_ref","children","molochAbi","require","erc20Abi","medianizerAbi","initMetmask","_initMetmask","apply","arguments","web3Provider","window","ethereum","web3","alert","enable","t0","currentProvider","ethers","providers","Web3Provider","localStorage","setItem","abrupt","initGnosisSafe","provider","SafeProvider","rpcUrl","process","initMoloch","_initMoloch","_callee2","_context2","getItem","sent","Contract","initToken","_initToken","_callee3","_context3","initMedianizer","_initMedianizer","_callee4","_context4","getDefaultProvider","getMoloch","_getMoloch","_callee6","_context6","getToken","_getToken","_callee7","_context7","getMedianizer","_getMedianizer","_callee8","_context8","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","Home_templateObject","NumMembers","members","console","length","size","color","GET_PROPOSALS","Home_templateObject2","NumProposals","proposals","HomePage","approval","userAddress","handleChange","e","_this","target","value","handleSubmit","_this$state","methods","approve","send","from","_ref3","guildBankValue","exchangeRate","totalShares","shareValue","mobile","tablet","computer","weiAmount","log","utils","formatEther","weitoEth","exchWeiToEth","format","parseFloat","convertWeiToDollars","Home_NumMembers","Home_NumProposals","Modal","basic","trigger","Content","onSubmit","Field","onChange","type","width","Segment","React","ProgressBar","yes","no","total","percentYes","Math","round","percentNo","position","Progress","percent","top","floated","VOTING_PERIOD_LENGTH","GRACE_PERIOD_LENGTH","ProposalStatus","Unknown","InQueue","VotingPeriod","GracePeriod","Aborted","Passed","Failed","ReadyForProcessing","getProposalDetailsFromOnChain","_x","_x2","_getProposalDetailsFromOnChain","proposal","currentPeriod","inQueue","inGracePeriod","inVotingPeriod","enoughPassingVotes","passedVotingAndGrace","passedVoting","lastProposalProcessed","proposalFromChain","details","parseInt","startingPeriod","yesVotes","noVotes","lastProposalFromChain","proposalIndex","proposalQueue","processed","_x3","votingEnds","gracePeriod","aborted","status","didPass","votingStarts","votingEnded","graceEnded","readyForProcessing","title","description","JSON","parse","stringify","Vote","Null","Yes","No","MemberAvatar","shares","Image","src","hood","centered","GET_PROPOSAL_DETAIL","ProposalDetail_templateObject","ProposalDetail","handleNo","user","submitVote","userHasVoted","handleYes","_this$state2","handleProcess","_this$state3","processProposal","tokenTribute","sharesRequested","fetchData","match","params","proposalResult","userResult","onChain","mutate","mutation","result","objectSpread","setAttributes","responseJson","items","proposal_detail","isAccepted","voters","find","voter","loggedUser","calculateVote","Row","vertical","votes","map","vote","idx","ProposalDetail_MemberAvatar","key","components_ProgressBar","disabled","ProposalCard","pathname","getProposalCountdownText","GET_PROPOSAL_LIST","ProposalList_templateObject","ProposalList","determineProposalStatuses","fullProps","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","fullProp","undefined","Symbol","iterator","done","push","return","finish","proposalData","currentPeriodData","totalSharesData","filter","votingPeriod","completed","index","ProposalList_ProposalCard","ProposalListHOC","ProposalListView","_ref6","Switch","Route","exact","path","render","component","GET_MEMBER_DETAIL","MemberDetail_templateObject","MemberDetail","bigNumberify","mul","toString","bull","GET_PROPOSAL_HISTORY","MemberDetail_templateObject2","_ref4","fontSize","uintVote","Label","circular","empty","Date","timestamp","toISOString","slice","elements_Header_Header","as","MemberDetailView","MemberDetail_MemberDetail","MemberDetail_ProposalDetail","coinbase","LoggedInUser","GET_ELDERS","MemberList_templateObject","Elders","elder","MemberList_MemberAvatar","GET_NON_ELDERS","MemberList_templateObject2","Contributors","contributor","MemberList","_ref5","MemberList_LoggedInUser","paddingLeft","MemberList_Elders","MemberList_Contributors","MemberListView","higherProps","MemberList_MemberList","assign","components_MemberDetail","AssetsFields","handleAsset","bind","assertThisInitialized","deleteAsset","event","onHandleAsset","assetIndex","onHandleDeleteAsset","paddingTop","paddingRight","assets","symbol","ProposalSubmission","tribute","asset","amount","logo","formErrors","titleValid","descriptionValid","assetsValid","sharesValid","formValid","addAsset","handleInput","handleDeleteAsset","fieldName","fieldValidationErrors","keys","i","validateForm","defineProperty","validateField","_this5","splice","submitProposal","_this6","stretched","transparent","inverted","label","fluid","TextArea","rows","row","ProposalSubmission_AssetsFields","GridColumn","currencies","ethereumIcon","CurrencyElement","GuildBank","redeemToken","GuildBank_CurrencyElement","Login","loginWithMetamask","doLoginBypassAuth","loginWithGnosisSafe","listAccounts","writeData","toLowerCase","loginComplete","history","NotFound","resolvers","Proposal","Mutation","_","cache","getCacheKey","__typename","fragment","resolvers_templateObject","readFragment","typeDefs","schema_templateObject","InMemoryCache","stateLink","withClientState","defaults","httpLink","CachePersistor","storage","maxSize","debug","HttpLink","uri","ApolloClient","link","ApolloLink","onError","graphQLErrors","networkError","message","locations","IS_LOGGED_IN","App_templateObject","App","restored","populateData","refetch","loggedInUserData","compute","getCurrentPeriod","balanceOf","gt","div","BrowserRouter","Header_Header","Home","Redirect","components_ProposalList","components_MemberList","ProposalSubmission_ProposalSubmission","GuildBank_GuildBank","Login_Login","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.0c6d1874.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bull.204229a6.png\";","module.exports = \"data:image/png;base64,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\"","import React from 'react';\n\n\nexport default () => (\n  <div id=\"background\">\n    <div className=\"blurred_image\" />\n    <div className=\"dark_overlay\" />\n  </div>\n)\n","import gql from \"graphql-tag\";\n\nexport const GET_EXCHANGE_RATE = gql`\n  query ExchangeRate {\n    exchangeRate @client\n  }\n`\n\nexport const GET_TOTAL_SHARES = gql`\n  query TotalShares {\n    totalShares @client\n  }\n`\n\nexport const GET_GUILD_BANK_VALUE = gql`\n  query GuildBankValue {\n    guildBankValue @client\n  }\n`\n\nexport const GET_SHARE_VALUE = gql`\n  query ShareValue {\n    shareValue @client\n  }\n`\n\nexport const GET_CURRENT_PERIOD = gql`\n  query CurrentPeriod {\n    currentPeriod @client\n  }\n`\n\nexport const GET_METADATA = gql`\n  query GetMetadata {\n    exchangeRate @client\n    totalShares @client\n    guildBankValue @client\n    shareValue @client\n    currentPeriod @client\n  }\n`\n\nexport const GET_LOGGED_IN_USER = gql`\n  query User($address: String!) {\n    member(id: $address) {\n      id\n      shares\n      isActive\n    }\n  }\n`;\n\nexport const GET_MEMBERS = gql`\n  {\n    members(where: { shares_gt: 0, isActive: true }) {\n      id\n    }\n  }\n`;\n\nexport const SET_PROPOSAL_ATTRIBUTES = gql`\n  mutation SetAttributes($status: String!, $title: String!, $description: String!) {\n    setAttributes(status: $status, title: $title, description: $description) @client {\n      status\n      title\n      description\n    }\n  }\n`;","import SafeProvider from \"safe-web3-provider\"\nimport { ethers } from 'ethers';\n\nconst molochAbi = require('./abi/Moloch.abi.json')\nconst erc20Abi = require('./abi/ERC20.abi.json')\nconst medianizerAbi = require('./abi/Medianizer.abi.json')\n\nlet moloch\nlet token\nlet medianizer\nlet eth\n\nexport async function initMetmask() {\n  if (!window.ethereum && !window.web3) {\n    // Non-DApp browsers won't work.\n    alert(\"This page must be viewed on a Web3 enabled browser.\");\n  }\n  if (window.ethereum) {\n    // Modern DApp browsers need to enable Metamask access.\n    try {\n      await window.ethereum.enable()\n    } catch (error) {\n      alert(\"Metamask needs to be enabled.\")\n    }\n  }\n  let web3Provider = window['ethereum'] || window.web3.currentProvider\n  eth = new ethers.providers.Web3Provider(web3Provider);\n  localStorage.setItem(\"loginType\", \"metamask\");\n  return eth\n}\n\nexport function initGnosisSafe() {\n  /**\n   *  Create Safe Provider\n   */\n  const provider = new SafeProvider({\n    // TODO: CHANGE THIS TO INFURA/ALCHEMY\n    rpcUrl: process.env.REACT_APP_ETH_URL\n  });\n\n  /**\n   *  Create Web3\n   */\n  eth = new ethers.providers.Web3Provider(provider);\n  localStorage.setItem(\"loginType\", \"gnosis\");\n  return eth\n}\n\nexport async function initMoloch() {\n  if (!eth) {\n    if (localStorage.getItem(\"loginType\") === \"metamask\") {\n      eth = await initMetmask()\n    } else if (localStorage.getItem(\"loginType\") === \"gnosis\") {\n      eth = await initGnosisSafe()\n    } else {\n      throw new Error(\"Not logged in with web3.\")\n    }\n  }\n  moloch = new ethers.Contract(process.env.REACT_APP_MOLOCH_ADDRESS, molochAbi, eth)\n  // moloch = new web3.eth.Contract(molochAbi, process.env.REACT_APP_MOLOCH_ADDRESS)\n  return moloch\n}\n\nexport async function initToken() {\n  if (!eth) {\n    if (localStorage.getItem(\"loginType\") === \"metamask\") {\n      eth = await initMetmask()\n    } else if (localStorage.getItem(\"loginType\") === \"gnosis\") {\n      eth = await initGnosisSafe()\n    } else {\n      throw new Error(\"Not logged in with web3.\")\n    }\n  }\n  // token = new web3.eth.Contract(erc20Abi, process.env.REACT_APP_TOKEN_ADDRESS)\n  token = new ethers.Contract(process.env.REACT_APP_TOKEN_ADDRESS, erc20Abi, eth)\n  return token\n}\n\nexport async function initMedianizer() {\n  // pull from mainnet\n  let provider = ethers.getDefaultProvider();\n  medianizer = new ethers.Contract(process.env.REACT_APP_MEDIANIZER_ADDRESS, medianizerAbi, provider)\n  return medianizer\n}\n\nexport async function getWeb3() {\n  if (!eth) {\n    if (localStorage.getItem(\"loginType\") === \"metamask\") {\n      eth = await initMetmask()\n    } else if (localStorage.getItem(\"loginType\") === \"gnosis\") {\n      eth = await initGnosisSafe()\n    } else {\n      throw new Error(\"Not logged in with web3.\")\n    }\n  }\n  return eth\n}\n\nexport async function getMoloch() {\n  if (!moloch) {\n    await initMoloch()\n  }\n  return moloch\n}\n\nexport async function getToken() {\n  if (!token) {\n    await initToken()\n  }\n  return token\n}\n\nexport async function getMedianizer() {\n  if (!medianizer) {\n    await initMedianizer()\n  }\n  return medianizer\n}","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Grid, Icon, Dropdown, Form, Button } from \"semantic-ui-react\";\nimport { Query, withApollo } from \"react-apollo\";\nimport { GET_LOGGED_IN_USER } from \"../helpers/graphQlQueries\";\n\nconst MainMenu = props => (\n  <div className=\"dropdownItems\">\n    {props.member && props.member.isActive ? (\n      <>\n        <Dropdown.Item className=\"item\" onClick={() => props._handleCloseDropdown()}>\n          <Link to={`/members/${props.member.id}`} className=\"link\">\n            <p>\n              <Icon name=\"user\" />\n              View Profile\n            </p>\n          </Link>\n        </Dropdown.Item>\n        <Dropdown.Divider />\n        <Dropdown.Item\n          icon=\"key\"\n          className=\"item\"\n          content=\"Change Delegate Key\"\n          onClick={() => {\n            props._handleOpenDropdown();\n            props.onLoadChangeDelegateKey();\n          }}\n        />\n        <Dropdown.Divider />\n        <Dropdown.Item\n          icon=\"dollar\"\n          className=\"item\"\n          content=\"Rage Quit\"\n          onClick={() => {\n            props._handleOpenDropdown();\n            props.onLoadWithdrawLootToken();\n          }}\n        />\n        <Dropdown.Divider />\n      </>\n    ) : null}\n    <Dropdown.Item className=\"item\">\n      <Link\n        to=\"/login\"\n        className=\"link\"\n        onClick={async () => {\n          props._handleCloseDropdown();\n          await props.client.resetStore();\n        }}\n      >\n        <p>\n          <Icon name=\"power off\" />\n          Sign Out\n        </p>\n      </Link>\n    </Dropdown.Item>\n  </div>\n);\nconst MainMenuWrapped = withApollo(MainMenu);\n\nconst ChangeDelegateKeyMenu = () => (\n  <div>\n    <Dropdown.Item icon=\"arrow left\" className=\"item\" content=\"Back to Menu\" onClick={() => this.props.onLoadMain()} />\n    <Dropdown.Divider />\n    <Dropdown.Item className=\"item submenu\">\n      <p>\n        <Icon name=\"key\" />\n        Change Delegate Key\n      </p>\n      <Form.Input placeholder=\"Enter new key address\" />\n      <Button>Save</Button>\n    </Dropdown.Item>\n  </div>\n);\n\nconst WithdrawLootTokenMenu = () => (\n  <div>\n    <Dropdown.Item icon=\"arrow left\" className=\"item\" content=\"Back to Menu\" onClick={() => this.props.onLoadMain()} />\n    <Dropdown.Divider />\n    <Dropdown.Item className=\"item submenu\">\n      <p>\n        <Icon name=\"dollar\" />\n        Rage Quit\n      </p>\n      <Form.Input placeholder=\"Enter withdrawal address\" />\n      <Form.Input placeholder=\"0\" />\n      <Button>Withdraw</Button>\n    </Dropdown.Item>\n  </div>\n);\n\nexport default class Header extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visibleMenu: \"main\",\n      visibleRightMenu: false\n    };\n  }\n\n  _handleOpenDropdown() {\n    this.setState({ visibleRightMenu: true });\n  }\n\n  _handleCloseDropdown() {\n    this.setState({ visibleRightMenu: false });\n  }\n\n  getTopRightMenuContent(member) {\n    let topRightMenuContent;\n    switch (this.state.visibleMenu) {\n      case \"main\":\n        topRightMenuContent = (\n          <MainMenuWrapped\n            member={member}\n            _handleOpenDropdown={() => this._handleOpenDropdown()}\n            _handleCloseDropdown={() => this._handleCloseDropdown()}\n            onLoadChangeDelegateKey={() => this.setState({ visibleMenu: \"changeDelegateKey\" })}\n            onLoadWithdrawLootToken={() => this.setState({ visibleMenu: \"withdrawLootToken\" })}\n          />\n        );\n        break;\n      case \"changeDelegateKey\":\n        topRightMenuContent = (\n          <ChangeDelegateKeyMenu\n            onLoadMain={() => {\n              this._handleOpenDropdown();\n              this.setState({ visibleMenu: \"main\" });\n            }}\n          />\n        );\n        break;\n      case \"withdrawLootToken\":\n        topRightMenuContent = (\n          <WithdrawLootTokenMenu\n            onLoadMain={() => {\n              this._handleOpenDropdown();\n              this.setState({ visibleMenu: \"main\" });\n            }}\n          />\n        );\n        break;\n      default:\n        break;\n    }\n    return topRightMenuContent;\n  }\n\n  render() {\n    return (\n      <Query query={GET_LOGGED_IN_USER} variables={{ address: this.props.loggedInUser }}>\n        {({ loading, error, data }) => {\n          if (loading) return \"Loading...\";\n          if (error) throw new Error(`Error!: ${error}`);\n          return (\n            <div id=\"header\">\n              <Grid columns=\"equal\" verticalAlign=\"middle\">\n                {this.props.loggedInUser ? (\n                  <Grid.Column textAlign=\"left\" className=\"menu\">\n                    {/* <Dropdown icon=\"bars\">\n                <Dropdown.Menu className=\"menu blurred\" direction=\"right\">\n                  <Link to=\"guildbank\" className=\"item\">\n                    <p>Guild Bank</p>\n                  </Link>\n                  <Dropdown.Divider />\n                  <Link to=\"/members\" className=\"item\">\n                    <p>Members</p>\n                  </Link>\n                  <Dropdown.Divider />\n                  <Link to=\"/proposals\" className=\"item\">\n                    <p>Proposals</p>\n                  </Link>\n                </Dropdown.Menu>\n              </Dropdown> */}\n                  </Grid.Column>\n                ) : null}\n                <Grid.Column textAlign=\"center\" className=\"logo\">\n                  <Link to=\"/\">MOLOCH</Link>\n                </Grid.Column>\n                {this.props.loggedInUser ? (\n                  <Grid.Column textAlign=\"right\" className=\"dropdown\">\n                    <Dropdown\n                      className=\"right_dropdown\"\n                      open={this.state.visibleRightMenu}\n                      onBlur={() => this._handleCloseDropdown()}\n                      onFocus={() => this._handleOpenDropdown()}\n                      text={`${data.member.id.substring(0,6)}...`}\n                    >\n                      <Dropdown.Menu className=\"menu blurred\" direction=\"left\">\n                        {this.getTopRightMenuContent(data.member)}\n                      </Dropdown.Menu>\n                    </Dropdown>\n                  </Grid.Column>\n                ) : null}\n              </Grid>\n            </div>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n","import React from 'react';\n\n\nexport default ({ children }) => (\n  <div id=\"wrapper\">\n    { children }\n  </div>\n)","import { utils } from \"ethers\";\n\nexport const formatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  minimumFractionDigits: 2\n});\n\nexport function convertWeiToDollars(weiAmount, exchangeRate) {\n  console.log('weiAmount: ', weiAmount);\n  console.log('exchangeRate: ', exchangeRate);\n  console.log('utils.formatEther(weiAmount): ', utils.formatEther(weiAmount));\n  console.log('utils.formatEther(exchangeRate): ', utils.formatEther(exchangeRate));\n  const weitoEth = utils.formatEther(weiAmount)\n  const exchWeiToEth = utils.formatEther(exchangeRate)\n  \n  return formatter.format(parseFloat(weitoEth * exchWeiToEth))\n}","import React from \"react\";\nimport { Grid, Button, Segment, Modal, Form } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport gql from \"graphql-tag\";\nimport { Query, withApollo } from \"react-apollo\";\nimport { getToken } from \"../web3\";\nimport { utils } from \"ethers\";\nimport { GET_METADATA } from \"../helpers/graphQlQueries\";\nimport { convertWeiToDollars } from \"../helpers/currency\";\n\nconst GET_MEMBERS = gql`\n  {\n    members(where: { shares_gt: 0, isActive: true }) {\n      id\n    }\n  }\n`;\nconst NumMembers = () => (\n  <Query query={GET_MEMBERS}>\n    {({ loading, error, data }) => {\n      let members;\n      if (error) {\n        members = \"NA\";\n        console.error(`Could not load members: ${error}`);\n      } else if (loading) {\n        members = \"-\";\n      } else {\n        members = data.members.length;\n      }\n      return (\n        <Link to=\"/members\" className=\"link\">\n          <Button size=\"large\" color=\"grey\" className=\"btn_link\">\n            {members} Members\n          </Button>\n        </Link>\n      );\n    }}\n  </Query>\n);\n\n// TODO filter this to get current proposals?\nconst GET_PROPOSALS = gql`\n  {\n    proposals {\n      id\n    }\n  }\n`;\nconst NumProposals = () => (\n  <Query query={GET_PROPOSALS}>\n    {({ loading, error, data }) => {\n      let proposals;\n      if (error) {\n        proposals = \"NA\";\n        console.error(`Could not load proposals: ${error}`);\n      } else if (loading) {\n        proposals = \"-\";\n      } else {\n        proposals = data.proposals.length;\n      }\n      return (\n        <Link to=\"/proposals\" className=\"link\">\n          <Button size=\"large\" color=\"grey\" className=\"btn_link\">\n            {proposals} Proposals\n          </Button>\n        </Link>\n      );\n    }}\n  </Query>\n);\n\nclass HomePage extends React.Component {\n  state = {\n    approval: \"\",\n    token: null,\n    userAddress: null\n  };\n\n  async componentDidMount() {\n    const token = await getToken();\n\n    this.setState({\n      token\n    });\n  }\n\n  handleChange = e => this.setState({ approval: e.target.value });\n\n  handleSubmit = () => {\n    const { loggedInUser } = this.props;\n    const { approval, token } = this.state;\n    token.methods.approve(process.env.REACT_APP_MOLOCH_ADDRESS, approval).send({ from: loggedInUser });\n  };\n\n  render() {\n    const { approval } = this.state;\n    return (\n      <Query query={GET_METADATA}>\n        {({ loading, error, data }) => {\n          if (error) {\n            console.error(`Could not load page: ${error}`);\n          } else if (loading) {\n            return \"Loading...\";\n          } else {\n            const { guildBankValue, exchangeRate, totalShares, shareValue } = data\n            return (\n              <div id=\"homepage\">\n                <Grid columns={16} verticalAlign=\"middle\">\n                  <Grid.Column mobile={16} tablet={6} computer={4} className=\"guild_value\">\n                    <Link to=\"/guildbank\" className=\"text_link\">\n                      <p className=\"subtext\">Guild Bank Value</p>\n                      <p className=\"amount\">{convertWeiToDollars(guildBankValue, exchangeRate)}</p>\n                    </Link>\n                  </Grid.Column>\n                  <Grid.Column mobile={16} tablet={10} computer={8} textAlign=\"center\" className=\"browse_buttons\">\n                    <NumMembers />\n                    <NumProposals />\n                  </Grid.Column>\n                  <Grid.Column mobile={16} tablet={6} computer={4} className=\"guild_value\">\n                    <Modal\n                      basic\n                      size=\"small\"\n                      trigger={\n                        <Button size=\"large\" color=\"grey\" className=\"browse_buttons\">\n                          Approve wETH\n                        </Button>\n                      }\n                    >\n                      <Modal.Header>Approve wETH</Modal.Header>\n                      <Modal.Content>\n                        <Form onSubmit={this.handleSubmit}>\n                          <Form.Field>\n                            <label>Amount to Approve</label>\n                            <input placeholder=\"Amount in Wei\" name=\"amount\" value={approval} onChange={this.handleChange} className=\"asset_amount\" />\n                          </Form.Field>\n                          <Button type=\"submit\" color=\"grey\" className=\"btn_link\">\n                            Submit\n                          </Button>\n                        </Form>\n                      </Modal.Content>\n                    </Modal>\n                  </Grid.Column>\n\n                  <Grid.Column width={16}>\n                    <Segment className=\"blurred box\">\n                      <Grid columns=\"equal\" className=\"graph_values\">\n                        <Grid.Column textAlign=\"left\">\n                          <p className=\"subtext\">Total Shares</p>\n                          <p className=\"amount\">{totalShares}</p>\n                        </Grid.Column>\n                        <Grid.Column textAlign=\"center\">\n                          <p className=\"subtext\">Total ETH</p>\n                          <p className=\"amount\">{utils.formatEther(guildBankValue)}</p>\n                        </Grid.Column>\n                        <Grid.Column textAlign=\"right\">\n                          <p className=\"subtext\">Share Value</p>\n                          <p className=\"amount\">\n                            {shareValue}\n                          </p>\n                        </Grid.Column>\n                      </Grid>\n                    </Segment>\n                  </Grid.Column>\n                </Grid>\n              </div>\n            );\n          }\n        }}\n      </Query>\n    );\n  }\n}\n\nexport default withApollo(HomePage);\n","import React from 'react';\nimport { Progress, Grid } from 'semantic-ui-react';\n\n\nconst ProgressBar = ({ yes, no, totalShares }) => {\n  const total = yes + no\n  const percentYes = yes === 0 ? 0 : Math.round((yes / total) * 100)\n  const percentNo = no === 0 ? 0 : Math.round((no / total) * 100)\n  return (\n  <>\n    <div style={{ position: \"relative\" }}>\n      <Progress\n        percent={percentYes + percentNo}\n        color=\"red\"\n        size=\"small\"\n        style={{\n          position: \"absolute\",\n          top: \"0\",\n          width: \"100%\"\n        }}\n      />\n      <Progress percent={percentYes} color=\"green\" size=\"small\" />\n    </div>\n    <Grid columns=\"equal\">\n      <Grid.Column floated=\"left\">{yes} Yes Votes</Grid.Column>\n      <Grid.Column floated=\"right\" textAlign=\"right\">\n        {no} No Votes\n      </Grid.Column>\n    </Grid>\n  </>\n)};\n\nexport default ProgressBar","import { getMoloch } from \"../web3\";\n\nconst VOTING_PERIOD_LENGTH = 35;\nconst GRACE_PERIOD_LENGTH = 35;\n\nexport const ProposalStatus = {\n  Unknown: \"Unknown\",\n  InQueue: \"InQueue\",\n  VotingPeriod: \"VotingPeriod\",\n  GracePeriod: \"GracePeriod\",\n  Aborted: \"Aborted\",\n  Passed: \"Passed\",\n  Failed: \"Failed\",\n  ReadyForProcessing: \"ReadyForProcessing\"\n};\n\n// fill in missing data from onchain\nexport async function getProposalDetailsFromOnChain(proposal, currentPeriod) {\n  const moloch = await getMoloch()\n  currentPeriod = parseInt(currentPeriod)\n  console.log('currentPeriod: ', currentPeriod);\n  \n  const inQueue = proposal => currentPeriod < proposal.startingPeriod;\n\n  const inGracePeriod = proposal =>\n    currentPeriod > proposal.startingPeriod + VOTING_PERIOD_LENGTH &&\n    currentPeriod < proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH;\n\n  const inVotingPeriod = proposal => currentPeriod >= proposal.startingPeriod && currentPeriod <= proposal.startingPeriod + VOTING_PERIOD_LENGTH;\n\n  const enoughPassingVotes = proposal => Math.round((parseInt(proposal.yesVotes) / (parseInt(proposal.yesVotes) + parseInt(proposal.noVotes))) * 100) > 50\n\n  const passedVotingAndGrace = proposal => currentPeriod > proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH\n\n  const passedVoting = proposal => currentPeriod > proposal.startingPeriod + VOTING_PERIOD_LENGTH\n\n  const lastProposalProcessed = async proposal => {\n    if (proposal.proposalIndex === 0) {\n      return true\n    }\n    const lastProposalFromChain = await moloch.proposalQueue(proposal.proposalIndex - 1);\n    return lastProposalFromChain.processed\n  }\n\n  proposal.proposalIndex = parseInt(proposal.proposalIndex);\n\n  const proposalFromChain = await moloch.proposalQueue(proposal.proposalIndex);\n  console.log('proposalFromChain: ', proposalFromChain);\n  proposal.startingPeriod = parseInt(proposalFromChain.startingPeriod);\n\n  proposal.votingEnds = 0;\n  proposal.gracePeriod = 0;\n\n  proposal.lastProposalProcessed = await lastProposalProcessed(proposal)\n  if (proposal.aborted) {\n    proposal.status = ProposalStatus.Aborted;\n  } else if (proposal.processed && proposal.didPass) {\n    proposal.status = ProposalStatus.Passed;\n  } else if (proposal.processed && !proposal.didPass) {\n    proposal.status = ProposalStatus.Failed;\n  } else if (inGracePeriod(proposal)) {\n    proposal.status = ProposalStatus.GracePeriod;\n    proposal.gracePeriod = proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH - currentPeriod;\n  } else if (inVotingPeriod(proposal)) {\n    proposal.status = ProposalStatus.VotingPeriod;\n    proposal.votingEnds = proposal.startingPeriod + VOTING_PERIOD_LENGTH - currentPeriod;\n  } else if (inQueue(proposal)) {\n    proposal.status = ProposalStatus.InQueue;\n    proposal.votingStarts = proposal.startingPeriod - currentPeriod\n  } else if (passedVotingAndGrace(proposal)) {\n    proposal.status = ProposalStatus.ReadyForProcessing\n  } else {\n    proposal.status = ProposalStatus.Unknown\n  }\n\n  proposal.votingEnded = passedVoting(proposal);\n  proposal.graceEnded = passedVotingAndGrace(proposal);\n\n  proposal.readyForProcessing = false;\n  if (\n    proposal.status === ProposalStatus.InQueue &&\n    passedVotingAndGrace(proposal) &&\n    enoughPassingVotes(proposal) &&\n    proposal.lastProposalProcessed\n  ) {\n    proposal.readyForProcessing = true;\n  }\n\n  let details = {\n    title: \"\",\n    description: \"\"\n  };\n  try {\n    details = JSON.parse(proposalFromChain.details);\n  } catch (e) {\n    console.log(\n      `Could not parse details from proposal.proposalIndex: ${proposal.proposalIndex} proposalFromChain: ${JSON.stringify(\n        proposalFromChain,\n        null,\n        2\n      )}`\n    );\n    details.title = proposalFromChain.details\n  }\n\n  proposal.title = details.title;\n  proposal.description = details.description;\n\n  return proposal;\n}\n","import React, { Component } from \"react\";\nimport { Divider, Grid, Icon, Segment, Button, Image } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport hood from \"assets/hood.png\";\n\nimport ProgressBar from \"./ProgressBar\";\n\nimport gql from \"graphql-tag\";\nimport { withApollo } from \"react-apollo\";\nimport { getProposalDetailsFromOnChain, ProposalStatus } from \"../helpers/proposals\";\nimport { getMoloch } from \"../web3\";\nimport { GET_LOGGED_IN_USER, SET_PROPOSAL_ATTRIBUTES } from \"../helpers/graphQlQueries\";\n\nconst formatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  minimumFractionDigits: 2\n});\n\nexport const Vote = {\n  Null: 0, // default value, counted as abstention\n  Yes: 1,\n  No: 2\n}\n\nconst MemberAvatar = ({ member, shares }) => {\n  return (\n    <Grid.Column mobile={4} tablet={3} computer={3} textAlign=\"center\" className=\"member_avatar\" title={member}>\n      <Link to={`/members/${member}`} className=\"uncolored\">\n        <Image src={hood} centered />\n        <p className=\"name\">{!member ? \"\" : member.length > 10 ? member.substring(0, 10) + \"...\" : member}</p>\n      </Link>\n    </Grid.Column>\n  );\n};\n\nconst GET_PROPOSAL_DETAIL = gql`\n  query Proposal($id: String!) {\n    proposal(id: $id) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      votes {\n        member {\n          id\n          shares\n        }\n        uintVote\n      }\n      status @client\n      title @client\n      description @client\n    }\n  }\n`;\nclass ProposalDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      proposal: {\n        tokenTribute: 0,\n        sharesRequested: 0,\n        votingEnded: true,\n        graceEnded: true,\n        yesVotes: 0,\n        noVotes: 0,\n        status: ProposalStatus.InQueue\n      },\n      user: {\n        id: 0,\n        shares: 0,\n        isActive: false\n      },\n      moloch: null\n    };\n\n    this.fetchData(props);\n  }\n\n  async componentDidMount() {\n    const moloch = await getMoloch();\n    this.setState({\n      moloch\n    });\n  }\n\n  async fetchData(props) {\n    const { client, loggedInUser } = props;\n    const proposalResult = await client.query({\n      query: GET_PROPOSAL_DETAIL,\n      variables: { id: this.props.match.params.id }\n    });\n\n    const userResult = await client.query({\n      query: GET_LOGGED_IN_USER,\n      variables: { address: loggedInUser }\n    });\n    this.setState({\n      user: userResult.data.member\n    });\n\n    let proposal = proposalResult.data.proposal\n    if (proposalResult.data.proposal.status === ProposalStatus.Unknown) {\n      const onChain = await getProposalDetailsFromOnChain(proposalResult.data.proposal);\n      const result = await client.mutate({\n        mutation: SET_PROPOSAL_ATTRIBUTES,\n        variables: {\n          id: proposalResult.data.proposal.id,\n          status: onChain.status,\n          title: onChain.title,\n          description: onChain.description || \"\"\n        }\n      });\n      proposal = {\n        ...proposalResult.data.proposal,\n        status: result.data.setAttributes.status,\n        title: result.data.setAttributes.title,\n        description: result.data.setAttributes.description\n      }\n    }\n    this.setState({\n      proposal\n    });\n  }\n\n  loadData(responseJson) {\n    let proposal = responseJson.items.member ? responseJson.items.member : responseJson.items;\n    this.setState({ proposal_detail: proposal, isAccepted: proposal.status === \"accepted\" || proposal.status === \"active\" ? true : false });\n    let voters = this.state.proposal_detail.voters ? this.state.proposal_detail.voters : [];\n    let userHasVoted = voters.find(voter => voter.member === this.state.loggedUser) ? true : false;\n    this.setState({ userHasVoted });\n    this.calculateVote(voters);\n  }\n\n  handleNo = () => {\n    const { proposal, moloch, user } = this.state\n    moloch.methods.submitVote(proposal.proposalIndex, Vote.No).send({ from: user.id })\n    this.setState({\n      userHasVoted: true\n    })\n  }\n\n  handleYes = () => {\n    const { proposal, moloch, user } = this.state\n    moloch.methods.submitVote(proposal.proposalIndex, Vote.Yes).send({ from: user.id })\n    this.setState({\n      userHasVoted: true\n    })\n  }\n\n  handleProcess = () => {\n    const { proposal, moloch, user } = this.state\n    moloch.methods.processProposal(proposal.proposalIndex).send({ from: user.id })\n  }\n\n  render() {\n    return (\n      <div id=\"proposal_detail\">\n        <Grid centered columns={16}>\n          <Segment className=\"transparent box segment\" textAlign=\"center\">\n            <Grid centered columns={14}>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <span className=\"title\">{this.state.proposal.title ? this.state.proposal.title : \"N/A\"}</span>\n              </Grid.Column>\n            </Grid>\n            <Grid centered columns={14}>\n              <Grid.Column mobile={16} tablet={16} computer={4}>\n                <div className=\"subtext description\">{this.state.proposal.description ? this.state.proposal.description : \"N/A\"}</div>\n                <Grid columns=\"equal\" className=\"tokens\">\n                  <Grid.Row>\n                    <Grid.Column className=\"tributes\">\n                      <Segment className=\"pill\" textAlign=\"center\">\n                        <Icon name=\"ethereum\" />\n                        {this.state.proposal.tokenTribute} ETH\n                      </Segment>\n                    </Grid.Column>\n                  </Grid.Row>\n                </Grid>\n                <Grid columns=\"equal\">\n                  <Grid.Column>\n                    <p className=\"subtext voting\">Shares</p>\n                    <p className=\"amount\">{this.state.proposal.sharesRequested}</p>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"right\">\n                    <p className=\"subtext\">Total USD Value</p>\n                    <p className=\"amount\">{formatter.format(0)}</p>\n                  </Grid.Column>\n                </Grid>\n              </Grid.Column>\n\n              <Grid.Column mobile={16} tablet={16} computer={2}>\n                <Divider vertical />\n              </Grid.Column>\n\n              <Grid.Column mobile={16} tablet={16} computer={6}>\n                <Grid columns={16}>\n                  <Grid.Column textAlign=\"left\" mobile={16} tablet={8} computer={8} className=\"pill_column\">\n                    <span className=\"pill\">\n                      {this.state.proposal.votingEnded ? (\n                        <span className=\"subtext\">Voting Ended</span>\n                      ) : (\n                        <>\n                          <span className=\"subtext\">Voting Ends: </span>\n                          <span>\n                            {this.state.proposal.votingEnds ? this.state.proposal.votingEnds : \"-\"} period\n                            {this.state.proposal.votingEnds === 1 ? null : \"s\"}\n                          </span>\n                        </>\n                      )}\n                    </span>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"right\" className=\"pill_column grace\" mobile={16} tablet={8} computer={8}>\n                    <span className=\"pill\">\n                      {this.state.proposal.graceEnded ? (\n                        <span className=\"subtext\">Grace Ended</span>\n                      ) : (\n                        <>\n                          <span className=\"subtext\">Grace Period Ends: </span>\n                          <span>\n                            {this.state.proposal.gracePeriod ? this.state.proposal.gracePeriod : \"-\"} period\n                            {this.state.proposal.gracePeriod === 1 ? null : \"s\"}\n                          </span>\n                        </>\n                      )}\n                    </span>\n                  </Grid.Column>\n                </Grid>\n                <Grid columns={16} className=\"member_list\">\n                  <Grid.Row>\n                    <Grid.Column mobile={16} tablet={16} computer={16} className=\"pill_column\">\n                      {this.state.proposal.votes && this.state.proposal.votes.length > 0 ? (\n                        <Grid>\n                          <Grid.Row className=\"members_row\">\n                            {/* centered */}\n                            {this.state.proposal.votes.map((vote, idx) => <MemberAvatar member={vote.member.id} shares={vote.member.shares} key={idx} />)}\n                          </Grid.Row>\n                        </Grid>\n                      ) : null}\n                    </Grid.Column>\n                  </Grid.Row>\n                </Grid>\n                <Grid>\n                  <Grid.Column>\n                    <ProgressBar yes={parseInt(this.state.proposal.yesVotes)} no={parseInt(this.state.proposal.noVotes)} />\n                  </Grid.Column>\n                </Grid>\n                <Grid columns=\"equal\" centered>\n                  <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                    <Button\n                      className=\"btn\"\n                      color=\"grey\"\n                      disabled={\n                        this.state.userHasVoted ||\n                        this.state.proposal.status !== ProposalStatus.VotingPeriod ||\n                        (!(this.state.user && this.state.user.shares) || !(this.state.user && this.state.user.isActive))\n                      }\n                      onClick={this.handleNo}\n                    >\n                      Vote No\n                    </Button>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                    <Button\n                      className=\"btn\"\n                      color=\"grey\"\n                      disabled={\n                        this.state.userHasVoted ||\n                        this.state.proposal.status !== ProposalStatus.VotingPeriod ||\n                        (!(this.state.user && this.state.user.shares) || !(this.state.user && this.state.user.isActive))\n                      }\n                      onClick={this.handleYes}\n                    >\n                      Vote Yes\n                    </Button>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                    <Button className=\"btn\" color=\"grey\" onClick={this.handleProcess} disabled={!this.state.proposal.readyForProcessing}>\n                      Process Proposal\n                    </Button>\n                  </Grid.Column>\n                </Grid>\n              </Grid.Column>\n            </Grid>\n          </Segment>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default withApollo(ProposalDetail);\n","import React from \"react\";\nimport { Segment, Grid, Button } from \"semantic-ui-react\";\nimport { Route, Switch, Link } from \"react-router-dom\";\n\nimport ProposalDetail from \"./ProposalDetail\";\nimport ProgressBar from \"./ProgressBar\";\nimport { Query, withApollo } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { getProposalDetailsFromOnChain, ProposalStatus } from \"../helpers/proposals\";\nimport { GET_LOGGED_IN_USER, SET_PROPOSAL_ATTRIBUTES, GET_CURRENT_PERIOD, GET_TOTAL_SHARES } from \"../helpers/graphQlQueries\";\nimport { formatter } from \"../helpers/currency\";\n\nfunction getProposalCountdownText(proposal) {\n  switch (proposal.status) {\n    case ProposalStatus.InQueue:\n      return (\n        <>\n          <span className=\"subtext\">Voting Begins: </span>\n          <span>\n            {proposal.votingStarts ? proposal.votingStarts : \"-\"} period{proposal.votingStarts === 1 ? null : \"s\"}\n          </span>\n        </>\n      )\n    case ProposalStatus.VotingPeriod:\n      return (\n        <>\n          <span className=\"subtext\">Voting Ends: </span>\n          <span>\n            {proposal.votingEnds ? proposal.votingEnds : \"-\"} period{proposal.votingEnds === 1 ? null : \"s\"}\n          </span>\n        </>\n      );\n    case ProposalStatus.GracePeriod:\n      return (\n        <>\n          <span className=\"subtext\">Voting Ends: </span>\n          <span>\n            {proposal.gracePeriod ? proposal.gracePeriod : \"-\"} period{proposal.gracePeriod === 1 ? null : \"s\"}\n          </span>\n        </>\n      );\n    default:\n      return <></>;\n  }\n}\n\nconst ProposalCard = ({ proposal, totalShares }) => {\n  let id = proposal.id;\n  return (\n    <Grid.Column mobile={16} tablet={8} computer={5}>\n      <Link to={{ pathname: `/proposals/${id}` }} className=\"uncolored\">\n        <Segment className=\"blurred box\">\n          <p className=\"name\">{proposal.title ? proposal.title : \"N/A\"}</p>\n          <p className=\"subtext description\">{proposal.description ? proposal.description : \"N/A\"}</p>\n          <Grid columns=\"equal\" className=\"value_shares\">\n            <Grid.Row>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Shares Requested</p>\n                <p className=\"amount\">{proposal.sharesRequested}</p>\n              </Grid.Column>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Total Value</p>\n                <p className=\"amount\">{formatter.format(0)}</p>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          <Grid columns=\"equal\" className=\"deadlines\">\n            <Grid.Row>\n              <Grid.Column textAlign=\"center\">\n                <Segment className=\"voting pill\" textAlign=\"center\">\n                  {getProposalCountdownText(proposal)}\n                </Segment>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          <ProgressBar totalShares={totalShares} yes={parseInt(proposal.yesVotes)} no={parseInt(proposal.noVotes)} />\n        </Segment>\n      </Link>\n    </Grid.Column>\n  );\n};\n\nconst GET_PROPOSAL_LIST = gql`\n  {\n    proposals(orderBy: proposalIndex, orderDirection: desc) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n`;\nclass ProposalList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      proposals: [],\n      loading: true,\n      totalShares: 0\n    };\n\n    this.fetchData(props);\n  }\n\n  async fetchData(props) {\n    const { client } = props;\n    this.setState({\n      loading: true\n    });\n    const { data: proposalData } = await client.query({\n      query: GET_PROPOSAL_LIST\n    });\n\n    const { data: currentPeriodData } = await client.query({\n      query: GET_CURRENT_PERIOD\n    });\n\n    const { data: totalSharesData } = await client.query({\n      query: GET_TOTAL_SHARES\n    });\n    try {\n      await this.determineProposalStatuses(client, proposalData.proposals, currentPeriodData.currentPeriod);\n    } catch (e) {\n      console.error(e);\n    } finally {\n      this.setState({\n        loading: false,\n        totalShares: +totalSharesData.totalShares\n      });\n    }\n  }\n\n  determineProposalStatuses = async (client, proposals, currentPeriod) => {\n    if (!proposals || proposals.length === 0) {\n      return;\n    }\n\n    const fullProps = [];\n    for (const proposal of proposals) {\n      if (proposal.status === ProposalStatus.Unknown) {\n        const fullProp = await getProposalDetailsFromOnChain(proposal, currentPeriod);\n        console.log(\"fullProp: \", fullProp);\n        const result = await client.mutate({\n          mutation: SET_PROPOSAL_ATTRIBUTES,\n          variables: {\n            id: proposal.id,\n            status: fullProp.status,\n            title: fullProp.title,\n            description: fullProp.description || \"\",\n            gracePeriod: fullProp.gracePeriod || \"\",\n            votingEnds: `${fullProp.votingEnds}` || \"\",\n            votingStarts: `${fullProp.votingStarts}` || \"\",\n            readyForProcessing: fullProp.readyForProcessing || \"\"\n          }\n        });\n        fullProps.push({\n          ...proposal,\n          status: result.data.setAttributes.status,\n          title: result.data.setAttributes.title,\n          description: result.data.setAttributes.description,\n          gracePeriod: result.data.setAttributes.gracePeriod,\n          votingEnds: result.data.setAttributes.votingEnds,\n          votingStarts: result.data.setAttributes.votingStarts,\n          readyForProcessing: result.data.setAttributes.readyForProcessing\n        });\n      } else {\n        fullProps.push(proposal);\n      }\n    }\n\n    this.setState({\n      proposals: fullProps\n    });\n    return;\n  };\n\n  render() {\n    const { isActive } = this.props;\n    const { proposals, totalShares } = this.state;\n    const gracePeriod = proposals.filter(p => p.status === ProposalStatus.GracePeriod);\n    const votingPeriod = proposals.filter(p => p.status === ProposalStatus.VotingPeriod);\n    const inQueue = proposals.filter(p => p.status === ProposalStatus.InQueue);\n    const completed = proposals.filter(\n      p => p.status === ProposalStatus.Aborted || p.status === ProposalStatus.Passed || p.status === ProposalStatus.Failed\n    );\n    return (\n      <div id=\"proposal_list\">\n        <React.Fragment>\n          <Grid columns={16} verticalAlign=\"middle\">\n            <Grid.Column mobile={16} tablet={8} computer={4} textAlign=\"right\" floated=\"right\" className=\"submit_button\">\n              <Link to={isActive ? \"/proposalsubmission\" : \"/proposals\"} className=\"link\">\n                <Button size=\"large\" color=\"red\" disabled={!isActive}>\n                  New Proposal\n                </Button>\n              </Link>\n            </Grid.Column>\n          </Grid>\n          {this.state.loading ? (\n            <>Loading proposals...</>\n          ) : (\n            <>\n              {/* Grace Period */}\n              <Grid columns={16} verticalAlign=\"middle\">\n                <Grid.Column mobile={16} tablet={8} computer={8} textAlign=\"left\">\n                  <p className=\"subtext\">\n                    {gracePeriod.length} Proposal{gracePeriod.length > 1 || gracePeriod.length === 0 ? \"s\" : \"\"}\n                  </p>\n                  <p className=\"title\">In Grace Period</p>\n                </Grid.Column>\n              </Grid>\n              <Grid columns={3}>\n                {gracePeriod.map((p, index) => (\n                  <ProposalCard totalShares={totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n              {/* Voting Period */}\n              <Grid columns={16} verticalAlign=\"middle\">\n                <Grid.Column mobile={16} tablet={8} computer={8} textAlign=\"left\">\n                  <p className=\"subtext\">\n                    {votingPeriod.length} Proposal{votingPeriod.length > 1 || votingPeriod.length === 0 ? \"s\" : \"\"}\n                  </p>\n                  <p className=\"title\">In Voting Period</p>\n                </Grid.Column>\n              </Grid>\n              <Grid columns={3}>\n                {votingPeriod.map((p, index) => (\n                  <ProposalCard totalShares={totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n              {/* In Queue */}\n              <Grid columns={16} verticalAlign=\"middle\">\n                <Grid.Column mobile={16} tablet={8} computer={8} textAlign=\"left\">\n                  <p className=\"subtext\">\n                    {inQueue.length} Proposal{inQueue.length > 1 || inQueue.length === 0 ? \"s\" : \"\"}\n                  </p>\n                  <p className=\"title\">In Queue</p>\n                </Grid.Column>\n              </Grid>\n              <Grid columns={3}>\n                {inQueue.map((p, index) => (\n                  <ProposalCard totalShares={totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n              {/* Completed */}\n              <Grid columns={16} verticalAlign=\"middle\">\n                <Grid.Column mobile={16} tablet={8} computer={8} textAlign=\"left\">\n                  <p className=\"subtext\">\n                    {completed.length} Proposal{completed.length > 1 || completed.length === 0 ? \"s\" : \"\"}\n                  </p>\n                  <p className=\"title\">Completed</p>\n                </Grid.Column>\n              </Grid>\n              <Grid columns={3}>\n                {completed.map((p, index) => (\n                  <ProposalCard totalShares={totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            </>\n          )}\n        </React.Fragment>\n      </div>\n    );\n  }\n}\nconst ProposalListHOC = withApollo(ProposalList);\n\nconst ProposalListView = props => {\n  return (\n    <Query query={GET_LOGGED_IN_USER} variables={{ address: props.loggedInUser }}>\n      {({ loading, error, data }) => {\n        if (loading) return \"Loading...\";\n        if (error) throw new Error(`Error!: ${error}`);\n        return (\n          <Switch>\n            <Route exact path=\"/proposals\" render={() => <ProposalListHOC isActive={data.member ? data.member.isActive : false} />} />\n            <Route path=\"/proposals/:id\" component={ProposalDetail} />\n          </Switch>\n        );\n      }}\n    </Query>\n  );\n};\n\nexport default ProposalListView;\n","import React from \"react\";\nimport { Divider, Grid, Segment, Image, Icon, Label, Header } from \"semantic-ui-react\";\n\nimport bull from \"assets/bull.png\";\nimport hood from \"assets/hood.png\";\n\nimport gql from \"graphql-tag\";\nimport { Query } from \"react-apollo\";\nimport { Vote } from \"./ProposalDetail\";\nimport { utils } from \"ethers\"\nimport { formatter } from \"../helpers/currency\";\n\nconst GET_MEMBER_DETAIL = gql`\n  query Member($id: String!) {\n    member(id: $id) {\n      id\n      shares\n      tokenTribute\n    }\n    shareValue @client\n  }\n`;\nconst MemberDetail = ({ name, loggedInUser }) => (\n  <Query query={GET_MEMBER_DETAIL} variables={{ id: name }}>\n    {({ loading, error, data }) => {\n      if (loading) return <Segment className=\"blurred box\">Loading...</Segment>;\n      if (error) throw new Error(`Error!: ${error}`);\n\n      return (\n        <Segment className=\"blurred box\">\n          <Grid columns=\"equal\">\n            <Grid.Column>\n              <p className=\"subtext\">Shares</p>\n              <p className=\"amount\">{data.member.shares}</p>\n            </Grid.Column>\n            <Grid.Column textAlign=\"right\">\n              <p className=\"subtext\">Total Value</p>\n              <p className=\"amount\">{formatter.format(utils.bigNumberify(data.member.shares).mul(data.shareValue).toString())}</p>\n            </Grid.Column>\n          </Grid>\n          <Grid>\n            <Grid.Column textAlign=\"center\" className=\"avatar\">\n              <Image centered src={loggedInUser === name ? bull : hood} size=\"tiny\" />\n            </Grid.Column>\n          </Grid>\n          <p className=\"subtext\">Tribute</p>\n          <Grid columns=\"equal\">\n            <Grid.Row>\n              <Grid.Column>\n                <Segment className=\"pill\" textAlign=\"center\">\n                  <Icon name=\"ethereum\" />\n                  {utils.formatEther(data.member.tokenTribute)} ETH\n                </Segment>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </Segment>\n      );\n    }}\n  </Query>\n);\n\nconst GET_PROPOSAL_HISTORY = gql`\n  query Proposals($id: String!) {\n    proposals {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      votes(where: { memberAddress: $id }) {\n        id\n        uintVote\n      }\n      status @client\n      title @client\n      description @client\n    }\n  }\n`;\nconst ProposalDetail = ({ name }) => (\n  <Query query={GET_PROPOSAL_HISTORY} variables={{ id: name }}>\n    {({ loading, error, data }) => {\n      if (loading) return <Segment className=\"blurred box\">Loading...</Segment>;\n      if (error) throw new Error(`Error!: ${error}`);\n      console.log(\"data: \", data);\n      return (\n        <Segment className=\"blurred box\">\n          <Grid columns=\"equal\" textAlign=\"center\">\n            <Grid.Row className=\"subtext\" style={{ fontSize: 20 }}>\n              History\n            </Grid.Row>\n          </Grid>\n          <Grid columns=\"equal\">\n            <Grid.Row className=\"header\">\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Proposal Title</p>\n              </Grid.Column>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Date</p>\n              </Grid.Column>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Shares Requested</p>\n              </Grid.Column>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Tribute Offered</p>\n              </Grid.Column>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Vote</p>\n              </Grid.Column>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Status</p>\n              </Grid.Column>\n            </Grid.Row>\n            {data.proposals && data.proposals.length > 0 ? (\n              data.proposals.map((p, idx) => {\n                return (\n                  <React.Fragment key={idx}>\n                    <Grid.Row verticalAlign=\"middle\">\n                      <Grid.Column textAlign=\"center\">\n                        {p.votes.uintVote === Vote.Yes && <Label className=\"dot\" circular color=\"green\" empty />}\n                        {/* TODO: is this right? */}\n                        {(p.votes.uintVote === Vote.No || p.votes.uintVote === Vote.Null) && <Label className=\"dot\" circular color=\"red\" empty />}\n                        {p.title}\n                      </Grid.Column>\n                      <Grid.Column textAlign=\"center\">\n                        <p className=\"subtext date\">{new Date(p.timestamp * 1000).toISOString().slice(0, 10)}</p>\n                      </Grid.Column>\n                      <Grid.Column textAlign=\"center\">\n                        <p className=\"subtext date\">{p.sharesRequested}</p>\n                      </Grid.Column>\n                      <Grid.Column textAlign=\"center\">\n                        <p className=\"subtext date\">{utils.formatEther(p.tokenTribute)}</p>\n                      </Grid.Column>\n                      <Grid.Column textAlign=\"center\">\n                        <Header as=\"p\" color={p.vote === 2 ? \"green\" : p.vote === 1 ? \"red\" : null}>\n                          {p.vote === 2 ? \"Y\" : p.vote === 1 ? \"N\" : \"\"}\n                        </Header>\n                      </Grid.Column>\n                      <Grid.Column textAlign=\"center\">\n                        <p className=\"subtext date\">{p.aborted ? \"Aborted\" : p.processed ? (p.didPass ? \"Passed\" : \"Failed\") : \"Pending\"}</p>\n                      </Grid.Column>\n                    </Grid.Row>\n                    <Divider />\n                  </React.Fragment>\n                );\n              })\n            ) : (\n              <>This member hasn't voted on any proposals yet.</>\n            )}\n          </Grid>\n        </Segment>\n      );\n    }}\n  </Query>\n);\n\nconst MemberDetailView = props => (\n  <div id=\"member_detail\">\n    <p className=\"title\"> {props.match.params.name} </p>\n    <Divider />\n    <Grid columns={16}>\n      <Grid.Row className=\"details\">\n        <Grid.Column mobile={16} tablet={16} computer={6} className=\"user\">\n          <MemberDetail name={props.match.params.name} loggedInUser={props.loggedInUser} />\n        </Grid.Column>\n        <Grid.Column mobile={16} tablet={16} computer={10} className=\"proposals\">\n          <ProposalDetail name={props.match.params.name} />\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  </div>\n);\n\nexport default MemberDetailView;\n","import React from \"react\";\nimport { Grid, Image, Divider } from \"semantic-ui-react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\n\nimport MemberDetail from \"./MemberDetail\";\nimport bull from \"assets/bull.png\";\nimport hood from \"assets/hood.png\";\n\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { GET_LOGGED_IN_USER, GET_MEMBERS } from \"../helpers/graphQlQueries\";\n\nconst MemberAvatar = ({ address, shares }) => (\n  <Grid.Column mobile={5} tablet={3} computer={3} textAlign=\"center\" className=\"member_avatar\" title={address}>\n    <Link to={`/members/${address}`} className=\"uncolored\">\n      <Image src={hood} centered size=\"tiny\" />\n      <p className=\"name\">{!address ? \"\" : address.length > 10 ? address.substring(0, 10) + \"...\" : address}</p>\n      <p className=\"subtext\">{shares} shares</p>\n    </Link>\n  </Grid.Column>\n);\n\nconst LoggedInUser = props => (\n  <Query query={GET_LOGGED_IN_USER} variables={{ address: props.loggedInUser }}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.member && data.member.isActive ? (\n        <Link to={`/members/${data.member.id}`} className=\"uncolored\">\n          <Image centered src={bull} size=\"tiny\" />\n          <p className=\"name\">{!data.member.id ? \"\" : data.member.id.length > 10 ? data.member.id.substring(0, 10) + \"...\" : data.member.id}</p>\n          <p className=\"subtext\">{data.member.shares ? data.member.shares : 0} shares</p>\n        </Link>\n      ) : (\n        <div />\n      );\n    }}\n  </Query>\n);\n\nconst GET_ELDERS = gql`\n  {\n    members(where: { shares_gte: 100, isActive: true }) {\n      id\n      shares\n    }\n  }\n`;\nconst Elders = () => (\n  <Query query={GET_ELDERS}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.members.length > 0 ? (\n        data.members.map((elder, idx) => <MemberAvatar address={elder.id} shares={elder.shares} key={idx} />)\n      ) : (\n        <>No elders to show.</>\n      );\n    }}\n  </Query>\n);\n\nconst GET_NON_ELDERS = gql`\n  {\n    members(where: { shares_gt: 0, shares_lt: 100, isActive: true }) {\n      id\n      shares\n    }\n  }\n`;\nconst Contributors = () => (\n  <Query query={GET_NON_ELDERS}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.members.length > 0 ? (\n        data.members.map((contributor, idx) => <MemberAvatar address={contributor.id} shares={contributor.shares} key={idx} />)\n      ) : (\n        <>No contributors to show.</>\n      );\n    }}\n  </Query>\n);\n\nconst MemberList = props => (\n  <Query query={GET_MEMBERS}>\n    {({ loading, error, data }) => {\n      let members;\n      if (error) {\n        members = \"NA\";\n        console.error(`Could not load members: ${error}`);\n      } else if (loading) {\n        members = \"-\";\n      } else {\n        members = data.members.length;\n      }\n      return (\n        <div id=\"member_list\">\n          <Grid columns={16} verticalAlign=\"middle\">\n            <Grid.Column mobile={16} tablet={6} computer={6} textAlign=\"left\" className=\"member_list_header\">\n              <p className=\"subtext\">{members} Members</p>\n            </Grid.Column>\n\n            {/* <Grid.Column mobile={16} tablet={10} computer={10} textAlign=\"right\" className=\"submit_button\">\n              <Link to='/membershipproposalsubmission' className=\"link\">\n                <Button size='large' color='red' disabled={(props.user.status === 'founder') ? true : false}>Membership Proposal</Button>\n              </Link>\n            </Grid.Column> */}\n          </Grid>\n\n          <Grid>\n            <Grid.Column textAlign=\"center\">\n              <LoggedInUser {...props} />\n            </Grid.Column>\n          </Grid>\n          <Grid className=\"member_item\">\n            <Grid.Row>\n              <p style={{ paddingLeft: \"1rem\" }}>Elders (100+ shares)</p>\n            </Grid.Row>\n            <Divider />\n            <Grid.Row className=\"members_row\" centered>\n              <Elders />\n            </Grid.Row>\n          </Grid>\n          <Grid className=\"member_item\">\n            <Grid.Row>\n              <p style={{ paddingLeft: \"1rem\" }}>Contributors</p>\n            </Grid.Row>\n            <Divider />\n            <Grid.Row className=\"members_row\" centered>\n              <Contributors />\n            </Grid.Row>\n          </Grid>\n        </div>\n      );\n    }}\n  </Query>\n);\n\nconst MemberListView = higherProps => (\n  <Switch>\n    <Route exact path=\"/members\" render={props => <MemberList {...props} loggedInUser={higherProps.loggedInUser} />} />\n    <Route path=\"/members/:name\" render={props => <MemberDetail {...props} loggedInUser={higherProps.loggedInUser} />} />\n  </Switch>\n);\n\nexport default MemberListView;\n","import React, { Component } from \"react\";\nimport { Grid, Button } from \"semantic-ui-react\";\n\nimport { initMetmask, initGnosisSafe } from \"../web3\";\nimport { ApolloConsumer } from \"react-apollo\";\n\nlet coinbase;\n\nexport default class Login extends Component {\n  // bypass auth for now\n  loginWithMetamask = async client => {\n    const web3 = await initMetmask();\n    await this.doLoginBypassAuth(client, web3);\n  };\n\n  loginWithGnosisSafe = async client => {\n    const web3 = initGnosisSafe();\n    await this.doLoginBypassAuth(client, web3);\n  };\n\n  doLoginBypassAuth = async (client, web3) => {\n    coinbase = (await web3.listAccounts())[0];\n\n    if (!coinbase) {\n      alert(\"Could not retrieve address from Gnosis Safe/MetaMask, is it configured and this domain whitelisted?\");\n    } else {\n      // Try getting a user by their public address.\n      client.writeData({\n        data: {\n          loggedInUser: coinbase.toLowerCase()\n        }\n      });\n      this.props.loginComplete()\n      this.props.history.push(\"/\");\n    }\n  };\n\n  render() {\n    return (\n      <ApolloConsumer>\n        {client => (\n          <div id=\"login\">\n            <Grid columns={1} centered>\n              <Grid.Row>\n                <Button size=\"large\" color=\"grey\" onClick={() => this.loginWithMetamask(client)}>\n                  Connect With Web3\n                </Button>\n              </Grid.Row>\n              <Grid.Row>\n                <Button size=\"large\" color=\"grey\" onClick={() => this.loginWithGnosisSafe(client)}>\n                  Connect With Web3 (Gnosis Safe)\n                </Button>\n              </Grid.Row>\n            </Grid>\n          </div>\n        )}\n      </ApolloConsumer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button, Divider, Form, Grid, Input, Segment, GridColumn } from \"semantic-ui-react\";\nimport { getMoloch } from \"../web3\";\n\nconst formatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  minimumFractionDigits: 2\n});\n\nclass AssetsFields extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleAsset = this.handleAsset.bind(this);\n    this.deleteAsset = this.deleteAsset.bind(this);\n  }\n\n  handleAsset(event, { value, name }) {\n    this.props.onHandleAsset({ value, name, assetIndex: this.props.assetIndex });\n  }\n\n  deleteAsset() {\n    this.props.onHandleDeleteAsset({ assetIndex: this.props.assetIndex });\n  }\n\n  render() {\n    return (\n      <Grid.Row className=\"asset_field_row\">\n        {/* <Grid.Column mobile={14} tablet={5} computer={7} className=\"asset_field_grid membership\"> */}\n        <Grid.Column width={2} textAlign=\"left\" className=\"asset_field_grid membership\">\n          {/* <Input name=\"asset\" className=\"asset icon_asset\" icon=\"ethereum\" iconPosition=\"left\" placeholder=\"ETH, BTC, Token address\" onChange={this.handleAsset} type=\"text\" /> */}\n          {/* <Input icon=\"ethereum\" iconPosition=\"left\" name=\"asset\" className=\"asset icon_asset\" type=\"text\" value={this.props.assets.symbol} disabled={true} /> */}\n          <div className=\"subtext\" style={{ paddingTop: 10, paddingRight: 10 }}>\n            {this.props.assets.symbol}\n          </div>\n        </Grid.Column>\n        {/* <Grid.Column mobile={2} tablet={1} computer={2} className=\"asset_field_grid mobile_delete_icon\" textAlign=\"right\">\n                    <div className=\"subtext\">\n                        <Icon name='times' className=\"delete_icon\" link onClick={this.deleteAsset} />\n                    </div>\n                </Grid.Column> */}\n        <Grid.Column mobile={14} tablet={10} computer={7} className=\"asset_field_grid\">\n          <Input name=\"amount\" className=\"asset_amount\" placeholder=\"Enter Amount\" type=\"number\" onChange={this.handleAsset} />\n        </Grid.Column>\n        {/* <Grid.Column mobile={2} tablet={1} computer={2} className=\"asset_field_grid computer_delete_icon\" textAlign=\"center\">\n                    <div className=\"subtext\">\n                        <Icon name='times' className=\"delete_icon\" link onClick={this.deleteAsset} />\n                    </div>\n                </Grid.Column> */}\n      </Grid.Row>\n    );\n  }\n}\n\nexport default class ProposalSubmission extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      address: props.loggedInUser,\n      title: \"\",\n      description: \"\",\n      shares: 0,\n      tribute: 0, // TODO: this will be calculated with the blockchain\n      assets: [\n        {\n          asset: \"ETH\",\n          symbol: \"ETH\",\n          amount: 0,\n          logo: \"https://s2.coinmarketcap.com/static/img/coins/64x64/1027.png\"\n        }\n      ],\n      formErrors: { title: \"\", description: \"\", assets: \"\", shares: \"\" },\n      titleValid: false,\n      descriptionValid: false,\n      assetsValid: false,\n      sharesValid: false,\n      formValid: false\n    };\n\n    this.addAsset = this.addAsset.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleAsset = this.handleAsset.bind(this);\n    this.handleDeleteAsset = this.handleDeleteAsset.bind(this);\n  }\n\n  async componentDidMount() {\n    const moloch = await getMoloch();\n    this.setState({\n      moloch\n    });\n  }\n\n  validateField(fieldName, value) {\n    let fieldValidationErrors = this.state.formErrors;\n    let titleValid = this.state.titleValid;\n    let descriptionValid = this.state.descriptionValid;\n    let assetsValid = this.state.assetsValid;\n    let sharesValid = this.state.sharesValid;\n\n    switch (fieldName) {\n      case \"title\":\n        titleValid = value !== \"\";\n        fieldValidationErrors.title = titleValid ? \"\" : \"Title field is invalid\";\n        break;\n      case \"description\":\n        descriptionValid = value !== \"\";\n        fieldValidationErrors.description = descriptionValid ? \"\" : \"Description field is invalid\";\n        break;\n      case \"assets\":\n        Object.keys(value).map(key => {\n          for (var i in value[key]) {\n            if (Object.keys(value[key]).length <= 1) {\n              assetsValid = false;\n              return false;\n            } else {\n              if (value[key][i] === null || value[key][i] === \"\") {\n                assetsValid = false;\n                return false;\n              }\n            }\n          }\n          assetsValid = true;\n          return true;\n        });\n        fieldValidationErrors.assets = assetsValid ? \"\" : \"Asset is invalid\";\n        break;\n      case \"shares\":\n        sharesValid = value > 0;\n        fieldValidationErrors.shares = sharesValid ? \"\" : \"Shares field is invalid\";\n        break;\n      default:\n        break;\n    }\n    this.setState(\n      {\n        formErrors: fieldValidationErrors,\n        titleValid: titleValid,\n        descriptionValid: descriptionValid,\n        assetsValid: assetsValid,\n        sharesValid: sharesValid\n      },\n      this.validateForm\n    );\n  }\n\n  validateForm() {\n    this.setState({ formValid: this.state.titleValid && this.state.descriptionValid && this.state.assetsValid && this.state.sharesValid });\n  }\n\n  addAsset() {\n    let assets = this.state.assets ? this.state.assets : [];\n    assets.push({});\n\n    this.setState({ assets });\n  }\n\n  handleInput(event) {\n    let name = event.target.name;\n    let value = event.target.value;\n    if (name === \"shares\") {\n      this.setState({ [name]: parseInt(value) }, () => {\n        this.validateField(name, value);\n      });\n    } else {\n      this.setState({ [event.target.name]: event.target.value }, () => {\n        this.validateField(name, value);\n      });\n    }\n  }\n\n  handleAsset(event) {\n    let assets = this.state.assets;\n    assets[event.assetIndex][event.name] = event.value;\n    this.setState({ assets }, () => {\n      this.validateField(\"assets\", assets);\n    });\n    this.setState({ tribute: 0 * event.value });\n  }\n\n  handleDeleteAsset(event) {\n    let assets = this.state.assets;\n    assets.splice(event.assetIndex, 1);\n    this.setState({ assets }, () => {\n      this.validateField(\"assets\", assets);\n    });\n  }\n\n  async handleSubmit() {\n    const { moloch, formValid, address, title, description, shares, tribute } = this.state\n\n    if (formValid) {\n      try {\n        await moloch.methods.submitProposal(address, tribute, shares, JSON.stringify({ title, description })).send({ from: address })\n      } catch (e) {\n        console.error(e);\n        alert(\"Error processing proposal\");\n      }\n    } else {\n      alert(\"Please fill any missing fields.\");\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"proposal_submission\">\n        <Form>\n          <Grid centered columns={16}>\n            <Grid.Row stretched>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Input\n                  name=\"title\"\n                  transparent\n                  size=\"big\"\n                  inverted\n                  placeholder=\"Proposal Title\"\n                  onChange={this.handleInput}\n                  value={this.state.title}\n                />\n                <Divider />\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row stretched>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Segment className=\"blurred box\">\n                  <Form.Input\n                    name=\"shares\"\n                    label=\"Request voting shares\"\n                    placeholder=\"Shares\"\n                    fluid\n                    type=\"number\"\n                    onChange={this.handleInput}\n                    value={this.state.shares}\n                  />\n                </Segment>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Grid columns=\"equal\">\n                  <Grid.Column>\n                    <Segment className=\"blurred box\">\n                      <Form.TextArea\n                        name=\"description\"\n                        label=\"Description\"\n                        placeholder=\"Type here\"\n                        rows={15}\n                        onChange={this.handleInput}\n                        value={this.state.description}\n                      />\n                    </Segment>\n                  </Grid.Column>\n                  <Grid.Column mobile={16} tablet={16} computer={8}>\n                    <Segment className=\"blurred box\">\n                      <Grid columns={16}>\n                        <Grid.Column width={14}>\n                          <div className=\"subtext\">Request Amount</div>\n                        </Grid.Column>\n                        {/* <Grid.Column width={2}>\n                                                    <div className=\"subtext\">\n                                                        <Icon name='add' className=\"add_icon\" link onClick={this.addAsset} />\n                                                    </div>\n                                                </Grid.Column> */}\n                      </Grid>\n                      <Grid columns={3} className=\"assets_field\">\n                        {this.state.assets.map((row, i) => (\n                          <AssetsFields\n                            key={i}\n                            assetIndex={i}\n                            assets={row}\n                            onHandleAsset={this.handleAsset}\n                            onHandleDeleteAsset={this.handleDeleteAsset}\n                          />\n                        ))}\n                      </Grid>\n                      <Divider />\n                      <Grid columns=\"equal\" className=\"value_shares\">\n                        <Grid.Row>\n                          <Grid.Column textAlign=\"center\">\n                            <p className=\"subtext\">Tribute Value</p>\n                            <p className=\"amount\">{formatter.format(this.state.tribute)}</p>\n                          </Grid.Column>\n                        </Grid.Row>\n                      </Grid>\n                    </Segment>\n                  </Grid.Column>\n                </Grid>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <GridColumn mobile={16} tablet={8} computer={8} className=\"submit_button\">\n                <Button size=\"large\" color=\"red\" onClick={this.handleSubmit}>\n                  Submit Proposal\n                </Button>\n              </GridColumn>\n            </Grid.Row>\n          </Grid>\n        </Form>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Grid, Image, Divider, Button } from \"semantic-ui-react\";\nimport ethereumIcon from \"assets/ethereumIcon.png\";\nimport { Query } from \"react-apollo\";\nimport { GET_LOGGED_IN_USER } from \"../helpers/graphQlQueries\";\n\nconst currencies = [\n  {\n    name: \"ETH\",\n    shares: 508,\n    value: 32000,\n    icon: ethereumIcon\n  }\n];\n\nconst CurrencyElement = ({ name, shares, icon, value }) => (\n  <Grid.Column mobile={5} tablet={3} computer={3} textAlign=\"center\" className=\"currency_element\">\n    <Image src={icon} centered size=\"tiny\" circular />\n    <p className=\"name\">{name}</p>\n    <p className=\"shares\">{shares}</p>\n    <p className=\"subtext\">{\"$\" + value}</p>\n  </Grid.Column>\n);\n\nexport default class GuildBank extends React.Component {\n  state = {\n    isActive: true\n  };\n\n  redeemToken() {}\n\n  render() {\n    return (\n      <Query query={GET_LOGGED_IN_USER} variables={{ address: this.props.loggedInUser }}>\n        {({ loading, error, data }) => {\n          if (loading) return \"Loading...\";\n          if (error) throw new Error(`Error!: ${error}`);\n          return (\n            <div id=\"guild_bank\">\n              <Grid>\n                <Grid.Column textAlign=\"center\" className=\"guild_value\">\n                  <p className=\"subtext\">Guild Bank Value</p>\n                  <p className=\"amount\">$53,640,918</p>\n                  <Button size=\"large\" color=\"grey\" disabled={data.member.isActive && this.state.isActive ? false : true} onClick={this.redeemToken}>\n                    Redeem Loot Token\n                  </Button>\n                </Grid.Column>\n              </Grid>\n\n              <Grid>\n                <Grid.Row />\n                <Divider />\n                <Grid.Row centered>\n                  {currencies.map((elder, idx) => (\n                    <CurrencyElement {...elder} key={idx} />\n                  ))}\n                </Grid.Row>\n              </Grid>\n            </div>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n","import React from 'react';\n\nexport default () => (\n  <p>Not Found</p>\n)\n","import { ProposalStatus } from \"./helpers/proposals\";\nimport gql from \"graphql-tag\";\n\nexport const defaults = {\n  loggedInUser: \"\",\n  exchangeRate: \"\",\n  totalShares: \"\",\n  guildBankValue: \"\",\n  shareValue: \"\",\n  currentPeriod: \"\"\n};\n\nexport const resolvers = {\n  Proposal: {\n    status: () => ProposalStatus.Unknown,\n    title: () => \"\",\n    description: () => \"\",\n    gracePeriod: () => \"\",\n    votingEnds: () => \"\",\n    votingStarts: () => \"\",\n    readyForProcessing: () => false\n  },\n  Mutation: {\n    setAttributes: (_, variables, { cache, getCacheKey }) => {\n      const id = getCacheKey({ __typename: \"Proposal\", id: variables.id });\n      console.log('variables: ', variables);\n      const fragment = gql`\n        fragment getStatus on Proposal {\n          status\n        }\n      `;\n      const proposal = cache.readFragment({ fragment, id });\n      const data = {\n        ...proposal,\n        status: variables.status,\n        title: variables.title,\n        description: variables.description,\n        gracePeriod: variables.gracePeriod,\n        votingEnds: variables.votingEnds,\n        votingStarts: variables.votingStarts,\n        readyForProcessing: variables.readyForProcessing\n      };\n      cache.writeData({ id, data });\n      return data;\n    }\n  }\n};\n","import gql from \"graphql-tag\";\n\nexport const typeDefs = gql`\n  extend type Proposal {\n    status: String,\n    title: String,\n    description: String,\n    gracePeriod: String,\n    votingEnds: String,\n    votingStarts: String,\n    readyForProcessing: Bool\n  }\n\n  extend type Query {\n    proposalsWithStatus: [Proposal]\n  }\n`;","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\n\nimport Background from \"./components/Background\";\nimport Header from \"./components/Header\";\nimport Wrapper from \"./components/Wrapper\";\nimport Home from \"./components/Home\";\nimport ProposalList from \"./components/ProposalList\";\nimport MemberList from \"./components/MemberList\";\nimport ProposalSubmission from \"./components/ProposalSubmission\";\nimport GuildBank from \"./components/GuildBank\";\nimport Login from \"./components/Login\";\nimport NotFound from \"./components/NotFound\";\nimport { ApolloProvider, Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { defaults, resolvers } from \"./resolvers\";\nimport { typeDefs } from \"./schema\";\nimport { ApolloClient } from \"apollo-client\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { onError } from \"apollo-link-error\";\nimport { ApolloLink } from \"apollo-link\";\nimport { withClientState } from \"apollo-link-state\";\nimport { CachePersistor } from \"apollo-cache-persist\";\nimport { GET_METADATA } from \"./helpers/graphQlQueries\";\nimport { getMedianizer, getMoloch, getToken } from \"./web3\";\nimport { utils } from \"ethers\";\n\nconsole.log(process.env);\n\nconst cache = new InMemoryCache();\n\nconst stateLink = withClientState({\n  cache,\n  defaults,\n  resolvers,\n  typeDefs\n});\n\nconst persistor = new CachePersistor({\n  cache,\n  storage: window.localStorage,\n  maxSize: false,\n  debug: true\n});\n\nconst httpLink = new HttpLink({\n  uri: process.env.REACT_APP_GRAPH_NODE_URI\n});\n\nconst client = new ApolloClient({\n  cache,\n  link: ApolloLink.from([\n    onError(({ graphQLErrors, networkError }) => {\n      if (graphQLErrors)\n        graphQLErrors.map(({ message, locations, path }) =>\n          console.log(`[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`)\n        );\n      if (networkError) console.log(`[Network error]: ${networkError}`);\n    }),\n    stateLink,\n    httpLink\n  ])\n});\n\nconst IS_LOGGED_IN = gql`\n  query IsUserLoggedIn {\n    loggedInUser @client\n  }\n`;\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      restored: false,\n      exchangeRate: \"0\",\n      totalShares: \"0\",\n      guildBankValue: \"0\",\n    };\n  }\n\n  async componentDidMount() {\n    // await persistor.restore();\n\n    await this.populateData(true)\n\n    this.setState({ restored: true });\n  }\n\n  async populateData(refetch) {\n    let { data: loggedInUserData } = await client.query({\n      query: IS_LOGGED_IN\n    });\n    const loggedInUser = loggedInUserData.loggedInUser\n\n    let { data } = await client.query({\n      query: GET_METADATA\n    });\n    console.log('data: ', data);\n    let { exchangeRate, totalShares, currentPeriod, guildBankValue, shareValue } = data;\n\n    if (!exchangeRate || refetch) {\n      const medianizer = await getMedianizer();\n      exchangeRate = (await medianizer.compute())[0];\n      exchangeRate = utils.bigNumberify(exchangeRate)\n    }\n\n    if (!totalShares || !currentPeriod || refetch) {\n      const moloch = await getMoloch();\n      totalShares = await moloch.totalShares();\n      currentPeriod = await moloch.getCurrentPeriod();\n    }\n\n    const token = await getToken();\n    if (!guildBankValue || refetch) {\n      guildBankValue = loggedInUser ? await token.balanceOf(loggedInUser) : 0;\n    }\n\n    shareValue = utils.bigNumberify(guildBankValue).gt(0) ? utils.bigNumberify(totalShares).div(guildBankValue) : 0\n\n    client.writeData({\n      data: {\n        guildBankValue: guildBankValue.toString(),\n        shareValue: shareValue.toString(),\n        totalShares: totalShares.toString(),\n        currentPeriod: currentPeriod.toString(),\n        exchangeRate: exchangeRate.toString()\n      }\n    });\n  }\n\n  render() {\n    return this.state.restored ? (\n      <ApolloProvider client={client}>\n        <Router>\n          <Query query={IS_LOGGED_IN}>\n            {({ data }) => {\n              console.log(\"data: \", data.loggedInUser);\n              return (\n                <>\n                  <Background />\n                  <Header loggedInUser={data.loggedInUser} />\n                  <Wrapper>\n                    <Switch>\n                      <Route\n                        exact\n                        path=\"/\"\n                        render={props =>\n                          data.loggedInUser ? <Home {...props} loggedInUser={data.loggedInUser} /> : <Redirect to={{ pathname: \"/login\" }} />\n                        }\n                      />\n                      <Route\n                        path=\"/proposals\"\n                        render={props =>\n                          data.loggedInUser ? <ProposalList {...props} loggedInUser={data.loggedInUser} /> : <Redirect to={{ pathname: \"/login\" }} />\n                        }\n                      />\n                      <Route\n                        path=\"/members\"\n                        render={props =>\n                          data.loggedInUser ? <MemberList {...props} loggedInUser={data.loggedInUser} /> : <Redirect to={{ pathname: \"/login\" }} />\n                        }\n                      />\n                      <Route\n                        path=\"/proposalsubmission\"\n                        render={props =>\n                          data.loggedInUser ? (\n                            <ProposalSubmission {...props} loggedInUser={data.loggedInUser} />\n                          ) : (\n                            <Redirect to={{ pathname: \"/login\" }} />\n                          )\n                        }\n                      />\n                      <Route\n                        path=\"/guildbank\"\n                        render={props =>\n                          data.loggedInUser ? <GuildBank {...props} loggedInUser={data.loggedInUser} /> : <Redirect to={{ pathname: \"/login\" }} />\n                        }\n                      />\n                      <Route path=\"/login\" render={props => <Login {...props} loginComplete={() => this.populateData(true)} />} />\n                      <Route component={NotFound} />\n                    </Switch>\n                  </Wrapper>\n                </>\n              );\n            }}\n          </Query>\n        </Router>\n      </ApolloProvider>\n    ) : (\n      <div>Loading!!!</div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'semantic-ui-css/semantic.min.css';\n\nimport './index.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/hood.ba69d28c.png\";"],"sourceRoot":""}