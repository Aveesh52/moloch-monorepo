{"version":3,"sources":["assets/bull.png","assets/ethereumIcon.png","components/Background.js","helpers/graphQlQueries.js","web3.js","components/ProgressBar.js","helpers/proposals.js","helpers/currency.js","components/ProposalDetail.js","components/Header.js","components/Wrapper.js","components/Home.js","components/ProposalList.js","components/MemberDetail.js","components/MemberList.js","components/Login.js","components/ProposalSubmission.js","components/GuildBank.js","resolvers.js","schema.js","App.js","index.js","assets/hood.png"],"names":["module","exports","__webpack_require__","p","Background","react_default","a","createElement","id","className","gql","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","moloch","token","medianizer","eth","GET_METADATA","_templateObject6","GET_MEMBER_DETAIL","_templateObject7","GET_MEMBER_DETAIL_WITH_VOTES","_templateObject8","GET_MEMBERS","_templateObject9","GET_PROPOSALS","_templateObject10","GET_PROPOSAL_LIST","_templateObject11","GET_PROPOSAL_DETAIL","_templateObject12","_templateObject13","SET_PROPOSAL_ATTRIBUTES","_templateObject14","molochAbi","require","erc20Abi","medianizerAbi","initMetamask","_initMetamask","apply","this","arguments","_callee","web3Provider","regenerator_default","wrap","_context","prev","next","window","ethereum","web3","alert","enable","currentProvider","ethers","providers","Web3Provider","localStorage","setItem","t0","abrupt","stop","initGnosisSafe","provider","SafeProvider","rpcUrl","process","getEthSigner","_getEthSigner","_callee2","_context2","getItem","sent","Error","initMoloch","_x","_initMoloch","_callee3","loggedInUser","_context3","Contract","getSigner","getDefaultProvider","initToken","_x2","_initToken","_callee4","_context4","initMedianizer","_initMedianizer","_callee5","_context5","getMoloch","_x3","_getMoloch","_callee6","_context6","getToken","_x4","_getToken","_callee7","_context7","getMedianizer","_getMedianizer","_callee8","_context8","ProgressBar","_ref","yes","no","total","percentYes","Math","round","percentNo","Fragment","style","position","Progress","percent","color","size","top","width","Grid","columns","Column","floated","textAlign","VOTING_PERIOD_LENGTH","GRACE_PERIOD_LENGTH","PERIOD_DURATION","ProposalStatus","Unknown","InQueue","VotingPeriod","GracePeriod","Aborted","Passed","Failed","ReadyForProcessing","periodsToTime","periods","seconds","days","floor","hours","minutes","string","concat","getProposalCountdownText","proposal","status","votingStarts","votingEnds","gracePeriod","getProposalDetailsFromOnChain","_getProposalDetailsFromOnChain","currentPeriod","inQueue","inGracePeriod","inVotingPeriod","enoughPassingVotes","passedVotingAndGrace","passedVoting","lastProposalProcessed","proposalFromChain","details","parseInt","console","log","startingPeriod","yesVotes","noVotes","Object","asyncToGenerator","mark","lastProposalFromChain","proposalIndex","proposalQueue","processed","toString","aborted","didPass","votingEnded","graceEnded","readyForProcessing","JSON","parse","title","description","e","currencyFormatter","Intl","NumberFormat","currency","minimumFractionDigits","convertWeiToDollars","weiAmount","exchangeRate","weitoEth","utils","formatEther","exchWeiToEth","format","parseFloat","Vote","Null","Yes","No","MemberAvatar","member","mobile","tablet","computer","react_router_dom","to","Image","src","hood","centered","length","substring","ProposalDetail","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleNo","_this$state","state","submitVote","setState","userHasVoted","handleYes","_this$state2","handleProcess","_this$state3","processProposal","tokenTribute","sharesRequested","votes","user","shares","isActive","shareValue","fetchData","client","query","variables","match","params","proposalResult","data","metadata","userResult","members","find","m","delegateKey","fullProp","mutate","mutation","result","objectSpread","setAttributes","vote","_this$state4","yesShares","reduce","totalVotes","uintVote","noShares","cannotVote","Segment","Row","Icon","name","bigNumberify","mul","Divider","vertical","map","idx","ProposalDetail_MemberAvatar","key","components_ProgressBar","Button","disabled","onClick","Component","withApollo","MainMenuWrapped","Dropdown","Item","_handleCloseDropdown","icon","content","_handleOpenDropdown","onLoadChangeDelegateKey","onLoadWithdrawLootToken","resetStore","populateData","ChangeDelegateKeyMenu","newDelegateKey","submitChangeDelegateKey","tx","updateDelegateKey","_this2","onLoadMain","Form","Input","placeholder","onChange","event","target","value","React","WithdrawLootTokenMenu","ragequitAmount","submitRagequit","_this3","ragequit","_this4","Header","visibleMenu","visibleRightMenu","logIn","method","coinbase","_this5","listAccounts","writeData","toLowerCase","topRightMenuContent","_this6","Header_ChangeDelegateKeyMenu","Header_WithdrawLootTokenMenu","_this7","react_apollo_esm","address","_ref5","loading","error","verticalAlign","open","onBlur","onFocus","text","Menu","direction","getTopRightMenuContent","Wrapper","children","Composed","adopt","render","proposals","_ref2","_ref3","NumMembers","_ref4","NumProposals","HomePage","approval","userAddress","handleChange","handleSubmit","approve","_ref6","_metadata$data","guildBankValue","totalShares","Statistic","inverted","label","Home_NumMembers","Home_NumProposals","Modal","basic","trigger","Content","onSubmit","Field","type","ProposalCard","pathname","ProposalList","determineProposalStatuses","fullProps","Promise","all","push","proposalData","sortProposals","b","filter","sort","votingPeriod","completed","panes","menuItem","Tab","Pane","attached","index","ProposalList_ProposalCard","menu","secondary","pointing","ProposalListHOC","ProposalListView","_ref7","react_router","exact","path","assign","components_ProposalDetail","memberDetail","MemberDetail","bull","fontSize","Label","circular","empty","Date","timestamp","toISOString","slice","elements_Header_Header","as","MemberDetailView","MemberDetail_Composed","MemberDetail_MemberDetail","MemberDetail_ProposalDetail","LoggedInUser","GET_ELDERS","MemberList_templateObject","Elders","elder","MemberList_MemberAvatar","GET_NON_ELDERS","MemberList_templateObject2","Contributors","contributor","MemberList","MemberList_LoggedInUser","paddingLeft","MemberList_Elders","MemberList_Contributors","MemberListView","higherProps","MemberList_MemberList","components_MemberDetail","ProposalSubmission","tribute","fieldValidationErrors","assets","titleValid","descriptionValid","tributeValid","sharesValid","addressValid","formValid","validateField","fieldName","isHexString","validateForm","handleInput","defineProperty","submitProposal","stringify","stretched","transparent","fluid","TextArea","rows","GridColumn","currencies","ethereumIcon","CurrencyElement","resolvers","Proposal","Mutation","_","cache","fragment","resolvers_templateObject","readFragment","typeDefs","schema_templateObject","InMemoryCache","ApolloClient","link","HttpLink","uri","initialData","onResetStore","IS_LOGGED_IN","App_templateObject","loggedInUserData","App","restored","refetch","compute","getCurrentPeriod","balanceOf","ethPerShare","gt","toNumber","parseEther","dataToWrite","basename","App_Composed","Header_Header","Home_HomePage","components_ProposalList","components_MemberList","ProposalSubmission_ProposalSubmission","component","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ea2df1e7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bull.204229a6.png\";","module.exports = \"data:image/png;base64,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\"","import React from 'react';\n\n\nexport default () => (\n  <div id=\"background\">\n    <div className=\"blurred_image\" />\n    <div className=\"dark_overlay\" />\n  </div>\n)\n","import gql from \"graphql-tag\";\n\nexport const GET_EXCHANGE_RATE = gql`\n  query ExchangeRate {\n    exchangeRate @client\n  }\n`;\n\nexport const GET_TOTAL_SHARES = gql`\n  query TotalShares {\n    totalShares @client\n  }\n`;\n\nexport const GET_GUILD_BANK_VALUE = gql`\n  query GuildBankValue {\n    guildBankValue @client\n  }\n`;\n\nexport const GET_SHARE_VALUE = gql`\n  query ShareValue {\n    shareValue @client\n  }\n`;\n\nexport const GET_CURRENT_PERIOD = gql`\n  query CurrentPeriod {\n    currentPeriod @client\n  }\n`;\n\nexport const GET_METADATA = gql`\n  query Metadata {\n    exchangeRate @client\n    totalShares @client\n    guildBankValue @client\n    shareValue @client\n    currentPeriod @client\n  }\n`;\n\nexport const GET_MEMBER_DETAIL = gql`\n  query Member($address: String!) {\n    member(id: $address) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n  }\n`;\n\nexport const GET_MEMBER_DETAIL_WITH_VOTES = gql`\n  query Member($address: String!) {\n    member(id: $address) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n      votes {\n        uintVote\n          proposal {\n          id\n          timestamp\n          tokenTribute\n          sharesRequested\n          processed\n          didPass\n          aborted\n          yesVotes\n          noVotes\n          proposalIndex\n          status @client\n          title @client\n          description @client\n          gracePeriod @client\n          votingEnds @client\n          votingStarts @client\n          readyForProcessing @client\n        }\n      }\n    }\n  }\n`;\n\nexport const GET_MEMBERS = gql`\n  {\n    members(first: 100, where: { shares_gt: 0, isActive: true }) {\n      id\n      shares\n      isActive\n      tokenTribute\n      delegateKey\n    }\n  }\n`;\n\n// TODO filter this to get current proposals?\nexport const GET_PROPOSALS = gql`\n  {\n    proposals(first: 100) {\n      id\n    }\n  }\n`;\n\nexport const GET_PROPOSAL_LIST = gql`\n  {\n    proposals(first: 100, orderBy: proposalIndex, orderDirection: desc) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      votes(first: 100) {\n        member {\n          shares\n        }\n        uintVote\n      }\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n`;\n\nexport const GET_PROPOSAL_HISTORY = gql`\n  query Proposals($id: String!) {\n    votes(first: 100, where: { memberAddress: $id }) {\n      uintVote\n      proposal {\n        id\n        timestamp\n        tokenTribute\n        sharesRequested\n        processed\n        didPass\n        aborted\n        yesVotes\n        noVotes\n        proposalIndex\n        status @client\n        title @client\n        description @client\n        gracePeriod @client\n        votingEnds @client\n        votingStarts @client\n        readyForProcessing @client\n      }\n    }\n  }\n`;\n\nexport const GET_PROPOSAL_DETAIL = gql`\n  query Proposal($id: String!) {\n    proposal(id: $id) {\n      id\n      timestamp\n      tokenTribute\n      sharesRequested\n      processed\n      didPass\n      aborted\n      yesVotes\n      noVotes\n      proposalIndex\n      votes(first: 100) {\n        member {\n          id\n          shares\n        }\n        uintVote\n      }\n      status @client\n      title @client\n      description @client\n      gracePeriod @client\n      votingEnds @client\n      votingStarts @client\n      readyForProcessing @client\n    }\n  }\n`;\n\nexport const SET_PROPOSAL_ATTRIBUTES = gql`\n  mutation SetAttributes(\n    $status: String!, \n    $title: String!, \n    $description: String!, \n    $gracePeriod: Number!, \n    $votingEnds: Number!, \n    $votingStarts: Number!, \n    $readyForProcessing: Bool!\n  ) {\n    setAttributes(\n      status: $status, \n      title: $title, \n      description: $description, \n      gracePeriod: $gracePeriod, \n      votingEnds: $votingEnds, \n      votingStarts: $votingStarts, \n      readyForProcessing: $readyForProcessing\n    ) @client {\n      status\n      title\n      description\n      gracePeriod\n      votingEnds\n      votingStarts\n      readyForProcessing\n    }\n  }\n`;\n","import SafeProvider from \"safe-web3-provider\"\nimport { ethers } from 'ethers';\n\nconst molochAbi = require('./abi/Moloch.abi.json')\nconst erc20Abi = require('./abi/ERC20.abi.json')\nconst medianizerAbi = require('./abi/Medianizer.abi.json')\n\nlet moloch\nlet token\nlet medianizer\nlet eth\n\nexport async function initMetamask() {\n  if (!window.ethereum && !window.web3) {\n    // Non-DApp browsers won't work.\n    alert(\"Web3 not detected.\");\n  }\n  if (window.ethereum) {\n    // Modern DApp browsers need to enable Metamask access.\n    try {\n      await window.ethereum.enable()\n      let web3Provider = window['ethereum'] || window.web3.currentProvider\n      eth = new ethers.providers.Web3Provider(web3Provider);\n      localStorage.setItem(\"loginType\", \"metamask\");\n    } catch (error) {\n      alert(\"Metamask needs to be enabled.\")\n    }\n  }\n  return eth\n}\n\nexport function initGnosisSafe() {\n  /**\n   *  Create Safe Provider\n   */\n  const provider = new SafeProvider({\n    // TODO: CHANGE THIS TO INFURA/ALCHEMY\n    rpcUrl: process.env.REACT_APP_ETH_URL\n  });\n\n  /**\n   *  Create Web3\n   */\n  eth = new ethers.providers.Web3Provider(provider);\n  localStorage.setItem(\"loginType\", \"gnosis\");\n  return eth\n}\n\nexport async function getEthSigner() {\n  if (!eth) {\n    if (localStorage.getItem(\"loginType\") === \"metamask\") {\n      eth = await initMetamask()\n    } else if (localStorage.getItem(\"loginType\") === \"gnosis\") {\n      eth = await initGnosisSafe()\n    } else {\n      throw new Error(\"Not logged in with web3.\")\n    }\n  }\n  return eth\n}\n\nexport async function initMoloch(loggedInUser) {\n  if (loggedInUser) {\n    eth = await getEthSigner()\n    moloch = new ethers.Contract(process.env.REACT_APP_MOLOCH_ADDRESS, molochAbi, eth.getSigner())\n  } else {\n    const provider = ethers.getDefaultProvider();\n    moloch = new ethers.Contract(process.env.REACT_APP_MOLOCH_ADDRESS, molochAbi, provider)\n  }\n  return moloch\n}\n\nexport async function initToken(loggedInUser) {\n  if (loggedInUser) {\n    eth = await getEthSigner()\n    token = new ethers.Contract(process.env.REACT_APP_TOKEN_ADDRESS, erc20Abi, eth.getSigner())\n  } else {\n    const provider = ethers.getDefaultProvider();\n    token = new ethers.Contract(process.env.REACT_APP_TOKEN_ADDRESS, erc20Abi, provider)\n  }\n  // token = new web3.eth.Contract(erc20Abi, process.env.REACT_APP_TOKEN_ADDRESS)\n  return token\n}\n\nexport async function initMedianizer() {\n  // pull from mainnet\n  let provider = ethers.getDefaultProvider();\n  medianizer = new ethers.Contract(process.env.REACT_APP_MEDIANIZER_ADDRESS, medianizerAbi, provider)\n  return medianizer\n}\n\nexport async function getMoloch(loggedInUser) {\n  await initMoloch(loggedInUser)\n  return moloch\n}\n\nexport async function getToken(loggedInUser) {\n  await initToken(loggedInUser)\n  return token\n}\n\nexport async function getMedianizer() {\n  if (!medianizer) {\n    await initMedianizer()\n  }\n  return medianizer\n}","import React from 'react';\nimport { Progress, Grid } from 'semantic-ui-react';\n\n\nconst ProgressBar = ({ yes, no }) => {\n  const total = yes + no\n  const percentYes = yes === 0 ? 0 : Math.round((yes / total) * 100)\n  const percentNo = no === 0 ? 0 : Math.round((no / total) * 100)\n  return (\n  <>\n    <div style={{ position: \"relative\" }}>\n      <Progress\n        percent={percentYes + percentNo}\n        color=\"red\"\n        size=\"small\"\n        style={{\n          position: \"absolute\",\n          top: \"0\",\n          width: \"100%\"\n        }}\n        className={no === 0 ? \"hide-bar\" : \"\"}\n      />\n      <Progress percent={percentYes} color=\"green\" size=\"small\" className={yes === 0 ? \"hide-bar\" : \"\"} />\n    </div>\n    <Grid columns=\"equal\">\n      <Grid.Column floated=\"left\">{yes} Yes Votes</Grid.Column>\n      <Grid.Column floated=\"right\" textAlign=\"right\">\n        {no} No Votes\n      </Grid.Column>\n    </Grid>\n  </>\n)};\n\nexport default ProgressBar","import React from \"react\"\nimport { getMoloch } from \"../web3\";\n\nconst VOTING_PERIOD_LENGTH = 35;\nconst GRACE_PERIOD_LENGTH = 35;\nconst PERIOD_DURATION = 17280;\n\nexport const ProposalStatus = {\n  Unknown: \"Unknown\",\n  InQueue: \"InQueue\",\n  VotingPeriod: \"VotingPeriod\",\n  GracePeriod: \"GracePeriod\",\n  Aborted: \"Aborted\",\n  Passed: \"Passed\",\n  Failed: \"Failed\",\n  ReadyForProcessing: \"ReadyForProcessing\"\n};\n\nexport function periodsToTime(periods) {\n  const seconds = PERIOD_DURATION * periods\n\n  const days = Math.floor((seconds % 31536000) / 86400); \n  const hours = Math.floor(((seconds % 31536000) % 86400) / 3600);\n  const minutes = Math.floor((((seconds % 31536000) % 86400) % 3600) / 60);\n\n  let string = \"\"\n  string = days ? `${days} days` : string\n  string = hours ? `${string} ${hours} hours` : string\n  string = minutes ? `${string} ${minutes} minutes` : string\n\n  return string\n}\n\nexport function getProposalCountdownText(proposal) {\n  switch (proposal.status) {\n    case ProposalStatus.InQueue:\n      return (\n        <>\n          <span className=\"subtext\">Voting Begins: </span>\n          <span>\n            {proposal.votingStarts ? periodsToTime(proposal.votingStarts) : \"-\"}\n          </span>\n        </>\n      );\n    case ProposalStatus.VotingPeriod:\n      return (\n        <>\n          <span className=\"subtext\">Voting Ends: </span>\n          <span>\n            {proposal.votingEnds ? periodsToTime(proposal.votingEnds) : \"-\"}\n          </span>\n        </>\n      );\n    case ProposalStatus.GracePeriod:\n      return (\n        <>\n          <span className=\"subtext\">Grace Period Ends: </span>\n          <span>\n            {proposal.gracePeriod ? periodsToTime(proposal.gracePeriod) : \"-\"}\n          </span>\n        </>\n      );\n    case ProposalStatus.Passed:\n      return (<span className=\"subtext\">Passed</span>);\n    case ProposalStatus.Failed:\n      return (<span className=\"subtext\">Failed</span>);\n    case ProposalStatus.Aborted:\n      return (<span className=\"subtext\">Aborted</span>);\n    case ProposalStatus.ReadyForProcessing:\n    return (<span className=\"subtext\">Ready For Processing</span>);\n    default:\n      return <></>;\n  }\n}\n\n// fill in missing data from onchain\nexport async function getProposalDetailsFromOnChain(proposal, currentPeriod) {\n  const moloch = await getMoloch()\n  currentPeriod = parseInt(currentPeriod)\n  console.log('currentPeriod: ', currentPeriod);\n  \n  const inQueue = proposal => currentPeriod < proposal.startingPeriod;\n\n  const inGracePeriod = proposal =>\n    currentPeriod > proposal.startingPeriod + VOTING_PERIOD_LENGTH &&\n    currentPeriod < proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH;\n\n  const inVotingPeriod = proposal => currentPeriod >= proposal.startingPeriod && currentPeriod <= proposal.startingPeriod + VOTING_PERIOD_LENGTH;\n\n  const enoughPassingVotes = proposal => Math.round((parseInt(proposal.yesVotes) / (parseInt(proposal.yesVotes) + parseInt(proposal.noVotes))) * 100) > 50\n\n  const passedVotingAndGrace = proposal => currentPeriod > proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH\n\n  const passedVoting = proposal => currentPeriod > proposal.startingPeriod + VOTING_PERIOD_LENGTH\n\n  const lastProposalProcessed = async proposal => {\n    if (proposal.proposalIndex === 0) {\n      return true\n    }\n    const lastProposalFromChain = await moloch.proposalQueue(proposal.proposalIndex - 1);\n    return lastProposalFromChain.processed\n  }\n\n  proposal.proposalIndex = parseInt(proposal.proposalIndex);\n\n  const proposalFromChain = await moloch.proposalQueue(proposal.proposalIndex);\n  console.log('proposalFromChain: ', proposalFromChain);\n  proposal.startingPeriod = parseInt(proposalFromChain.startingPeriod.toString());\n\n  proposal.votingEnds = 0;\n  proposal.gracePeriod = 0;\n  proposal.votingStarts = 0\n\n  proposal.lastProposalProcessed = await lastProposalProcessed(proposal)\n  if (proposal.aborted) {\n    proposal.status = ProposalStatus.Aborted;\n  } else if (proposal.processed && proposal.didPass) {\n    proposal.status = ProposalStatus.Passed;\n  } else if (proposal.processed && !proposal.didPass) {\n    proposal.status = ProposalStatus.Failed;\n  } else if (inGracePeriod(proposal)) {\n    proposal.status = ProposalStatus.GracePeriod;\n    proposal.gracePeriod = proposal.startingPeriod + VOTING_PERIOD_LENGTH + GRACE_PERIOD_LENGTH - currentPeriod;\n  } else if (inVotingPeriod(proposal)) {\n    proposal.status = ProposalStatus.VotingPeriod;\n    proposal.votingEnds = proposal.startingPeriod + VOTING_PERIOD_LENGTH - currentPeriod;\n  } else if (inQueue(proposal)) {\n    proposal.status = ProposalStatus.InQueue;\n    proposal.votingStarts = proposal.startingPeriod - currentPeriod\n  } else if (passedVotingAndGrace(proposal)) {\n    proposal.status = ProposalStatus.ReadyForProcessing\n  } else {\n    proposal.status = ProposalStatus.Unknown\n  }\n\n  proposal.votingEnded = passedVoting(proposal);\n  proposal.graceEnded = passedVotingAndGrace(proposal);\n\n  proposal.readyForProcessing = false;\n  if (\n    passedVotingAndGrace(proposal) &&\n    enoughPassingVotes(proposal) &&\n    proposal.lastProposalProcessed\n  ) {\n    proposal.readyForProcessing = true;\n  }\n\n  try {\n    let details = JSON.parse(proposalFromChain.details);\n    proposal.title = details.title || proposalFromChain.details || \"\";\n    proposal.description = details.description || \"\";\n  } catch (e) {\n    console.log(\n      `Could not parse details from proposal.proposalIndex: ${proposal.proposalIndex} proposalFromChain.details: ${proposalFromChain.details}`\n    );\n    proposal.title = proposalFromChain.details || \"\"\n    proposal.description = \"\"\n  }\n\n  return proposal;\n}\n","import { utils } from \"ethers\";\n\nexport const currencyFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  minimumFractionDigits: 2\n});\n\n/**\n * Converts Wei amount to Dollars\n * @param {*} weiAmount \n * @param {*} exchangeRate in Wei units\n */\nexport function convertWeiToDollars(weiAmount, exchangeRate) {\n  const weitoEth = utils.formatEther(weiAmount)\n  const exchWeiToEth = utils.formatEther(exchangeRate)\n  \n  return currencyFormatter.format(parseFloat(weitoEth * exchWeiToEth))\n}","import React, { Component } from \"react\";\nimport { Divider, Grid, Icon, Segment, Button, Image } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport hood from \"assets/hood.png\";\n\nimport ProgressBar from \"./ProgressBar\";\n\nimport { withApollo } from \"react-apollo\";\nimport { getProposalDetailsFromOnChain, ProposalStatus, getProposalCountdownText } from \"../helpers/proposals\";\nimport { getMoloch } from \"../web3\";\nimport { SET_PROPOSAL_ATTRIBUTES, GET_PROPOSAL_DETAIL, GET_METADATA, GET_MEMBERS } from \"../helpers/graphQlQueries\";\nimport { convertWeiToDollars } from \"../helpers/currency\";\nimport { utils } from \"ethers\";\n\nexport const Vote = {\n  Null: 0, // default value, counted as abstention\n  Yes: 1,\n  No: 2\n};\n\nconst MemberAvatar = ({ member }) => {\n  return (\n    <Grid.Column mobile={4} tablet={3} computer={3} textAlign=\"center\" className=\"member_avatar\" title={member}>\n      <Link to={`/members/${member}`} className=\"uncolored\">\n        <Image src={hood} centered />\n        <p className=\"name\">{!member ? \"\" : member.length > 10 ? member.substring(0, 10) + \"...\" : member}</p>\n      </Link>\n    </Grid.Column>\n  );\n};\n\nclass ProposalDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      proposal: {\n        tokenTribute: 0,\n        sharesRequested: 0,\n        votingEnded: true,\n        graceEnded: true,\n        yesVotes: 0,\n        noVotes: 0,\n        status: ProposalStatus.InQueue,\n        votes: []\n      },\n      user: {\n        id: 0,\n        shares: 0,\n        isActive: false\n      },\n      moloch: null,\n      shareValue: \"0\",\n      exchangeRate: \"0\"\n    };\n\n    this.fetchData(props);\n  }\n\n  async componentDidMount() {\n    const { loggedInUser } = this.props;\n    const moloch = await getMoloch(loggedInUser);\n    this.setState({\n      moloch\n    });\n  }\n\n  async fetchData() {\n    const { client, loggedInUser } = this.props;\n\n    const { data: proposalResult } = await client.query({\n      query: GET_PROPOSAL_DETAIL,\n      variables: { id: this.props.match.params.id }\n    });\n\n    const { data: metadata } = await client.query({\n      query: GET_METADATA\n    });\n\n    const userResult = await client.query({\n      query: GET_MEMBERS\n    });\n\n    const member = userResult.data.members.find(m => m.delegateKey === loggedInUser)\n\n    let proposal = proposalResult.proposal;\n    if (proposal.status === ProposalStatus.Unknown) {\n      const fullProp = await getProposalDetailsFromOnChain(proposal, metadata.currentPeriod);\n      const result = await client.mutate({\n        mutation: SET_PROPOSAL_ATTRIBUTES,\n        variables: {\n          id: proposal.id,\n          status: fullProp.status,\n          title: fullProp.title,\n          description: fullProp.description,\n          gracePeriod: fullProp.gracePeriod,\n          votingEnds: `${fullProp.votingEnds}`,\n          votingStarts: `${fullProp.votingStarts}`,\n          readyForProcessing: fullProp.readyForProcessing\n        }\n      });\n      proposal = {\n        ...proposal,\n        status: result.data.setAttributes.status,\n        title: result.data.setAttributes.title,\n        description: result.data.setAttributes.description,\n        gracePeriod: result.data.setAttributes.gracePeriod,\n        votingEnds: result.data.setAttributes.votingEnds,\n        votingStarts: result.data.setAttributes.votingStarts,\n        readyForProcessing: result.data.setAttributes.readyForProcessing\n      };\n    }\n\n    const userHasVoted = proposal.votes.find(vote => vote.member.id === loggedInUser) ? true : false;\n\n    this.setState({\n      proposal,\n      user: member,\n      shareValue: metadata.shareValue,\n      exchangeRate: metadata.exchangeRate,\n      userHasVoted\n    });\n  }\n\n  handleNo = async () => {\n    const { proposal, moloch } = this.state;\n    await moloch.submitVote(proposal.proposalIndex, Vote.No);\n    this.setState({\n      userHasVoted: true\n    });\n  };\n\n  handleYes = async () => {\n    const { proposal, moloch } = this.state;\n    await moloch.submitVote(proposal.proposalIndex, Vote.Yes);\n    this.setState({\n      userHasVoted: true\n    });\n  };\n\n  handleProcess = async () => {\n    const { proposal, moloch } = this.state;\n    await moloch.processProposal(proposal.proposalIndex);\n  };\n\n  render() {\n    const { shareValue, proposal, user, exchangeRate, userHasVoted } = this.state;\n\n     const yesShares = proposal.votes.reduce((totalVotes, vote) => {\n        if (vote.uintVote === Vote.Yes) {\n          return totalVotes += parseInt(vote.member.shares)\n        } else {\n          return totalVotes\n        }\n      }, 0)\n    \n    const noShares = proposal.votes.reduce((totalVotes, vote) => {\n        if (vote.uintVote === Vote.No) {\n          return totalVotes += parseInt(vote.member.shares)\n        } else {\n          return totalVotes\n        }\n      }, 0)\n\n    const cannotVote = userHasVoted || proposal.status !== ProposalStatus.VotingPeriod || (!(user && user.shares) || !(user && user.isActive));\n    return (\n      <div id=\"proposal_detail\">\n        <Grid centered columns={16}>\n          <Segment className=\"transparent box segment\" textAlign=\"center\">\n            <Grid centered columns={14}>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <span className=\"title\">{proposal.title ? proposal.title : \"N/A\"}</span>\n              </Grid.Column>\n            </Grid>\n            <Grid centered columns={14}>\n              <Grid.Column mobile={16} tablet={16} computer={4}>\n                <div className=\"subtext description\">{proposal.description ? proposal.description : \"N/A\"}</div>\n                <Grid columns=\"equal\" className=\"tokens\">\n                  <Grid.Row>\n                    <Grid.Column className=\"tributes\">\n                      <Segment className=\"pill\" textAlign=\"center\">\n                        <Icon name=\"ethereum\" />\n                        {utils.formatEther(proposal.tokenTribute)} ETH\n                      </Segment>\n                    </Grid.Column>\n                  </Grid.Row>\n                </Grid>\n                <Grid columns=\"equal\">\n                  <Grid.Column>\n                    <p className=\"subtext voting\">Shares</p>\n                    <p className=\"amount\">{proposal.sharesRequested}</p>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"right\">\n                    <p className=\"subtext\">Total USD Value</p>\n                    <p className=\"amount\">\n                      {convertWeiToDollars(\n                        utils\n                          .bigNumberify(proposal.sharesRequested)\n                          .mul(shareValue)\n                          .toString(),\n                        exchangeRate\n                      )}\n                    </p>\n                  </Grid.Column>\n                </Grid>\n              </Grid.Column>\n\n              <Grid.Column mobile={16} tablet={16} computer={2}>\n                <Divider vertical />\n              </Grid.Column>\n\n              <Grid.Column mobile={16} tablet={16} computer={6}>\n                <Grid columns={16}>\n                  <Grid.Column textAlign=\"center\" mobile={16} tablet={16} computer={16} className=\"pill_column\">\n                    <span className=\"pill\">{getProposalCountdownText(proposal)}</span>\n                  </Grid.Column>\n                </Grid>\n                <Grid columns={16} className=\"member_list\">\n                  <Grid.Row>\n                    <Grid.Column mobile={16} tablet={16} computer={16} className=\"pill_column\">\n                      {proposal.votes && proposal.votes.length > 0 ? (\n                        <Grid>\n                          <Grid.Row className=\"members_row\">\n                            {/* centered */}\n                            {proposal.votes.map((vote, idx) => (\n                              <MemberAvatar member={vote.member.id} shares={vote.member.shares} key={idx} />\n                            ))}\n                          </Grid.Row>\n                        </Grid>\n                      ) : null}\n                    </Grid.Column>\n                  </Grid.Row>\n                </Grid>\n                <Grid>\n                  <Grid.Column>\n                    <ProgressBar yes={yesShares} no={noShares} />\n                  </Grid.Column>\n                </Grid>\n                <Grid columns=\"equal\" centered>\n                  <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                    <Button className=\"btn\" color=\"grey\" disabled={cannotVote} onClick={this.handleNo}>\n                      Vote No\n                    </Button>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                    <Button className=\"btn\" color=\"grey\" disabled={cannotVote} onClick={this.handleYes}>\n                      Vote Yes\n                    </Button>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\" mobile={16} tablet={5} computer={5}>\n                    <Button className=\"btn\" color=\"grey\" onClick={this.handleProcess} disabled={proposal.status !== ProposalStatus.ReadyForProcessing}>\n                      Process Proposal\n                    </Button>\n                  </Grid.Column>\n                </Grid>\n              </Grid.Column>\n            </Grid>\n          </Segment>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default withApollo(ProposalDetail);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Grid, Icon, Dropdown, Form, Button } from \"semantic-ui-react\";\nimport { Query, withApollo } from \"react-apollo\";\nimport { GET_MEMBER_DETAIL } from \"../helpers/graphQlQueries\";\nimport { getMoloch, initMetamask, initGnosisSafe } from \"../web3\";\nimport ProposalDetail from \"./ProposalDetail\";\n\nconst MainMenu = props => (\n  <div className=\"dropdownItems\">\n    {props.member && props.member.isActive ? (\n      <>\n        <Dropdown.Item className=\"item\" onClick={() => props._handleCloseDropdown()}>\n          <Link to={`/members/${props.member.id}`} className=\"link\">\n            <p>\n              <Icon name=\"user\" />\n              View Profile\n            </p>\n          </Link>\n        </Dropdown.Item>\n        <Dropdown.Divider />\n        <Dropdown.Item\n          icon=\"key\"\n          className=\"item\"\n          content=\"Change Delegate Key\"\n          onClick={() => {\n            props._handleOpenDropdown();\n            props.onLoadChangeDelegateKey();\n          }}\n        />\n        <Dropdown.Divider />\n        <Dropdown.Item\n          icon=\"dollar\"\n          className=\"item\"\n          content=\"Ragequit\"\n          onClick={() => {\n            props._handleOpenDropdown();\n            props.onLoadWithdrawLootToken();\n          }}\n        />\n        <Dropdown.Divider />\n      </>\n    ) : null}\n    <Dropdown.Item className=\"item\">\n      <Link\n        to=\"/login\"\n        className=\"link\"\n        onClick={async () => {\n          props._handleCloseDropdown();\n          window.localStorage.setItem(\"loggedInUser\", \"\");\n          await props.client.resetStore();\n          await props.populateData(true);\n        }}\n      >\n        <p>\n          <Icon name=\"power off\" />\n          Sign Out\n        </p>\n      </Link>\n    </Dropdown.Item>\n  </div>\n);\nconst MainMenuWrapped = withApollo(MainMenu);\n\nclass ChangeDelegateKeyMenu extends React.Component {\n  state = {\n    newDelegateKey: \"\"\n  }\n\n  submitChangeDelegateKey = async () => {\n    const { newDelegateKey } = this.state;\n    const { moloch } = this.props\n\n    console.log(`Sending moloch.updateDelegateKey(${newDelegateKey})`);\n\n    const tx = await moloch.updateDelegateKey(newDelegateKey);\n    console.log(\"tx: \", tx);\n  };\n\n  render() {\n    const { newDelegateKey } = this.state;\n    const { onLoadMain } = this.props\n    return (\n      <div>\n        <Dropdown.Item icon=\"arrow left\" className=\"item\" content=\"Back to Menu\" onClick={() => onLoadMain()} />\n        <Dropdown.Divider />\n        <Dropdown.Item className=\"item submenu\">\n          <p>\n            <Icon name=\"key\" />\n            Change Delegate Key\n          </p>\n          <Form.Input placeholder=\"Enter new key address\" onChange={event => this.setState({ newDelegateKey: event.target.value })} value={newDelegateKey} />\n          <Button onClick={this.submitChangeDelegateKey}>Save</Button>\n        </Dropdown.Item>\n      </div>\n    );\n  }\n}\n\nclass WithdrawLootTokenMenu extends React.Component {\n  state = {\n    ragequitAmount: \"\"\n  };\n\n  submitRagequit = async () => {\n    const { ragequitAmount } = this.state;\n    const { moloch } = this.props;\n\n    console.log(`Sending moloch.ragequit(${ragequitAmount})`);\n\n    const tx = await moloch.ragequit(ragequitAmount);\n    console.log(\"tx: \", tx);\n  };\n\n  render() {\n    const { ragequitAmount } = this.state;\n    const { onLoadMain } = this.props\n    return (\n      <div>\n        <Dropdown.Item icon=\"arrow left\" className=\"item\" content=\"Back to Menu\" onClick={() => onLoadMain()} />\n        <Dropdown.Divider />\n        <Dropdown.Item className=\"item submenu\">\n          <p>\n            <Icon name=\"dollar\" />\n            Ragequit\n          </p>\n          <Form.Input\n            placeholder=\"Number of shares\"\n            onChange={event => this.setState({ ragequitAmount: event.target.value })}\n            value={ragequitAmount}\n          />\n          <Button onClick={this.submitRagequit}>Withdraw</Button>\n        </Dropdown.Item>\n      </div>\n    );\n  }\n}\n\nexport default class Header extends Component {\n  state = {\n    visibleMenu: \"main\",\n    visibleRightMenu: false,\n    moloch: {},\n  };\n\n  async componentDidMount() {\n    const { loggedInUser } = this.props;\n    const moloch = await getMoloch(loggedInUser);\n    this.setState({ moloch });\n  }\n\n  _handleOpenDropdown() {\n    this.setState({ visibleRightMenu: true });\n  }\n\n  _handleCloseDropdown() {\n    this.setState({ visibleRightMenu: false });\n  }\n\n  logIn = async (method) => {\n    const { loggedInUser } = this.props;\n    const { client } = this.props\n    let eth\n    if (method === 'metamask') {\n      eth = await initMetamask();\n    } else if (method === 'gnosis') {\n      eth = await initGnosisSafe()\n    } else {\n      throw new Error('Unsupported Web3 login method')\n    }\n    if (!eth) {\n      return\n    }\n\n    const coinbase = (await eth.listAccounts())[0];\n\n    if (!coinbase) {\n      alert(\"Could not retrieve address from Gnosis Safe/MetaMask, is it configured and this domain whitelisted?\");\n    } else {\n      // Try getting a user by their public address.\n      client.writeData({\n        data: {\n          loggedInUser: coinbase.toLowerCase()\n        }\n      });\n      window.localStorage.setItem(\"loggedInUser\", coinbase.toLowerCase())\n    }\n    \n    const moloch = await getMoloch(loggedInUser);\n    this.setState({ moloch });\n  }\n\n  getTopRightMenuContent(member) {\n    const { loggedInUser } = this.props;\n    let topRightMenuContent;\n    const { moloch } = this.state;\n    if (loggedInUser) {\n      switch (this.state.visibleMenu) {\n        case \"main\":\n          topRightMenuContent = (\n            <MainMenuWrapped\n              member={member}\n              _handleOpenDropdown={() => this._handleOpenDropdown()}\n              _handleCloseDropdown={() => this._handleCloseDropdown()}\n              onLoadChangeDelegateKey={() => this.setState({ visibleMenu: \"changeDelegateKey\" })}\n              onLoadWithdrawLootToken={() => this.setState({ visibleMenu: \"withdrawLootToken\" })}\n            />\n          );\n          break;\n        case \"changeDelegateKey\":\n          topRightMenuContent = (\n            <ChangeDelegateKeyMenu\n              onLoadMain={() => {\n                this._handleOpenDropdown();\n                this.setState({ visibleMenu: \"main\" });\n              }}\n              moloch={moloch}\n            />\n          );\n          break;\n        case \"withdrawLootToken\":\n          topRightMenuContent = (\n            <WithdrawLootTokenMenu\n              onLoadMain={() => {\n                this._handleOpenDropdown();\n                this.setState({ visibleMenu: \"main\" });\n              }}\n              moloch={moloch}\n            />\n          );\n          break;\n        default:\n          break;\n      }\n    } else {\n      topRightMenuContent = (\n        <>\n          <Dropdown.Item\n            icon=\"user\"\n            className=\"item\"\n            content=\"Log In With Metamask\"\n            onClick={() => this.logIn('metamask')}\n          />\n          <Dropdown.Divider />\n          <Dropdown.Item\n            icon=\"user\"\n            className=\"item\"\n            content=\"Log In With Gnosis Safe\"\n            onClick={() => this.logIn('gnosis')}\n          />\n        </>\n      );\n    }\n    return topRightMenuContent;\n  }\n\n  render() {\n    const { loggedInUser } = this.props;\n    return (\n      <Query query={GET_MEMBER_DETAIL} variables={{ address: loggedInUser }}>\n        {({ loading, error, data }) => {\n          if (loading) return \"Loading...\";\n          if (error) throw new Error(`Error!: ${error}`);\n          console.log('data: ', data);\n          return (\n            <div id=\"header\">\n              <Grid columns=\"equal\" verticalAlign=\"middle\">\n                {loggedInUser ? (\n                  <Grid.Column textAlign=\"left\" className=\"menu\">\n                    {/* <Dropdown icon=\"bars\">\n                <Dropdown.Menu className=\"menu blurred\" direction=\"right\">\n                  <Link to=\"guildbank\" className=\"item\">\n                    <p>Guild Bank</p>\n                  </Link>\n                  <Dropdown.Divider />\n                  <Link to=\"/members\" className=\"item\">\n                    <p>Members</p>\n                  </Link>\n                  <Dropdown.Divider />\n                  <Link to=\"/proposals\" className=\"item\">\n                    <p>Proposals</p>\n                  </Link>\n                </Dropdown.Menu>\n              </Dropdown> */}\n                  </Grid.Column>\n                ) : null}\n                <Grid.Column textAlign=\"center\" className=\"logo\">\n                  <Link to=\"/\">MOLOCH</Link>\n                </Grid.Column>\n                  <Grid.Column textAlign=\"right\" className=\"dropdown\">\n                    <Dropdown\n                      className=\"right_dropdown\"\n                      open={this.state.visibleRightMenu}\n                      onBlur={() => this._handleCloseDropdown()}\n                      onFocus={() => this._handleOpenDropdown()}\n                      text={loggedInUser ? `${loggedInUser.substring(0, 6)}...` : 'Web3 Login'}\n                    >\n                      <Dropdown.Menu className=\"menu blurred\" direction=\"left\">\n                        {this.getTopRightMenuContent(data.member)}\n                      </Dropdown.Menu>\n                    </Dropdown>\n                  </Grid.Column>\n              </Grid>\n            </div>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n","import React from 'react';\n\n\nexport default ({ children }) => (\n  <div id=\"wrapper\">\n    { children }\n  </div>\n)","import React from \"react\";\nimport { Grid, Button, Segment, Modal, Form, Statistic } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\nimport { Query } from \"react-apollo\";\nimport { getToken } from \"../web3\";\nimport { utils } from \"ethers\";\nimport { GET_METADATA, GET_MEMBERS, GET_PROPOSALS } from \"../helpers/graphQlQueries\";\nimport { convertWeiToDollars } from \"../helpers/currency\";\nimport { adopt } from \"react-adopt\";\n\nconst Composed = adopt({\n  members: ({ render }) => <Query query={GET_MEMBERS}>{render}</Query>,\n  proposals: ({ render }) => <Query query={GET_PROPOSALS}>{render}</Query>,\n  metadata: ({ render }) => <Query query={GET_METADATA}>{render}</Query>\n});\n\nconst NumMembers = ({ members }) => (\n  <Link to=\"/members\" className=\"link\">\n    <Button size=\"large\" color=\"grey\" className=\"btn_link\">\n      {members.length} Members\n    </Button>\n  </Link>\n);\n\nconst NumProposals = ({ proposals }) => (\n  <Link to=\"/proposals\" className=\"link\">\n    <Button size=\"large\" color=\"grey\" className=\"btn_link\">\n      {proposals.length} Proposals\n    </Button>\n  </Link>\n);\n\nexport default class HomePage extends React.Component {\n  state = {\n    approval: \"\",\n    token: null,\n    userAddress: null\n  };\n\n  async componentDidMount() {\n    const { loggedInUser } = this.props\n    const token = await getToken(loggedInUser);\n\n    this.setState({\n      token\n    });\n  }\n\n  handleChange = e => this.setState({ approval: e.target.value });\n\n  handleSubmit = () => {\n    const { approval, token } = this.state;\n    token.approve(process.env.REACT_APP_MOLOCH_ADDRESS, approval);\n  };\n\n  render() {\n    const { approval } = this.state;\n    return (\n      <Composed>\n        {({ members, proposals, metadata }) => {\n          if (members.loading || proposals.loading || metadata.loading) return <Segment className=\"blurred box\">Loading...</Segment>;\n          if (members.error) throw new Error(`Error!: ${members.error}`);\n          if (proposals.error) throw new Error(`Error!: ${proposals.error}`);\n          if (metadata.error) throw new Error(`Error!: ${metadata.error}`);\n          const { guildBankValue, exchangeRate, totalShares, shareValue } = metadata.data;\n          return (\n            <div id=\"homepage\">\n              <Grid columns={16} verticalAlign=\"middle\">\n                <Grid.Column mobile={16} tablet={6} computer={4} className=\"guild_value\">\n                  {/* <Link to=\"/guildbank\" className=\"text_link\"> */}\n                  <Statistic inverted label=\"Guild Bank Value\" value={convertWeiToDollars(guildBankValue, exchangeRate)} />\n                  {/* </Link> */}\n                </Grid.Column>\n                <Grid.Column mobile={16} tablet={10} computer={8} textAlign=\"center\" className=\"browse_buttons\">\n                  <NumMembers members={members.data.members} />\n                  <NumProposals proposals={proposals.data.proposals} />\n                </Grid.Column>\n                <Grid.Column mobile={16} tablet={6} computer={4} className=\"guild_value\">\n                  <Modal\n                    basic\n                    size=\"small\"\n                    trigger={\n                      <Button size=\"large\" color=\"grey\" className=\"browse_buttons\">\n                        Approve wETH\n                      </Button>\n                    }\n                  >\n                    <Modal.Header>Approve wETH</Modal.Header>\n                    <Modal.Content>\n                      <Form onSubmit={this.handleSubmit}>\n                        <Form.Field>\n                          <label>Amount to Approve</label>\n                          <input placeholder=\"Amount in Wei\" name=\"amount\" value={approval} onChange={this.handleChange} className=\"asset_amount\" />\n                        </Form.Field>\n                        <Button type=\"submit\" color=\"grey\" className=\"btn_link\">\n                          Submit\n                        </Button>\n                      </Form>\n                    </Modal.Content>\n                  </Modal>\n                </Grid.Column>\n\n                <Grid.Column width={16}>\n                  <Segment className=\"blurred box\">\n                    <Grid columns=\"equal\" className=\"graph_values\">\n                      <Grid.Column textAlign=\"left\">\n                        <Statistic inverted label=\"Total Shares\" value={totalShares} />\n                      </Grid.Column>\n                      <Grid.Column textAlign=\"center\">\n                        <Statistic inverted label=\"Total ETH\" value={utils.formatEther(guildBankValue)} />\n                      </Grid.Column>\n                      <Grid.Column textAlign=\"right\">\n                        <Statistic inverted label=\"Share Value\" value={convertWeiToDollars(shareValue, exchangeRate)} />\n                      </Grid.Column>\n                    </Grid>\n                  </Segment>\n                </Grid.Column>\n              </Grid>\n            </div>\n          );\n        }}\n      </Composed>\n    );\n  }\n}\n","import React from \"react\";\nimport { Segment, Grid, Button, Tab, Icon } from \"semantic-ui-react\";\nimport { Route, Switch, Link } from \"react-router-dom\";\n\nimport ProposalDetail, { Vote } from \"./ProposalDetail\";\nimport ProgressBar from \"./ProgressBar\";\nimport { Query, withApollo } from \"react-apollo\";\nimport { getProposalDetailsFromOnChain, ProposalStatus, getProposalCountdownText } from \"../helpers/proposals\";\nimport { SET_PROPOSAL_ATTRIBUTES, GET_PROPOSAL_LIST, GET_METADATA, GET_MEMBERS } from \"../helpers/graphQlQueries\";\nimport { utils } from \"ethers\";\n\nconst ProposalCard = ({ proposal }) => {\n  let id = proposal.id;\n\n  const yesShares = proposal.votes.reduce((totalVotes, vote) => {\n    if (vote.uintVote === Vote.Yes) {\n      return totalVotes += parseInt(vote.member.shares)\n    } else {\n      return totalVotes\n    }\n  }, 0)\n\n  const noShares = proposal.votes.reduce((totalVotes, vote) => {\n    if (vote.uintVote === Vote.No) {\n      return totalVotes += parseInt(vote.member.shares)\n    } else {\n      return totalVotes\n    }\n  }, 0)\n\n  return (\n    <Grid.Column mobile={16} tablet={8} computer={5}>\n      <Link to={{ pathname: `/proposals/${id}` }} className=\"uncolored\">\n        <Segment className=\"blurred box\">\n          <p className=\"name\">{proposal.title ? proposal.title : \"N/A\"}</p>\n          <p className=\"subtext description\">{proposal.description ? proposal.description : \"N/A\"}</p>\n          <Grid columns=\"equal\" className=\"value_shares\">\n            <Grid.Row>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Shares Requested</p>\n                <p className=\"amount\">{proposal.sharesRequested}</p>\n              </Grid.Column>\n              <Grid.Column textAlign=\"center\">\n                <p className=\"subtext\">Tribute <Icon name=\"ethereum\" /></p>\n                <p className=\"amount\">{utils.formatEther(proposal.tokenTribute)}</p>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          <Grid columns=\"equal\" className=\"deadlines\">\n            <Grid.Row>\n              <Grid.Column textAlign=\"center\">\n                <Segment className=\"voting pill\" textAlign=\"center\">\n                  {getProposalCountdownText(proposal)}\n                </Segment>\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          <ProgressBar yes={yesShares} no={noShares} />\n        </Segment>\n      </Link>\n    </Grid.Column>\n  );\n};\n\nclass ProposalList extends React.Component {\n  state = {\n    proposals: [],\n    loading: true,\n    totalShares: 0,\n    shareValue: 0,\n    exchangeRate: \"0\"\n  };\n\n  async componentDidMount() {\n    this.fetchData();\n  }\n\n  async fetchData() {\n    const { client } = this.props;\n    this.setState({\n      loading: true\n    });\n    const { data: proposalData } = await client.query({\n      query: GET_PROPOSAL_LIST\n    });\n\n    const { data: metadata } = await client.query({\n      query: GET_METADATA\n    });\n\n    await this.determineProposalStatuses(client, proposalData.proposals, metadata.currentPeriod);\n    this.setState({\n      loading: false,\n      totalShares: +metadata.totalShares,\n      shareValue: metadata.shareValue,\n      exchangeRate: metadata.exchangeRate\n    });\n  }\n\n  determineProposalStatuses = async (client, proposals, currentPeriod) => {\n    if (!proposals || proposals.length === 0) {\n      return;\n    }\n\n    const fullProps = [];\n\n    // parallelize data fetch\n    await Promise.all(\n      proposals.map(async proposal => {\n        if (proposal.status === ProposalStatus.Unknown) {\n          try {\n            const fullProp = await getProposalDetailsFromOnChain(proposal, currentPeriod);\n            const result = await client.mutate({\n              mutation: SET_PROPOSAL_ATTRIBUTES,\n              variables: {\n                id: proposal.id,\n                status: fullProp.status,\n                title: fullProp.title,\n                description: fullProp.description,\n                gracePeriod: fullProp.gracePeriod,\n                votingEnds: `${fullProp.votingEnds}`,\n                votingStarts: `${fullProp.votingStarts}`,\n                readyForProcessing: fullProp.readyForProcessing\n              }\n            });\n            fullProps.push({\n              ...proposal,\n              status: result.data.setAttributes.status,\n              title: result.data.setAttributes.title,\n              description: result.data.setAttributes.description,\n              gracePeriod: result.data.setAttributes.gracePeriod,\n              votingEnds: result.data.setAttributes.votingEnds,\n              votingStarts: result.data.setAttributes.votingStarts,\n              readyForProcessing: result.data.setAttributes.readyForProcessing\n            });\n          } catch (e) {\n            console.error(e)\n          }\n        } else {\n          fullProps.push(proposal);\n        }\n      })\n    );\n\n    this.setState({\n      proposals: fullProps\n    });\n    return;\n  };\n\n  render() {\n    const { isActive } = this.props;\n    const { proposals, totalShares, loading, shareValue, exchangeRate } = this.state;\n\n    // sort in descending order of index\n    const sortProposals = (a, b) => b.proposalIndex - a.proposalIndex\n\n    const gracePeriod = proposals.filter(p => p.status === ProposalStatus.GracePeriod).sort(sortProposals);\n    const votingPeriod = proposals.filter(p => p.status === ProposalStatus.VotingPeriod).sort(sortProposals);\n    const inQueue = proposals.filter(p => p.status === ProposalStatus.InQueue).sort(sortProposals);\n    const readyForProcessing = proposals.filter(p => p.status === ProposalStatus.ReadyForProcessing).sort(sortProposals);\n    const completed = proposals.filter(\n      p => p.status === ProposalStatus.Aborted || p.status === ProposalStatus.Passed || p.status === ProposalStatus.Failed\n    ).sort(sortProposals);\n\n    const panes = [\n      {\n        menuItem: `Voting Period (${loading ? \"...\" : votingPeriod.length})`,\n        render: () => (\n          <Tab.Pane attached={false}>\n            {this.state.loading ? (\n              <>Loading proposals...</>\n            ) : (\n              <Grid columns={3}>\n                {votingPeriod.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            )}\n          </Tab.Pane>\n        )\n      },\n      {\n        menuItem: `Grace Period (${loading ? \"...\" : gracePeriod.length})`,\n        render: () => (\n          <Tab.Pane attached={false}>\n            <Grid columns={3}>\n              {gracePeriod.map((p, index) => (\n                <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={totalShares} proposal={p} key={index} />\n              ))}\n            </Grid>\n          </Tab.Pane>\n        )\n      },\n      {\n        menuItem: `Ready For Processing (${loading ? \"...\" : readyForProcessing.length})`,\n        render: () => (\n          <Tab.Pane attached={false}>\n            {this.state.loading ? (\n              <>Loading proposals...</>\n            ) : (\n              <Grid columns={3}>\n                {readyForProcessing.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            )}\n          </Tab.Pane>\n        )\n      },\n      {\n        menuItem: `Completed (${loading ? \"...\" : completed.length})`,\n        render: () => (\n          <Tab.Pane attached={false}>\n            {this.state.loading ? (\n              <>Loading proposals...</>\n            ) : (\n              <Grid columns={3}>\n                {completed.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            )}\n          </Tab.Pane>\n        )\n      },\n      {\n        menuItem: `In Queue (${loading ? \"...\" : inQueue.length})`,\n        render: () => (\n          <Tab.Pane attached={false}>\n            {this.state.loading ? (\n              <>Loading proposals...</>\n            ) : (\n              <Grid columns={3}>\n                {inQueue.map((p, index) => (\n                  <ProposalCard exchangeRate={exchangeRate} shareValue={shareValue} totalShares={totalShares} proposal={p} key={index} />\n                ))}\n              </Grid>\n            )}\n          </Tab.Pane>\n        )\n      }\n    ];\n\n    return (\n      <div id=\"proposal_list\">\n        <>\n          <Grid columns={16} verticalAlign=\"middle\">\n            <Grid.Column mobile={16} tablet={8} computer={4} textAlign=\"right\" floated=\"right\" className=\"submit_button\">\n              <Link to={isActive ? \"/proposalsubmission\" : \"/proposals\"} className=\"link\">\n                <Button size=\"large\" color=\"red\" disabled={!isActive}>\n                  New Proposal\n                </Button>\n              </Link>\n            </Grid.Column>\n          </Grid>\n          <Tab menu={{ secondary: true, pointing: true, vertical: true }} panes={panes} />\n        </>\n      </div>\n    );\n  }\n}\nconst ProposalListHOC = withApollo(ProposalList);\n\nconst ProposalListView = ({ loggedInUser }) => {\n  return (\n    <Query query={GET_MEMBERS}>\n      {({ loading, error, data }) => {\n        if (loading) return \"Loading...\";\n        if (error) throw new Error(`Error!: ${error}`);\n        const member = data.members.find(m => m.delegateKey === loggedInUser)\n        return (\n          <Switch>\n            <Route exact path=\"/proposals\" render={props => <ProposalListHOC {...props} isActive={member ? member.isActive : false} />} />\n            <Route path=\"/proposals/:id\" render={props => <ProposalDetail {...props} loggedInUser={loggedInUser} />} />\n          </Switch>\n        );\n      }}\n    </Query>\n  );\n};\n\nexport default ProposalListView;\n","import React from \"react\";\nimport { Divider, Grid, Segment, Image, Icon, Label, Header } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nimport bull from \"assets/bull.png\";\nimport hood from \"assets/hood.png\";\n\nimport { Query } from \"react-apollo\";\nimport { Vote } from \"./ProposalDetail\";\nimport { utils } from \"ethers\";\nimport { convertWeiToDollars } from \"../helpers/currency\";\nimport { adopt } from \"react-adopt\";\nimport { GET_METADATA, GET_MEMBER_DETAIL_WITH_VOTES } from \"../helpers/graphQlQueries\";\nimport { getProposalCountdownText } from \"../helpers/proposals\";\n\nconst Composed = adopt({\n  memberDetail: ({ render, name }) => (\n    <Query query={GET_MEMBER_DETAIL_WITH_VOTES} variables={{ address: name }}>\n      {render}\n    </Query>\n  ),\n  metadata: ({ render }) => <Query query={GET_METADATA}>{render}</Query>,\n});\n\nconst MemberDetail = ({ loggedInUser, member, shareValue, exchangeRate }) => (\n  <Segment className=\"blurred box\">\n    <Grid columns=\"equal\">\n      <Grid.Column>\n        <p className=\"subtext\">Shares</p>\n        <p className=\"amount\">{member.shares}</p>\n      </Grid.Column>\n      <Grid.Column textAlign=\"right\">\n        <p className=\"subtext\">Total Value</p>\n        <p className=\"amount\">\n          {convertWeiToDollars(\n            utils\n              .bigNumberify(member.shares)\n              .mul(shareValue)\n              .toString(),\n            exchangeRate\n          )}\n        </p>\n      </Grid.Column>\n    </Grid>\n    <Grid>\n      <Grid.Column textAlign=\"center\" className=\"avatar\">\n        <Image centered src={loggedInUser === member.id || loggedInUser === member.delegateKey ? bull : hood} size=\"tiny\" />\n      </Grid.Column>\n    </Grid>\n    <p className=\"subtext\">Tribute</p>\n    <Grid columns=\"equal\">\n      <Grid.Row>\n        <Grid.Column>\n          <Segment className=\"pill\" textAlign=\"center\">\n            <Icon name=\"ethereum\" />\n            {utils.formatEther(member.tokenTribute)} ETH\n          </Segment>\n        </Grid.Column>\n      </Grid.Row>\n      <p className=\"subtext\">Delegate Key</p>\n      <Grid.Row>\n        <Grid.Column>\n          <p className=\"subtext\">{member.delegateKey}</p>\n        </Grid.Column>\n      </Grid.Row>\n    </Grid>\n  </Segment>\n);\n\nconst ProposalDetail = ({ proposals }) => (\n  <Segment className=\"blurred box\">\n    <Grid columns=\"equal\" textAlign=\"center\">\n      <Grid.Row className=\"subtext\" style={{ fontSize: 20 }}>\n        History\n      </Grid.Row>\n    </Grid>\n    <Grid columns=\"equal\">\n      <Grid.Row className=\"header\">\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Proposal Title</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Date</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Shares Requested</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Tribute Offered</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Vote</p>\n        </Grid.Column>\n        <Grid.Column textAlign=\"center\">\n          <p className=\"subtext\">Status</p>\n        </Grid.Column>\n      </Grid.Row>\n      {proposals && proposals.length > 0 ? (\n        proposals.map((p, idx) => {\n          console.log(\"p: \", p);\n          return (\n            <React.Fragment key={idx}>\n                <Grid.Row verticalAlign=\"middle\">\n                  <Grid.Column textAlign=\"center\">\n                    <Link to={{ pathname: `/proposals/${p.proposal.id}` }} className=\"uncolored\">\n                    {p.uintVote === Vote.Yes && <Label className=\"dot\" circular color=\"green\" empty />}\n                    {/* TODO: is this right? */}\n                    {(p.uintVote === Vote.No || p.uintVote === Vote.Null) && <Label className=\"dot\" circular color=\"red\" empty />}\n                    {p.proposal.title}\n                    </Link>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\">\n                    <p className=\"subtext date\">{new Date(p.proposal.timestamp * 1000).toISOString().slice(0, 10)}</p>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\">\n                    <p className=\"subtext date\">{p.proposal.sharesRequested}</p>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\">\n                    <p className=\"subtext date\">{utils.formatEther(p.proposal.tokenTribute)}</p>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\">\n                    <Header as=\"p\" color={p.uintVote === Vote.Yes ? \"green\" : p.uintVote === Vote.No ? \"red\" : null}>\n                      {p.uintVote === Vote.Yes ? \"Y\" : p.uintVote === Vote.No ? \"N\" : \"\"}\n                    </Header>\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"center\">\n                    <p className=\"subtext date\">{getProposalCountdownText(p.proposal)}</p>\n                  </Grid.Column>\n              </Grid.Row>\n              <Divider />\n            </React.Fragment>\n          );\n        })\n      ) : (\n        <Grid.Row verticalAlign=\"middle\">\n          <Grid.Column textAlign=\"center\">This member hasn't voted on any proposals yet.</Grid.Column>\n        </Grid.Row>\n      )}\n    </Grid>\n  </Segment>\n);\n\nconst MemberDetailView = props => (\n  <Composed name={props.match.params.name}>\n    {({ memberDetail, metadata }) => {\n      if (memberDetail.loading || metadata.loading) return <Segment className=\"blurred box\">Loading...</Segment>;\n      if (memberDetail.error) throw new Error(`Error!: ${memberDetail.error}`);\n      if (metadata.error) throw new Error(`Error!: ${metadata.error}`);\n      console.log('memberDetail.data: ', memberDetail.data.member.votes);\n      return (\n        <div id=\"member_detail\">\n          <p className=\"title\"> {props.match.params.name} </p>\n          <Divider />\n          <Grid columns={16}>\n            <Grid.Row className=\"details\">\n              <Grid.Column mobile={16} tablet={16} computer={6} className=\"user\">\n                <MemberDetail\n                  loggedInUser={props.loggedInUser}\n                  member={memberDetail.data.member}\n                  shareValue={metadata.data.shareValue}\n                  exchangeRate={metadata.data.exchangeRate}\n                />\n              </Grid.Column>\n              <Grid.Column mobile={16} tablet={16} computer={10} className=\"proposals\">\n                <ProposalDetail proposals={memberDetail.data.member.votes} />\n              </Grid.Column>\n            </Grid.Row>\n          </Grid>\n        </div>\n      );\n    }}\n  </Composed>\n);\n\nexport default MemberDetailView;\n","import React from \"react\";\nimport { Grid, Image, Divider } from \"semantic-ui-react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\n\nimport MemberDetail from \"./MemberDetail\";\nimport bull from \"assets/bull.png\";\nimport hood from \"assets/hood.png\";\n\nimport { Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { GET_MEMBERS, GET_MEMBER_DETAIL } from \"../helpers/graphQlQueries\";\n\nconst MemberAvatar = ({ address, shares }) => (\n  <Grid.Column mobile={5} tablet={3} computer={3} textAlign=\"center\" className=\"member_avatar\" title={address}>\n    <Link to={`/members/${address}`} className=\"uncolored\">\n      <Image src={hood} centered size=\"tiny\" />\n      <p className=\"name\">{!address ? \"\" : address.length > 10 ? address.substring(0, 10) + \"...\" : address}</p>\n      <p className=\"subtext\">{shares} shares</p>\n    </Link>\n  </Grid.Column>\n);\n\nconst LoggedInUser = props => (\n  <Query query={GET_MEMBER_DETAIL} variables={{ address: props.loggedInUser }}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.member && data.member.isActive ? (\n        <Link to={`/members/${data.member.id}`} className=\"uncolored\">\n          <Image centered src={bull} size=\"tiny\" />\n          <p className=\"name\">{!data.member.id ? \"\" : data.member.id.length > 10 ? data.member.id.substring(0, 10) + \"...\" : data.member.id}</p>\n          <p className=\"subtext\">{data.member.shares ? data.member.shares : 0} shares</p>\n        </Link>\n      ) : (\n        <div />\n      );\n    }}\n  </Query>\n);\n\nconst GET_ELDERS = gql`\n  {\n    members(first: 100, where: { shares_gte: 100, isActive: true }) {\n      id\n      shares\n    }\n  }\n`;\nconst Elders = () => (\n  <Query query={GET_ELDERS}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.members.length > 0 ? (\n        data.members.map((elder, idx) => <MemberAvatar address={elder.id} shares={elder.shares} key={idx} />)\n      ) : (\n        <>No elders to show.</>\n      );\n    }}\n  </Query>\n);\n\nconst GET_NON_ELDERS = gql`\n  {\n    members(first: 100, where: { shares_gt: 0, shares_lt: 100, isActive: true }) {\n      id\n      shares\n    }\n  }\n`;\nconst Contributors = () => (\n  <Query query={GET_NON_ELDERS}>\n    {({ loading, error, data }) => {\n      if (loading) return \"...\";\n      if (error) throw new Error(`Error!: ${error}`);\n      return data.members.length > 0 ? (\n        data.members.map((contributor, idx) => <MemberAvatar address={contributor.id} shares={contributor.shares} key={idx} />)\n      ) : (\n        <>No contributors to show.</>\n      );\n    }}\n  </Query>\n);\n\nconst MemberList = props => (\n  <Query query={GET_MEMBERS}>\n    {({ loading, error, data }) => {\n      let members;\n      if (error) {\n        members = \"NA\";\n        console.error(`Could not load members: ${error}`);\n      } else if (loading) {\n        members = \"-\";\n      } else {\n        members = data.members.length;\n      }\n      return (\n        <div id=\"member_list\">\n          <Grid columns={16} verticalAlign=\"middle\">\n            <Grid.Column mobile={16} tablet={6} computer={6} textAlign=\"left\" className=\"member_list_header\">\n              <p className=\"subtext\">{members} Members</p>\n            </Grid.Column>\n\n            {/* <Grid.Column mobile={16} tablet={10} computer={10} textAlign=\"right\" className=\"submit_button\">\n              <Link to='/membershipproposalsubmission' className=\"link\">\n                <Button size='large' color='red' disabled={(props.user.status === 'founder') ? true : false}>Membership Proposal</Button>\n              </Link>\n            </Grid.Column> */}\n          </Grid>\n\n          <Grid>\n            <Grid.Column textAlign=\"center\">\n              <LoggedInUser {...props} />\n            </Grid.Column>\n          </Grid>\n          <Grid className=\"member_item\">\n            <Grid.Row>\n              <p style={{ paddingLeft: \"1rem\" }}>Elders (100+ shares)</p>\n            </Grid.Row>\n            <Divider />\n            <Grid.Row className=\"members_row\" centered>\n              <Elders />\n            </Grid.Row>\n          </Grid>\n          <Grid className=\"member_item\">\n            <Grid.Row>\n              <p style={{ paddingLeft: \"1rem\" }}>Contributors</p>\n            </Grid.Row>\n            <Divider />\n            <Grid.Row className=\"members_row\" centered>\n              <Contributors />\n            </Grid.Row>\n          </Grid>\n        </div>\n      );\n    }}\n  </Query>\n);\n\nconst MemberListView = higherProps => (\n  <Switch>\n    <Route exact path=\"/members\" render={props => <MemberList {...props} loggedInUser={higherProps.loggedInUser} />} />\n    <Route path=\"/members/:name\" render={props => <MemberDetail {...props} loggedInUser={higherProps.loggedInUser} />} />\n  </Switch>\n);\n\nexport default MemberListView;\n","import React, { Component } from \"react\";\nimport { Grid, Button } from \"semantic-ui-react\";\n\nimport { initGnosisSafe, initMetamask } from \"../web3\";\nimport { ApolloConsumer } from \"react-apollo\";\n\nlet coinbase;\n\nexport default class Login extends Component {\n  // bypass auth for now\n  loginWithMetamask = async client => {\n    const web3 = await initMetamask();\n    if (!web3) {\n      return\n    }\n    await this.doLoginBypassAuth(client, web3);\n  };\n\n  loginWithGnosisSafe = async client => {\n    const web3 = initGnosisSafe();\n    if (!web3) {\n      return\n    }\n    await this.doLoginBypassAuth(client, web3);\n  };\n\n  doLoginBypassAuth = async (client, web3) => {\n    coinbase = (await web3.listAccounts())[0];\n\n    if (!coinbase) {\n      alert(\"Could not retrieve address from Gnosis Safe/MetaMask, is it configured and this domain whitelisted?\");\n    } else {\n      // Try getting a user by their public address.\n      client.writeData({\n        data: {\n          loggedInUser: coinbase.toLowerCase()\n        }\n      });\n      this.props.loginComplete()\n      window.localStorage.setItem(\"loggedInUser\", coinbase.toLowerCase())\n      this.props.history.push(\"/\");\n    }\n  };\n\n  render() {\n    return (\n      <ApolloConsumer>\n        {client => (\n          <div id=\"login\">\n            <Grid columns={1} centered>\n              <Grid.Row>\n                <Button size=\"large\" color=\"grey\" onClick={() => this.loginWithMetamask(client)}>\n                  Connect With Web3\n                </Button>\n              </Grid.Row>\n              <Grid.Row>\n                <Button size=\"large\" color=\"grey\" onClick={() => this.loginWithGnosisSafe(client)}>\n                  Connect With Web3 (Gnosis Safe)\n                </Button>\n              </Grid.Row>\n            </Grid>\n          </div>\n        )}\n      </ApolloConsumer>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button, Divider, Form, Grid, Input, Segment, GridColumn } from \"semantic-ui-react\";\nimport { getMoloch } from \"../web3\";\nimport { utils } from \"ethers\";\n\nexport default class ProposalSubmission extends Component {\n  state = {\n    address: \"\",\n    title: \"\",\n    description: \"\",\n    shares: \"\",\n    tribute: \"\", // TODO: this will be calculated with the blockchain\n    fieldValidationErrors: { title: \"\", description: \"\", assets: \"\", shares: \"\" },\n    titleValid: false,\n    descriptionValid: false,\n    tributeValid: false,\n    sharesValid: false,\n    addressValid: false,\n    formValid: false\n  };\n\n  async componentDidMount() {\n    const { loggedInUser } = this.props\n    const moloch = await getMoloch(loggedInUser);\n    this.setState({\n      moloch\n    });\n  }\n\n  validateField = (fieldName, value) => {\n    let { fieldValidationErrors, titleValid, descriptionValid, tributeValid, sharesValid, addressValid } = this.state\n\n    switch (fieldName) {\n      case \"title\":\n        titleValid = value !== \"\";\n        fieldValidationErrors.title = titleValid ? \"\" : \"Title is invalid\";\n        break;\n      case \"address\":\n        addressValid = utils.isHexString(value)\n        console.log('utils.isHexString(value): ', utils.isHexString(value));\n        console.log('value: ', value);\n        fieldValidationErrors.address = addressValid ? \"\" : \"Address is invalid\";\n        break\n      case \"description\":\n        descriptionValid = value !== \"\";\n        fieldValidationErrors.description = descriptionValid ? \"\" : \"Description is invalid\";\n        break;\n      case \"shares\":\n        sharesValid = value > 0;\n        fieldValidationErrors.shares = sharesValid ? \"\" : \"Shares is invalid\";\n        break;\n      case \"tribute\":\n        tributeValid = value > 0;\n        fieldValidationErrors.tribute = tributeValid ? \"\" : \"Tribute is invalid\";\n        break;\n      default:\n        break;\n    }\n    this.setState(\n      {\n        fieldValidationErrors,\n        titleValid,\n        descriptionValid,\n        tributeValid,\n        sharesValid,\n        addressValid\n      },\n      this.validateForm\n    );\n  }\n\n  validateForm = () => {\n    const { titleValid, descriptionValid, sharesValid, tributeValid, addressValid } = this.state\n    this.setState({ formValid: titleValid && descriptionValid && sharesValid && tributeValid && addressValid});\n  }\n\n  handleInput = (event) => {\n    let name = event.target.name;\n    let value = event.target.value;\n    this.setState({ [event.target.name]: event.target.value }, () => {\n      this.validateField(name, value);\n    });\n  }\n\n  handleSubmit = async () => {\n    const { moloch, formValid, address, title, description, shares, tribute } = this.state\n\n    if (formValid || true) {\n      try {\n        const tx = await moloch.submitProposal(address, tribute, shares, JSON.stringify({ title, description }))\n        console.log('tx: ', tx);\n      } catch (e) {\n        console.error(e);\n        alert(\"Error processing proposal\");\n      }\n    } else {\n      alert(\"Please fill any missing fields.\");\n    }\n  }\n\n  render() {\n    const { shares, tribute, title, description, address } = this.state\n    return (\n      <div id=\"proposal_submission\">\n        <Form>\n          <Grid centered columns={16}>\n            <Grid.Row stretched>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Input\n                  name=\"title\"\n                  transparent\n                  size=\"big\"\n                  inverted\n                  placeholder=\"Proposal Title\"\n                  onChange={this.handleInput}\n                  value={title}\n                />\n                <Divider />\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row stretched>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Segment className=\"blurred box\">\n                  <Form.Input\n                    name=\"address\"\n                    label=\"Beneficiary or Applicant\"\n                    placeholder=\"Address\"\n                    fluid\n                    onChange={this.handleInput}\n                    value={address}\n                  />\n                  <Form.Input\n                    name=\"shares\"\n                    label=\"Shares Requested\"\n                    placeholder=\"Shares\"\n                    fluid\n                    type=\"number\"\n                    onChange={this.handleInput}\n                    value={shares}\n                  />\n                  <Form.Input\n                    name=\"tribute\"\n                    label=\"Tribute Offered (in ETH)\"\n                    placeholder=\"ETH\"\n                    fluid\n                    type=\"number\"\n                    onChange={this.handleInput}\n                    value={tribute}\n                  />\n                </Segment>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Column mobile={16} tablet={16} computer={12}>\n                <Grid columns=\"equal\">\n                  <Grid.Column>\n                    <Segment className=\"blurred box\">\n                      <Form.TextArea\n                        name=\"description\"\n                        label=\"Description\"\n                        placeholder=\"Type here\"\n                        rows={15}\n                        onChange={this.handleInput}\n                        value={description}\n                      />\n                    </Segment>\n                  </Grid.Column>\n                </Grid>\n              </Grid.Column>\n            </Grid.Row>\n            <Grid.Row>\n              <GridColumn mobile={16} tablet={8} computer={8} className=\"submit_button\">\n                <Button size=\"large\" color=\"red\" onClick={this.handleSubmit}>\n                  Submit Proposal\n                </Button>\n              </GridColumn>\n            </Grid.Row>\n          </Grid>\n        </Form>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Grid, Image, Divider, Button } from \"semantic-ui-react\";\nimport ethereumIcon from \"assets/ethereumIcon.png\";\nimport { Query } from \"react-apollo\";\nimport { GET_MEMBER_DETAIL } from \"../helpers/graphQlQueries\";\n\nconst currencies = [\n  {\n    name: \"ETH\",\n    shares: 508,\n    value: 32000,\n    icon: ethereumIcon\n  }\n];\n\nconst CurrencyElement = ({ name, shares, icon, value }) => (\n  <Grid.Column mobile={5} tablet={3} computer={3} textAlign=\"center\" className=\"currency_element\">\n    <Image src={icon} centered size=\"tiny\" circular />\n    <p className=\"name\">{name}</p>\n    <p className=\"shares\">{shares}</p>\n    <p className=\"subtext\">{\"$\" + value}</p>\n  </Grid.Column>\n);\n\nexport default class GuildBank extends React.Component {\n  state = {\n    isActive: true\n  };\n\n  redeemToken() {}\n\n  render() {\n    return (\n      <Query query={GET_MEMBER_DETAIL} variables={{ address: this.props.loggedInUser }}>\n        {({ loading, error, data }) => {\n          if (loading) return \"Loading...\";\n          if (error) throw new Error(`Error!: ${error}`);\n          return (\n            <div id=\"guild_bank\">\n              <Grid>\n                <Grid.Column textAlign=\"center\" className=\"guild_value\">\n                  <p className=\"subtext\">Guild Bank Value</p>\n                  <p className=\"amount\">$53,640,918</p>\n                  <Button size=\"large\" color=\"grey\" disabled={data.member.isActive && this.state.isActive ? false : true} onClick={this.redeemToken}>\n                    Redeem Loot Token\n                  </Button>\n                </Grid.Column>\n              </Grid>\n\n              <Grid>\n                <Grid.Row />\n                <Divider />\n                <Grid.Row centered>\n                  {currencies.map((elder, idx) => (\n                    <CurrencyElement {...elder} key={idx} />\n                  ))}\n                </Grid.Row>\n              </Grid>\n            </div>\n          );\n        }}\n      </Query>\n    );\n  }\n}\n","import { ProposalStatus } from \"./helpers/proposals\";\nimport gql from \"graphql-tag\";\n\nexport const resolvers = {\n  Proposal: {\n    status: () => ProposalStatus.Unknown,\n    title: () => \"\",\n    description: () => \"\",\n    gracePeriod: () => 0,\n    votingEnds: () => 0,\n    votingStarts: () => 0,\n    readyForProcessing: () => false\n  },\n  Mutation: {\n    setAttributes: (_, variables, { cache }) => {\n      const id = `Proposal:${variables.id}`;\n      const fragment = gql`\n        fragment getMeta on Proposal {\n          status\n          title\n          description\n          gracePeriod\n          votingEnds\n          votingStarts\n          readyForProcessing\n        }\n      `;\n      const proposal = cache.readFragment({ fragment, id });\n      const data = {\n        ...proposal,\n        status: variables.status,\n        title: variables.title,\n        description: variables.description,\n        gracePeriod: variables.gracePeriod,\n        votingEnds: variables.votingEnds,\n        votingStarts: variables.votingStarts,\n        readyForProcessing: variables.readyForProcessing\n      };\n      cache.writeData({ id, data });\n      return data;\n    }\n  }\n};\n","import gql from \"graphql-tag\";\n\nexport const typeDefs = gql`\n  extend type Proposal {\n    status: String\n    title: String\n    description: String\n    gracePeriod: Number\n    votingEnds: Number\n    votingStarts: Number\n    readyForProcessing: Bool\n  }\n\n  extend type Query {\n    proposalsWithStatus: [Proposal]\n  }\n`;","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\n\nimport Background from \"./components/Background\";\nimport Header from \"./components/Header\";\nimport Wrapper from \"./components/Wrapper\";\nimport Home from \"./components/Home\";\nimport ProposalList from \"./components/ProposalList\";\nimport MemberList from \"./components/MemberList\";\nimport ProposalSubmission from \"./components/ProposalSubmission\";\nimport GuildBank from \"./components/GuildBank\";\nimport Login from \"./components/Login\";\nimport { ApolloProvider, Query } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { resolvers } from \"./resolvers\";\nimport { typeDefs } from \"./schema\";\nimport { ApolloClient } from \"apollo-client\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { GET_METADATA } from \"./helpers/graphQlQueries\";\nimport { getMedianizer, getMoloch, getToken } from \"./web3\";\nimport { utils } from \"ethers\";\nimport { adopt } from \"react-adopt\";\n\nconsole.log(process.env);\n\nconst cache = new InMemoryCache();\n\nconst client = new ApolloClient({\n  cache,\n  link: new HttpLink({\n    uri: process.env.REACT_APP_GRAPH_NODE_URI\n  }),\n  resolvers,\n  typeDefs\n});\n\nconst initialData = {\n  loggedInUser: \"\",\n  guildBankValue: \"\",\n  shareValue: \"\",\n  totalShares: \"\",\n  currentPeriod: \"\",\n  exchangeRate: \"\"\n};\ncache.writeData({\n  data: { ...initialData, loggedInUser: window.localStorage.getItem(\"loggedInUser\") || \"\" }\n});\nclient.onResetStore(() => cache.writeData({ data: initialData }));\n\nconst IS_LOGGED_IN = gql`\n  query IsUserLoggedIn {\n    loggedInUser @client\n  }\n`;\n\nconst Composed = adopt({\n  loggedInUserData: ({ render }) => <Query query={IS_LOGGED_IN}>{render}</Query>,\n  metadata: ({ render }) => <Query query={GET_METADATA}>{render}</Query>\n});\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      restored: false,\n      exchangeRate: \"0\",\n      totalShares: \"0\",\n      guildBankValue: \"0\"\n    };\n  }\n\n  async componentDidMount() {\n    // await persistor.restore();\n    await this.populateData(true);\n    this.setState({ restored: true });\n  }\n\n  async populateData(refetch) {\n    let {\n      data: { loggedInUser }\n    } = await client.query({\n      query: IS_LOGGED_IN\n    });\n\n    let {\n      data: { exchangeRate, totalShares, currentPeriod, guildBankValue, shareValue }\n    } = await client.query({\n      query: GET_METADATA\n    });\n\n    if (!exchangeRate || refetch) {\n      const medianizer = await getMedianizer(loggedInUser);\n      exchangeRate = (await medianizer.compute())[0];\n      exchangeRate = utils.bigNumberify(exchangeRate);\n    }\n\n    if (!totalShares || !currentPeriod || refetch) {\n      const moloch = await getMoloch();\n      totalShares = await moloch.totalShares();\n      currentPeriod = await moloch.getCurrentPeriod();\n    }\n\n    const token = await getToken();\n    if (!guildBankValue || refetch) {\n      guildBankValue = await token.balanceOf(process.env.REACT_APP_GUILD_BANK_ADDRESS);\n    }\n\n    if (guildBankValue && totalShares) {\n      const ethPerShare = guildBankValue.gt(0) ? totalShares.toNumber() / parseFloat(utils.formatEther(guildBankValue)) : 0; // in eth\n      shareValue = utils.parseEther(ethPerShare.toString()); // in wei\n    }\n\n    const dataToWrite = {\n      guildBankValue: guildBankValue.toString(),\n      shareValue: shareValue.toString(),\n      totalShares: totalShares.toString(),\n      currentPeriod: currentPeriod.toString(),\n      exchangeRate: exchangeRate.toString()\n    };\n    console.log(\"dataToWrite: \", dataToWrite);\n\n    client.writeData({\n      data: dataToWrite\n    });\n  }\n\n  render() {\n    return this.state.restored ? (\n      <ApolloProvider client={client}>\n        <Router basename={process.env.PUBLIC_URL}>\n          <Composed>\n            {({ loggedInUserData, metadata }) => {\n              return (\n                <>\n                  <Background />\n                  <Header loggedInUser={loggedInUserData.data.loggedInUser} client={client} populateData={this.populateData} />\n                  <Wrapper>\n                    <Switch>\n                      <Route\n                        exact\n                        path=\"/\"\n                        render={props => <Home {...props} loggedInUser={loggedInUserData.data.loggedInUser} />}\n                      />\n                      <Route\n                        path=\"/proposals\"\n                        render={props =><ProposalList {...props} loggedInUser={loggedInUserData.data.loggedInUser} />}\n                      />\n                      <Route\n                        path=\"/members\"\n                        render={props => <MemberList {...props} loggedInUser={loggedInUserData.data.loggedInUser} />}\n                      />\n                      <Route\n                        path=\"/proposalsubmission\"\n                        render={props =>\n                          loggedInUserData.data.loggedInUser ? (\n                            <ProposalSubmission {...props} loggedInUser={loggedInUserData.data.loggedInUser} />\n                          ) : (\n                            <Redirect to={{ pathname: \"/\" }} />\n                          )\n                        }\n                      />\n                      <Route\n                        component={props => <Home {...props} loggedInUser={loggedInUserData.data.loggedInUser} />}\n                      />\n                    </Switch>\n                  </Wrapper>\n                </>\n              );\n            }}\n          </Composed>\n        </Router>\n      </ApolloProvider>\n    ) : (\n      <div>Loading!!!</div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'semantic-ui-css/semantic.min.css';\n\nimport './index.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/hood.ba69d28c.png\";"],"sourceRoot":""}